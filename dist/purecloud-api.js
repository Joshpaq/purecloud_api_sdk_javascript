(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.purecloud || (g.purecloud = {})).platform = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/* jshint node: true */

'use strict';

exports.AlertingApi = require('./partials/AlertingApi');
exports.ConversationsApi = require('./partials/ConversationsApi');
exports.AnalyticsApi = require('./partials/AnalyticsApi');
exports.QualityApi = require('./partials/QualityApi');
exports.RoutingApi = require('./partials/RoutingApi');
exports.UsersApi = require('./partials/UsersApi');
exports.AttributesApi = require('./partials/AttributesApi');
exports.AuthorizationApi = require('./partials/AuthorizationApi');
exports.UtilitiesApi = require('./partials/UtilitiesApi');
exports.TelephonyProvidersEdgeApi = require('./partials/TelephonyProvidersEdgeApi');
exports.ContentManagementApi = require('./partials/ContentManagementApi');
exports.RecordingApi = require('./partials/RecordingApi');
exports.FaxApi = require('./partials/FaxApi');
exports.GeolocationApi = require('./partials/GeolocationApi');
exports.GreetingsApi = require('./partials/GreetingsApi');
exports.GroupsApi = require('./partials/GroupsApi');
exports.SearchApi = require('./partials/SearchApi');
exports.IdentityProviderApi = require('./partials/IdentityProviderApi');
exports.LanguagesApi = require('./partials/LanguagesApi');
exports.LocationsApi = require('./partials/LocationsApi');
exports.NotificationsApi = require('./partials/NotificationsApi');
exports.OAuthApi = require('./partials/OAuthApi');
exports.OrganizationApi = require('./partials/OrganizationApi');
exports.OutboundApi = require('./partials/OutboundApi');
exports.PresenceApi = require('./partials/PresenceApi');
exports.ConfigurationApi = require('./partials/ConfigurationApi');
exports.ResponseManagementApi = require('./partials/ResponseManagementApi');
exports.SuggestApi = require('./partials/SuggestApi');
exports.StationsApi = require('./partials/StationsApi');
exports.TokensApi = require('./partials/TokensApi');
exports.UserRecordingsApi = require('./partials/UserRecordingsApi');
exports.VoicemailApi = require('./partials/VoicemailApi');
exports.PureCloudSession = require('./partials/purecloudsession');

},{"./partials/AlertingApi":2,"./partials/AnalyticsApi":3,"./partials/AttributesApi":4,"./partials/AuthorizationApi":5,"./partials/ConfigurationApi":6,"./partials/ContentManagementApi":7,"./partials/ConversationsApi":8,"./partials/FaxApi":9,"./partials/GeolocationApi":10,"./partials/GreetingsApi":11,"./partials/GroupsApi":12,"./partials/IdentityProviderApi":13,"./partials/LanguagesApi":14,"./partials/LocationsApi":15,"./partials/NotificationsApi":16,"./partials/OAuthApi":17,"./partials/OrganizationApi":18,"./partials/OutboundApi":19,"./partials/PresenceApi":20,"./partials/QualityApi":21,"./partials/RecordingApi":22,"./partials/ResponseManagementApi":23,"./partials/RoutingApi":24,"./partials/SearchApi":25,"./partials/StationsApi":26,"./partials/SuggestApi":27,"./partials/TelephonyProvidersEdgeApi":28,"./partials/TokensApi":29,"./partials/UserRecordingsApi":30,"./partials/UsersApi":31,"./partials/UtilitiesApi":32,"./partials/VoicemailApi":33,"./partials/purecloudsession":34}],2:[function(require,module,exports){
'use strict';

/**
* @class AlertingApi
* @example
* var api = new purecloud.platform.AlertingApi(pureCloudSession);
*/
function AlertingApi(session) {
  if (!(this instanceof AlertingApi)) {
    return new AlertingApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('AlertingApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get heart beat alert list.
  * @memberOf AlertingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AlertingApi.prototype.getHeartbeatAlerts = function getHeartbeatAlerts() {
  var requestPath = '/api/v2/alerting/heartbeat/alerts';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a heart beat alert
  * @memberOf AlertingApi
  * @instance
  * @param {string} alertId - Alert ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "ruleId": "",
   "startDate": "",
   "endDate": "",
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": "",
   "ruleUri": "",
   "selfUri": ""
}
  */
AlertingApi.prototype.getHeartbeatAlertsAlertId = function getHeartbeatAlertsAlertId(alertId) {
  var requestPath = '/api/v2/alerting/heartbeat/alerts/{alertId}';
  var requestQuery = {};
  var requestBody;

  if (alertId === undefined || alertId === null) {
    throw new Error('Missing required  parameter: alertId');
  }
  requestPath = requestPath.replace('{alertId}', alertId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a heart beat alert
  * @memberOf AlertingApi
  * @instance
  * @param {string} alertId - Alert ID
  */
AlertingApi.prototype.deleteHeartbeatAlertsAlertId = function deleteHeartbeatAlertsAlertId(alertId) {
  var requestPath = '/api/v2/alerting/heartbeat/alerts/{alertId}';
  var requestQuery = {};
  var requestBody;

  if (alertId === undefined || alertId === null) {
    throw new Error('Missing required  parameter: alertId');
  }
  requestPath = requestPath.replace('{alertId}', alertId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a heart beat rule list.
  * @memberOf AlertingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AlertingApi.prototype.getHeartbeatRules = function getHeartbeatRules() {
  var requestPath = '/api/v2/alerting/heartbeat/rules';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a heart beat rule.
  * @memberOf AlertingApi
  * @instance
  * @param {} body - HeartBeatRule
  * @example
  * Body Example:
  * {
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "enabled": true,
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": "",
   "selfUri": ""
}
  */
AlertingApi.prototype.postHeartbeatRules = function postHeartbeatRules(body) {
  var requestPath = '/api/v2/alerting/heartbeat/rules';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a heart beat rule.
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": "",
   "selfUri": ""
}
  */
AlertingApi.prototype.getHeartbeatRulesRuleId = function getHeartbeatRulesRuleId(ruleId) {
  var requestPath = '/api/v2/alerting/heartbeat/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a heart beat rule
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  * @param {} body - HeartBeatRule
  * @example
  * Body Example:
  * {
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "enabled": true,
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "senderId": "",
   "heartBeatTimeoutInMinutes": 0,
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "ruleType": "",
   "selfUri": ""
}
  */
AlertingApi.prototype.putHeartbeatRulesRuleId = function putHeartbeatRulesRuleId(ruleId, body) {
  var requestPath = '/api/v2/alerting/heartbeat/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a heart beat rule.
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  */
AlertingApi.prototype.deleteHeartbeatRulesRuleId = function deleteHeartbeatRulesRuleId(ruleId) {
  var requestPath = '/api/v2/alerting/heartbeat/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get interaction stats alert list.
  * @memberOf AlertingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AlertingApi.prototype.getInteractionstatsAlerts = function getInteractionstatsAlerts() {
  var requestPath = '/api/v2/alerting/interactionstats/alerts';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets user unread count of interaction stats alerts.
  * @memberOf AlertingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "count": 0
}
  */
AlertingApi.prototype.getInteractionstatsAlertsUnread = function getInteractionstatsAlertsUnread() {
  var requestPath = '/api/v2/alerting/interactionstats/alerts/unread';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an interaction stats alert
  * @memberOf AlertingApi
  * @instance
  * @param {string} alertId - Alert ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "ruleId": "",
   "unread": true,
   "startDate": "",
   "endDate": "",
   "notificationUsers": [],
   "alertTypes": [],
   "ruleUri": "",
   "selfUri": ""
}
  */
AlertingApi.prototype.getInteractionstatsAlertsAlertId = function getInteractionstatsAlertsAlertId(alertId) {
  var requestPath = '/api/v2/alerting/interactionstats/alerts/{alertId}';
  var requestQuery = {};
  var requestBody;

  if (alertId === undefined || alertId === null) {
    throw new Error('Missing required  parameter: alertId');
  }
  requestPath = requestPath.replace('{alertId}', alertId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an interaction stats alert read status
  * @memberOf AlertingApi
  * @instance
  * @param {string} alertId - Alert ID
  * @param {} body - InteractionStatsAlert
  * @example
  * Body Example:
  * {
   "unread": true
}
  * @example
  * 200 Response Example:
  * {
   "unread": true
}
  */
AlertingApi.prototype.putInteractionstatsAlertsAlertId = function putInteractionstatsAlertsAlertId(alertId, body) {
  var requestPath = '/api/v2/alerting/interactionstats/alerts/{alertId}';
  var requestQuery = {};
  var requestBody;

  if (alertId === undefined || alertId === null) {
    throw new Error('Missing required  parameter: alertId');
  }
  requestPath = requestPath.replace('{alertId}', alertId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an interaction stats alert
  * @memberOf AlertingApi
  * @instance
  * @param {string} alertId - Alert ID
  */
AlertingApi.prototype.deleteInteractionstatsAlertsAlertId = function deleteInteractionstatsAlertsAlertId(alertId) {
  var requestPath = '/api/v2/alerting/interactionstats/alerts/{alertId}';
  var requestQuery = {};
  var requestBody;

  if (alertId === undefined || alertId === null) {
    throw new Error('Missing required  parameter: alertId');
  }
  requestPath = requestPath.replace('{alertId}', alertId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an interaction stats rule list.
  * @memberOf AlertingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AlertingApi.prototype.getInteractionstatsRules = function getInteractionstatsRules() {
  var requestPath = '/api/v2/alerting/interactionstats/rules';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create an interaction stats rule.
  * @memberOf AlertingApi
  * @instance
  * @param {} body - AlertingRule
  * @example
  * Body Example:
  * {
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "enabled": true,
   "notificationUsers": [],
   "alertTypes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "selfUri": ""
}
  */
AlertingApi.prototype.postInteractionstatsRules = function postInteractionstatsRules(body) {
  var requestPath = '/api/v2/alerting/interactionstats/rules';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an interaction stats rule.
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "selfUri": ""
}
  */
AlertingApi.prototype.getInteractionstatsRulesRuleId = function getInteractionstatsRulesRuleId(ruleId) {
  var requestPath = '/api/v2/alerting/interactionstats/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an interaction stats rule
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  * @param {} body - AlertingRule
  * @example
  * Body Example:
  * {
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "enabled": true,
   "notificationUsers": [],
   "alertTypes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dimension": "",
   "dimensionValue": "",
   "metric": "",
   "mediaType": "",
   "numericRange": "",
   "statistic": "",
   "value": {},
   "enabled": true,
   "inAlarm": true,
   "notificationUsers": [],
   "alertTypes": [],
   "selfUri": ""
}
  */
AlertingApi.prototype.putInteractionstatsRulesRuleId = function putInteractionstatsRulesRuleId(ruleId, body) {
  var requestPath = '/api/v2/alerting/interactionstats/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an interaction stats rule.
  * @memberOf AlertingApi
  * @instance
  * @param {string} ruleId - Rule ID
  */
AlertingApi.prototype.deleteInteractionstatsRulesRuleId = function deleteInteractionstatsRulesRuleId(ruleId) {
  var requestPath = '/api/v2/alerting/interactionstats/rules/{ruleId}';
  var requestQuery = {};
  var requestBody;

  if (ruleId === undefined || ruleId === null) {
    throw new Error('Missing required  parameter: ruleId');
  }
  requestPath = requestPath.replace('{ruleId}', ruleId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = AlertingApi;

},{}],3:[function(require,module,exports){
'use strict';

/**
* @class AnalyticsApi
* @example
* var api = new purecloud.platform.AnalyticsApi(pureCloudSession);
*/
function AnalyticsApi(session) {
  if (!(this instanceof AnalyticsApi)) {
    return new AnalyticsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('AnalyticsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Query for conversation aggregates
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
AnalyticsApi.prototype.postConversationsAggregatesQuery = function postConversationsAggregatesQuery(body) {
  var requestPath = '/api/v2/analytics/conversations/aggregates/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for conversation details
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "conversationFilters": [],
   "evaluationFilters": [],
   "segmentFilters": [],
   "aggregations": [],
   "paging": {
      "pageSize": 0,
      "pageNumber": 0
   },
   "order": "",
   "orderBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "conversations": [],
   "aggregations": []
}
  */
AnalyticsApi.prototype.postConversationsDetailsQuery = function postConversationsDetailsQuery(body) {
  var requestPath = '/api/v2/analytics/conversations/details/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a conversation by id
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} conversationId - conversationId
  * @example
  * 200 Response Example:
  * {
   "conversationId": "",
   "conversationStart": "",
   "participants": [],
   "evaluations": []
}
  */
AnalyticsApi.prototype.getConversationsConversationIdDetails = function getConversationsConversationIdDetails(conversationId) {
  var requestPath = '/api/v2/analytics/conversations/{conversationId}/details';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Index conversation properties
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {} body - request
  * @example
  * Body Example:
  * {
   "sessionId": "",
   "timestamp": 0,
   "properties": []
}
  * @example
  * 200 Response Example:
  * {
   "sessionId": "",
   "timestamp": 0,
   "properties": []
}
  */
AnalyticsApi.prototype.postConversationsConversationIdDetailsProperties = function postConversationsConversationIdDetailsProperties(conversationId, body) {
  var requestPath = '/api/v2/analytics/conversations/{conversationId}/details/properties';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for evaluation aggregates
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
AnalyticsApi.prototype.postEvaluationsAggregatesQuery = function postEvaluationsAggregatesQuery(body) {
  var requestPath = '/api/v2/analytics/evaluations/aggregates/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for queue observations
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": []
}
  * @example
  * 200 Response Example:
  * {
   "systemToOrganizationMappings": {},
   "results": []
}
  */
AnalyticsApi.prototype.postQueuesObservationsQuery = function postQueuesObservationsQuery(body) {
  var requestPath = '/api/v2/analytics/queues/observations/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of reporting metadata.
  * @memberOf AnalyticsApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} locale - Locale
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AnalyticsApi.prototype.getReportingMetadata = function getReportingMetadata(pageNumber, pageSize, locale) {
  var requestPath = '/api/v2/analytics/reporting/metadata';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  requestQuery["locale"] = locale;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of report formats
  * @description Get a list of report formats.
  * @memberOf AnalyticsApi
  * @instance
  */
AnalyticsApi.prototype.getReportingReportformats = function getReportingReportformats() {
  var requestPath = '/api/v2/analytics/reporting/reportformats';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of scheduled report jobs
  * @description Get a list of scheduled report jobs.
  * @memberOf AnalyticsApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AnalyticsApi.prototype.getReportingSchedules = function getReportingSchedules(pageNumber, pageSize) {
  var requestPath = '/api/v2/analytics/reporting/schedules';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a scheduled report job
  * @description Create a scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - ReportSchedule
  * @example
  * Body Example:
  * {
   "name": "",
   "quartzCronExpression": "",
   "nextFireTime": "",
   "dateCreated": "",
   "dateModified": "",
   "description": "",
   "timeZone": "",
   "timePeriod": "",
   "interval": "",
   "reportFormat": "",
   "locale": "",
   "enabled": true,
   "reportId": "",
   "parameters": {},
   "lastRun": {
      "name": "",
      "reportId": "",
      "runTime": "",
      "runStatus": "",
      "errorMessage": "",
      "runDurationMsec": 0,
      "reportUrl": "",
      "reportFormat": "",
      "scheduleUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "quartzCronExpression": "",
   "nextFireTime": "",
   "dateCreated": "",
   "dateModified": "",
   "description": "",
   "timeZone": "",
   "timePeriod": "",
   "interval": "",
   "reportFormat": "",
   "locale": "",
   "enabled": true,
   "reportId": "",
   "parameters": {},
   "lastRun": {
      "id": "",
      "name": "",
      "reportId": "",
      "runTime": "",
      "runStatus": "",
      "errorMessage": "",
      "runDurationMsec": 0,
      "reportUrl": "",
      "reportFormat": "",
      "scheduleUri": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
AnalyticsApi.prototype.postReportingSchedules = function postReportingSchedules(body) {
  var requestPath = '/api/v2/analytics/reporting/schedules';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "quartzCronExpression": "",
   "nextFireTime": "",
   "dateCreated": "",
   "dateModified": "",
   "description": "",
   "timeZone": "",
   "timePeriod": "",
   "interval": "",
   "reportFormat": "",
   "locale": "",
   "enabled": true,
   "reportId": "",
   "parameters": {},
   "lastRun": {
      "id": "",
      "name": "",
      "reportId": "",
      "runTime": "",
      "runStatus": "",
      "errorMessage": "",
      "runDurationMsec": 0,
      "reportUrl": "",
      "reportFormat": "",
      "scheduleUri": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
AnalyticsApi.prototype.getReportingSchedulesScheduleId = function getReportingSchedulesScheduleId(scheduleId) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  * @param {} body - ReportSchedule
  * @example
  * Body Example:
  * {
   "name": "",
   "quartzCronExpression": "",
   "nextFireTime": "",
   "dateCreated": "",
   "dateModified": "",
   "description": "",
   "timeZone": "",
   "timePeriod": "",
   "interval": "",
   "reportFormat": "",
   "locale": "",
   "enabled": true,
   "reportId": "",
   "parameters": {},
   "lastRun": {
      "name": "",
      "reportId": "",
      "runTime": "",
      "runStatus": "",
      "errorMessage": "",
      "runDurationMsec": 0,
      "reportUrl": "",
      "reportFormat": "",
      "scheduleUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "quartzCronExpression": "",
   "nextFireTime": "",
   "dateCreated": "",
   "dateModified": "",
   "description": "",
   "timeZone": "",
   "timePeriod": "",
   "interval": "",
   "reportFormat": "",
   "locale": "",
   "enabled": true,
   "reportId": "",
   "parameters": {},
   "lastRun": {
      "id": "",
      "name": "",
      "reportId": "",
      "runTime": "",
      "runStatus": "",
      "errorMessage": "",
      "runDurationMsec": 0,
      "reportUrl": "",
      "reportFormat": "",
      "scheduleUri": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
AnalyticsApi.prototype.putReportingSchedulesScheduleId = function putReportingSchedulesScheduleId(scheduleId, body) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  */
AnalyticsApi.prototype.deleteReportingSchedulesScheduleId = function deleteReportingSchedulesScheduleId(scheduleId) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of completed scheduled report jobs.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  * @param {integer} pageNumber - 
  * @param {integer} pageSize - 
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AnalyticsApi.prototype.getReportingSchedulesScheduleIdHistory = function getReportingSchedulesScheduleIdHistory(scheduleId, pageNumber, pageSize) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}/history';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get most recently completed scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "reportId": "",
   "runTime": "",
   "runStatus": "",
   "errorMessage": "",
   "runDurationMsec": 0,
   "reportUrl": "",
   "reportFormat": "",
   "scheduleUri": "",
   "selfUri": ""
}
  */
AnalyticsApi.prototype.getReportingSchedulesScheduleIdHistoryLatest = function getReportingSchedulesScheduleIdHistoryLatest(scheduleId) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}/history/latest';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary A completed scheduled report job
  * @description A completed scheduled report job.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} runId - Run ID
  * @param {string} scheduleId - Schedule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "reportId": "",
   "runTime": "",
   "runStatus": "",
   "errorMessage": "",
   "runDurationMsec": 0,
   "reportUrl": "",
   "reportFormat": "",
   "scheduleUri": "",
   "selfUri": ""
}
  */
AnalyticsApi.prototype.getReportingSchedulesScheduleIdHistoryRunId = function getReportingSchedulesScheduleIdHistoryRunId(runId, scheduleId) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}/history/{runId}';
  var requestQuery = {};
  var requestBody;

  if (runId === undefined || runId === null) {
    throw new Error('Missing required  parameter: runId');
  }
  requestPath = requestPath.replace('{runId}', runId);
  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Place a scheduled report immediately into the reporting queue
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} scheduleId - Schedule ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "selfUri": ""
}
  */
AnalyticsApi.prototype.postReportingSchedulesScheduleIdRunreport = function postReportingSchedulesScheduleIdRunreport(scheduleId) {
  var requestPath = '/api/v2/analytics/reporting/schedules/{scheduleId}/runreport';
  var requestQuery = {};
  var requestBody;

  if (scheduleId === undefined || scheduleId === null) {
    throw new Error('Missing required  parameter: scheduleId');
  }
  requestPath = requestPath.replace('{scheduleId}', scheduleId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of report time periods.
  * @memberOf AnalyticsApi
  * @instance
  */
AnalyticsApi.prototype.getReportingTimeperiods = function getReportingTimeperiods() {
  var requestPath = '/api/v2/analytics/reporting/timeperiods';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a reporting metadata.
  * @memberOf AnalyticsApi
  * @instance
  * @param {string} reportId - Report ID
  * @param {string} locale - Locale
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "title": "",
   "description": "",
   "keywords": [],
   "availableLocales": [],
   "parameters": [],
   "exampleUrl": "",
   "selfUri": ""
}
  */
AnalyticsApi.prototype.getReportingReportIdMetadata = function getReportingReportIdMetadata(reportId, locale) {
  var requestPath = '/api/v2/analytics/reporting/{reportId}/metadata';
  var requestQuery = {};
  var requestBody;

  if (reportId === undefined || reportId === null) {
    throw new Error('Missing required  parameter: reportId');
  }
  requestPath = requestPath.replace('{reportId}', reportId);
  requestQuery["locale"] = locale;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for user aggregates
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "systemToOrganizationMappings": {},
   "results": []
}
  */
AnalyticsApi.prototype.postUsersAggregatesQuery = function postUsersAggregatesQuery(body) {
  var requestPath = '/api/v2/analytics/users/aggregates/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for user observations
  * @memberOf AnalyticsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": []
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
AnalyticsApi.prototype.postUsersObservationsQuery = function postUsersObservationsQuery(body) {
  var requestPath = '/api/v2/analytics/users/observations/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

module.exports = AnalyticsApi;

},{}],4:[function(require,module,exports){
'use strict';

/**
* @class AttributesApi
* @example
* var api = new purecloud.platform.AttributesApi(pureCloudSession);
*/
function AttributesApi(session) {
  if (!(this instanceof AttributesApi)) {
    return new AttributesApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('AttributesApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Gets a list of existing attributes.
  * @memberOf AttributesApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AttributesApi.prototype.getAttributes = function getAttributes(pageNumber, pageSize) {
  var requestPath = '/api/v2/attributes';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create an attribute.
  * @memberOf AttributesApi
  * @instance
  * @param {} body - Attribute
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "description": "",
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateCreated": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateModified": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "description": "",
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateCreated": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateModified": "",
   "selfUri": ""
}
  */
AttributesApi.prototype.postAttributes = function postAttributes(body) {
  var requestPath = '/api/v2/attributes';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query attributes
  * @memberOf AttributesApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "query": "",
   "pageSize": 0,
   "pageNumber": 0
}
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AttributesApi.prototype.postQuery = function postQuery(body) {
  var requestPath = '/api/v2/attributes/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get details about an existing attribute.
  * @memberOf AttributesApi
  * @instance
  * @param {string} attributeId - Attribute ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "description": "",
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateCreated": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateModified": "",
   "selfUri": ""
}
  */
AttributesApi.prototype.getAttributeId = function getAttributeId(attributeId) {
  var requestPath = '/api/v2/attributes/{attributeId}';
  var requestQuery = {};
  var requestBody;

  if (attributeId === undefined || attributeId === null) {
    throw new Error('Missing required  parameter: attributeId');
  }
  requestPath = requestPath.replace('{attributeId}', attributeId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an existing attribute.
  * @description Fields that can be updated: name, description. The most recent version is required for updates.
  * @memberOf AttributesApi
  * @instance
  * @param {string} attributeId - Attribute ID
  * @param {} body - Attribute
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "description": "",
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateCreated": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateModified": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "description": "",
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateCreated": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dateModified": "",
   "selfUri": ""
}
  */
AttributesApi.prototype.putAttributeId = function putAttributeId(attributeId, body) {
  var requestPath = '/api/v2/attributes/{attributeId}';
  var requestQuery = {};
  var requestBody;

  if (attributeId === undefined || attributeId === null) {
    throw new Error('Missing required  parameter: attributeId');
  }
  requestPath = requestPath.replace('{attributeId}', attributeId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an existing Attribute.
  * @description This will remove attribute.
  * @memberOf AttributesApi
  * @instance
  * @param {string} attributeId - Attribute ID
  */
AttributesApi.prototype.deleteAttributeId = function deleteAttributeId(attributeId) {
  var requestPath = '/api/v2/attributes/{attributeId}';
  var requestQuery = {};
  var requestBody;

  if (attributeId === undefined || attributeId === null) {
    throw new Error('Missing required  parameter: attributeId');
  }
  requestPath = requestPath.replace('{attributeId}', attributeId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = AttributesApi;

},{}],5:[function(require,module,exports){
'use strict';

/**
* @class AuthorizationApi
* @example
* var api = new purecloud.platform.AuthorizationApi(pureCloudSession);
*/
function AuthorizationApi(session) {
  if (!(this instanceof AuthorizationApi)) {
    return new AuthorizationApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('AuthorizationApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get all permissions.
  * @description Retrieve a list of all permission defined in the system.
  * @memberOf AuthorizationApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AuthorizationApi.prototype.getPermissions = function getPermissions(pageSize, pageNumber) {
  var requestPath = '/api/v2/authorization/permissions';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of enabled products
  * @description Gets the list of enabled products. Some example product names are: collaborateFree, collaboratePro, communicate, and engage.
  * @memberOf AuthorizationApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "pageCount": 0
}
  */
AuthorizationApi.prototype.getProducts = function getProducts() {
  var requestPath = '/api/v2/authorization/products';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Retrieve a list of all roles defined for the organization
  * @memberOf AuthorizationApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {array} permission - 
  * @param {boolean} userCount - 
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AuthorizationApi.prototype.getRoles = function getRoles(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, permission, userCount) {
  var requestPath = '/api/v2/authorization/roles';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["expand"] = expand;
  requestQuery["nextPage"] = nextPage;
  requestQuery["previousPage"] = previousPage;
  requestQuery["permission"] = permission;
  requestQuery["userCount"] = userCount;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create an organization role.
  * @memberOf AuthorizationApi
  * @instance
  * @param {} body - Organization role
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true,
   "selfUri": ""
}
  */
AuthorizationApi.prototype.postRoles = function postRoles(body) {
  var requestPath = '/api/v2/authorization/roles';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Restores all default roles
  * @description This endpoint serves several purposes. 1. It provides the org with default roles. This is important for default roles that will be added after go-live (they can retroactively add the new default-role). Note: When not using a query param of force=true, it only adds the default roles not configured for the org; it does not overwrite roles. 2. Using the query param force=true, you can restore all default roles. Note: This does not have an effect on custom roles.
  * @memberOf AuthorizationApi
  * @instance
  * @param {boolean} force - Restore default roles
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AuthorizationApi.prototype.postRolesDefault = function postRolesDefault(force) {
  var requestPath = '/api/v2/authorization/roles/default';
  var requestQuery = {};
  var requestBody;

  requestQuery["force"] = force;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Restore specified default roles
  * @memberOf AuthorizationApi
  * @instance
  * @param {} body - Organization roles list
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "description": "",
  "defaultRoleId": "",
  "permissions": [],
  "permissionPolicies": [],
  "userCount": 0,
  "roleNeedsUpdate": true,
  "default": true
 }
]
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
AuthorizationApi.prototype.putRolesDefault = function putRolesDefault(body) {
  var requestPath = '/api/v2/authorization/roles/default';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an org role to default role comparison comparison
  * @description Compares any organization role to a default role id and show differences
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} leftRoleId - Left Role ID
  * @param {string} rightRoleId - Right Role id
  * @example
  * 200 Response Example:
  * {
   "removedPermissionPolicies": [],
   "addedPermissionPolicies": [],
   "samePermissionPolicies": [],
   "userOrgRole": {
      "id": "",
      "name": "",
      "description": "",
      "defaultRoleId": "",
      "permissions": [],
      "permissionPolicies": [],
      "userCount": 0,
      "roleNeedsUpdate": true,
      "default": true,
      "selfUri": ""
   },
   "roleFromDefault": {
      "id": "",
      "name": "",
      "description": "",
      "defaultRoleId": "",
      "permissions": [],
      "permissionPolicies": [],
      "userCount": 0,
      "roleNeedsUpdate": true,
      "default": true,
      "selfUri": ""
   }
}
  */
AuthorizationApi.prototype.getRolesLeftroleIdComparedefaultRightroleId = function getRolesLeftroleIdComparedefaultRightroleId(leftRoleId, rightRoleId) {
  var requestPath = '/api/v2/authorization/roles/{leftRoleId}/comparedefault/{rightRoleId}';
  var requestQuery = {};
  var requestBody;

  if (leftRoleId === undefined || leftRoleId === null) {
    throw new Error('Missing required  parameter: leftRoleId');
  }
  requestPath = requestPath.replace('{leftRoleId}', leftRoleId);
  if (rightRoleId === undefined || rightRoleId === null) {
    throw new Error('Missing required  parameter: rightRoleId');
  }
  requestPath = requestPath.replace('{rightRoleId}', rightRoleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an unsaved org role to default role comparison
  * @description Allows users to compare their existing roles in an unsaved state to its default role
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} leftRoleId - Left Role ID
  * @param {string} rightRoleId - Right Role id
  * @param {} body - Organization role
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true
}
  * @example
  * 200 Response Example:
  * {
   "removedPermissionPolicies": [],
   "addedPermissionPolicies": [],
   "samePermissionPolicies": [],
   "userOrgRole": {
      "id": "",
      "name": "",
      "description": "",
      "defaultRoleId": "",
      "permissions": [],
      "permissionPolicies": [],
      "userCount": 0,
      "roleNeedsUpdate": true,
      "default": true,
      "selfUri": ""
   },
   "roleFromDefault": {
      "id": "",
      "name": "",
      "description": "",
      "defaultRoleId": "",
      "permissions": [],
      "permissionPolicies": [],
      "userCount": 0,
      "roleNeedsUpdate": true,
      "default": true,
      "selfUri": ""
   }
}
  */
AuthorizationApi.prototype.postRolesLeftroleIdComparedefaultRightroleId = function postRolesLeftroleIdComparedefaultRightroleId(leftRoleId, rightRoleId, body) {
  var requestPath = '/api/v2/authorization/roles/{leftRoleId}/comparedefault/{rightRoleId}';
  var requestQuery = {};
  var requestBody;

  if (leftRoleId === undefined || leftRoleId === null) {
    throw new Error('Missing required  parameter: leftRoleId');
  }
  requestPath = requestPath.replace('{leftRoleId}', leftRoleId);
  if (rightRoleId === undefined || rightRoleId === null) {
    throw new Error('Missing required  parameter: rightRoleId');
  }
  requestPath = requestPath.replace('{rightRoleId}', rightRoleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a single organization role.
  * @description Get the organization role specified by its ID.
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true,
   "selfUri": ""
}
  */
AuthorizationApi.prototype.getRolesRoleId = function getRolesRoleId(roleId) {
  var requestPath = '/api/v2/authorization/roles/{roleId}';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an organization role.
  * @description Update
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  * @param {} body - Organization role
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true,
   "selfUri": ""
}
  */
AuthorizationApi.prototype.putRolesRoleId = function putRolesRoleId(roleId, body) {
  var requestPath = '/api/v2/authorization/roles/{roleId}';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an organization role.
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  */
AuthorizationApi.prototype.deleteRolesRoleId = function deleteRolesRoleId(roleId) {
  var requestPath = '/api/v2/authorization/roles/{roleId}';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch Organization Role for needsUpdate Field
  * @description Patch Organization Role for needsUpdate Field
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  * @param {} body - Organization role
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "defaultRoleId": "",
   "permissions": [],
   "permissionPolicies": [],
   "userCount": 0,
   "roleNeedsUpdate": true,
   "default": true,
   "selfUri": ""
}
  */
AuthorizationApi.prototype.patchRolesRoleId = function patchRolesRoleId(roleId, body) {
  var requestPath = '/api/v2/authorization/roles/{roleId}';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Sets the users for the role
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  * @param {} body - List of user IDs
  */
AuthorizationApi.prototype.putRolesRoleIdUsersAdd = function putRolesRoleIdUsersAdd(roleId, body) {
  var requestPath = '/api/v2/authorization/roles/{roleId}/users/add';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Removes the users from the role
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} roleId - Role ID
  * @param {} body - List of user IDs
  */
AuthorizationApi.prototype.putRolesRoleIdUsersRemove = function putRolesRoleIdUsersRemove(roleId, body) {
  var requestPath = '/api/v2/authorization/roles/{roleId}/users/remove';
  var requestQuery = {};
  var requestBody;

  if (roleId === undefined || roleId === null) {
    throw new Error('Missing required  parameter: roleId');
  }
  requestPath = requestPath.replace('{roleId}', roleId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Returns a listing of roles and permissions for a user.
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "roles": [],
   "permissions": [],
   "permissionPolicies": []
}
  */
AuthorizationApi.prototype.getUserIdRoles = function getUserIdRoles(userId) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Sets the user's roles
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - List of roles
  * @example
  * 200 Response Example:
  * {
   "roles": [],
   "permissions": [],
   "permissionPolicies": []
}
  */
AuthorizationApi.prototype.putUserIdRoles = function putUserIdRoles(userId, body) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Removes all the roles from the user.
  * @memberOf AuthorizationApi
  * @instance
  * @param {string} userId - User ID
  */
AuthorizationApi.prototype.deleteUserIdRoles = function deleteUserIdRoles(userId) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = AuthorizationApi;

},{}],6:[function(require,module,exports){
'use strict';

/**
* @class ConfigurationApi
* @example
* var api = new purecloud.platform.ConfigurationApi(pureCloudSession);
*/
function ConfigurationApi(session) {
  if (!(this instanceof ConfigurationApi)) {
    return new ConfigurationApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('ConfigurationApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get encryption key list
  * @memberOf ConfigurationApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConfigurationApi.prototype.getRecordingkeys = function getRecordingkeys(pageSize, pageNumber) {
  var requestPath = '/api/v2/recording/recordingkeys';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create encryption key
  * @memberOf ConfigurationApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "createDate": "",
   "keydataSummary": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
ConfigurationApi.prototype.postRecordingkeys = function postRecordingkeys() {
  var requestPath = '/api/v2/recording/recordingkeys';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get key rotation schedule
  * @memberOf ConfigurationApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "period": "",
   "selfUri": ""
}
  */
ConfigurationApi.prototype.getRecordingkeysRotationschedule = function getRecordingkeysRotationschedule() {
  var requestPath = '/api/v2/recording/recordingkeys/rotationschedule';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update key rotation schedule
  * @memberOf ConfigurationApi
  * @instance
  * @param {} body - KeyRotationSchedule
  * @example
  * Body Example:
  * {
   "name": "",
   "period": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "period": "",
   "selfUri": ""
}
  */
ConfigurationApi.prototype.putRecordingkeysRotationschedule = function putRecordingkeysRotationschedule(body) {
  var requestPath = '/api/v2/recording/recordingkeys/rotationschedule';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the setup package for a locally deployed edge device. This is needed to complete the setup process for the virtual edge.
  * @memberOf ConfigurationApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @example
  * 200 Response Example:
  * {
   "meta-data": {
      "pairing-token": "",
      "pairing-trust": [],
      "pairing-url": ""
   },
   "edge-id": "",
   "auth-token": "",
   "org-id": ""
}
  */
ConfigurationApi.prototype.getProvidersEdgesEdgeIdSetuppackage = function getProvidersEdgesEdgeIdSetuppackage(edgeId) {
  var requestPath = '/api/v2/telephony/providers/edges/{edgeId}/setuppackage';
  var requestQuery = {};
  var requestBody;

  if (edgeId === undefined || edgeId === null) {
    throw new Error('Missing required  parameter: edgeId');
  }
  requestPath = requestPath.replace('{edgeId}', edgeId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = ConfigurationApi;

},{}],7:[function(require,module,exports){
'use strict';

/**
* @class ContentManagementApi
* @example
* var api = new purecloud.platform.ContentManagementApi(pureCloudSession);
*/
function ContentManagementApi(session) {
  if (!(this instanceof ContentManagementApi)) {
    return new ContentManagementApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('ContentManagementApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Query audits
  * @memberOf ContentManagementApi
  * @instance
  * @param {} body - Allows for a filtered query returning facet information
  * @example
  * Body Example:
  * {
   "queryPhrase": "",
   "pageNumber": 0,
   "pageSize": 0,
   "facetNameRequests": [],
   "sort": [],
   "filters": [],
   "attributeFilters": [],
   "includeShares": true
}
  * @example
  * 200 Response Example:
  * {
   "results": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "facetInfo": {
      "attributes": [],
      "facets": []
   }
}
  */
ContentManagementApi.prototype.postAuditquery = function postAuditquery(body) {
  var requestPath = '/api/v2/contentmanagement/auditquery';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of documents.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} name - Name
  * @param {string} expand - Expand some document fields
  acl,
  workspace,
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - name or dateCreated
  * @param {string} sortOrder - ascending or descending
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getDocuments = function getDocuments(workspaceId, name, expand, pageSize, pageNumber, sortBy, sortOrder) {
  var requestPath = '/api/v2/contentmanagement/documents';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestQuery["workspaceId"] = workspaceId;
  requestQuery["name"] = name;
  requestQuery["expand"] = expand;
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {} body - Document
  * @param {string} copySource - Copy a document within a workspace or to a new workspace. Provide a document ID as the copy source.
  * @param {string} moveSource - Move a document to a new workspace. Provide a document ID as the move source.
  * @param {boolean} override - Override any lock on the source document
  * @example
  * Body Example:
  * {
   "name": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "tags": [],
   "tagIds": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "changeNumber": 0,
   "dateCreated": "",
   "dateModified": "",
   "dateUploaded": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "systemType": "",
   "filename": "",
   "pageCount": 0,
   "read": true,
   "callerAddress": "",
   "receiverAddress": "",
   "tags": [],
   "tagValues": [],
   "attributes": [],
   "thumbnails": [],
   "uploadStatus": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadDestinationUri": "",
   "uploadMethod": "",
   "lockInfo": {
      "lockedBy": {},
      "dateCreated": "",
      "dateExpires": "",
      "action": ""
   },
   "acl": [],
   "sharingStatus": "",
   "sharingUri": "",
   "downloadSharingUri": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.postDocuments = function postDocuments(body, copySource, moveSource, override) {
  var requestPath = '/api/v2/contentmanagement/documents';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["copySource"] = copySource;
  requestQuery["moveSource"] = moveSource;
  requestQuery["override"] = override;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {string} expand - Expand some document fields
  lockInfo,
  acl,
  workspace,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "changeNumber": 0,
   "dateCreated": "",
   "dateModified": "",
   "dateUploaded": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "systemType": "",
   "filename": "",
   "pageCount": 0,
   "read": true,
   "callerAddress": "",
   "receiverAddress": "",
   "tags": [],
   "tagValues": [],
   "attributes": [],
   "thumbnails": [],
   "uploadStatus": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadDestinationUri": "",
   "uploadMethod": "",
   "lockInfo": {
      "lockedBy": {},
      "dateCreated": "",
      "dateExpires": "",
      "action": ""
   },
   "acl": [],
   "sharingStatus": "",
   "sharingUri": "",
   "downloadSharingUri": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getDocumentsDocumentId = function getDocumentsDocumentId(documentId, expand) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {} body - Document
  * @param {string} expand - Expand some document fields
  acl,
  * @param {boolean} override - Override any lock on the document
  * @example
  * Body Example:
  * {
   "changeNumber": 0,
   "name": "",
   "read": true,
   "addTags": [],
   "removeTags": [],
   "addTagIds": [],
   "removeTagIds": [],
   "updateAttributes": [],
   "removeAttributes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "changeNumber": 0,
   "dateCreated": "",
   "dateModified": "",
   "dateUploaded": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "systemType": "",
   "filename": "",
   "pageCount": 0,
   "read": true,
   "callerAddress": "",
   "receiverAddress": "",
   "tags": [],
   "tagValues": [],
   "attributes": [],
   "thumbnails": [],
   "uploadStatus": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadDestinationUri": "",
   "uploadMethod": "",
   "lockInfo": {
      "lockedBy": {},
      "dateCreated": "",
      "dateExpires": "",
      "action": ""
   },
   "acl": [],
   "sharingStatus": "",
   "sharingUri": "",
   "downloadSharingUri": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.postDocumentsDocumentId = function postDocumentsDocumentId(documentId, body, expand, override) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["expand"] = expand;
  requestQuery["override"] = override;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {boolean} override - Override any lock on the document
  */
ContentManagementApi.prototype.deleteDocumentsDocumentId = function deleteDocumentsDocumentId(documentId, override) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  requestQuery["override"] = override;
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of audits for a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} transactionFilter - Transaction filter
  * @param {string} level - level
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getDocumentsDocumentIdAudits = function getDocumentsDocumentIdAudits(documentId, pageSize, pageNumber, transactionFilter, level, sortBy, sortOrder) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}/audits';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["transactionFilter"] = transactionFilter;
  requestQuery["level"] = level;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Download a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {string} disposition - Request how the content will be downloaded: attached as a file or inline. Default is attachment.
  attachment,
  inline,
  * @param {string} contentType - The requested format for the specified document. If supported, the document will be returned in that format. Example contentType=audio/wav
  * @example
  * 200 Response Example:
  * {
   "contentLocationUri": "",
   "imageUri": "",
   "thumbnails": []
}
  */
ContentManagementApi.prototype.getDocumentsDocumentIdContent = function getDocumentsDocumentIdContent(documentId, disposition, contentType) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}/content';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  requestQuery["disposition"] = disposition;
  requestQuery["contentType"] = contentType;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace the contents of a document.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {} body - Replace Request
  * @param {boolean} override - Override any lock on the document
  * @example
  * Body Example:
  * {
   "changeNumber": 0,
   "name": "",
   "authToken": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "changeNumber": 0,
   "uploadStatus": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "uploadDestinationUri": "",
   "uploadMethod": ""
}
  */
ContentManagementApi.prototype.postDocumentsDocumentIdContent = function postDocumentsDocumentIdContent(documentId, body, override) {
  var requestPath = '/api/v2/contentmanagement/documents/{documentId}/content';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["override"] = override;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query content
  * @memberOf ContentManagementApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - name or dateCreated
  * @param {string} sortOrder - ascending or descending
  * @param {string} queryPhrase - Phrase tokens are ANDed together over all searchable fields
  * @param {string} expand - Expand some document fields
  acl,
  workspace,
  * @example
  * 200 Response Example:
  * {
   "results": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "facetInfo": {
      "attributes": [],
      "facets": []
   }
}
  */
ContentManagementApi.prototype.getQuery = function getQuery(pageSize, pageNumber, sortBy, sortOrder, queryPhrase, expand) {
  var requestPath = '/api/v2/contentmanagement/query';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  if (queryPhrase === undefined || queryPhrase === null) {
    throw new Error('Missing required  parameter: queryPhrase');
  }
  requestQuery["queryPhrase"] = queryPhrase;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query content
  * @memberOf ContentManagementApi
  * @instance
  * @param {} body - Allows for a filtered query returning facet information
  * @param {string} expand - Expand some document fields
  acl,
  workspace,
  * @example
  * Body Example:
  * {
   "queryPhrase": "",
   "pageNumber": 0,
   "pageSize": 0,
   "facetNameRequests": [],
   "sort": [],
   "filters": [],
   "attributeFilters": [],
   "includeShares": true
}
  * @example
  * 200 Response Example:
  * {
   "results": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "facetInfo": {
      "attributes": [],
      "facets": []
   }
}
  */
ContentManagementApi.prototype.postQuery = function postQuery(body, expand) {
  var requestPath = '/api/v2/contentmanagement/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["expand"] = expand;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a List of Security Profiles
  * @memberOf ContentManagementApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getSecurityprofiles = function getSecurityprofiles() {
  var requestPath = '/api/v2/contentmanagement/securityprofiles';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a Security Profile
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} securityProfileId - Security Profile Id
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "permissions": [],
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getSecurityprofilesSecurityprofileId = function getSecurityprofilesSecurityprofileId(securityProfileId) {
  var requestPath = '/api/v2/contentmanagement/securityprofiles/{securityProfileId}';
  var requestQuery = {};
  var requestBody;

  if (securityProfileId === undefined || securityProfileId === null) {
    throw new Error('Missing required  parameter: securityProfileId');
  }
  requestPath = requestPath.replace('{securityProfileId}', securityProfileId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get shared documents. Securely download a shared document.
  * @description This method requires the download sharing URI obtained in the get document response (downloadSharingUri). Documents may be shared between users in the same workspace. Documents may also be shared between any user by creating a content management share.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} sharedId - Shared ID
  * @param {boolean} redirect - Turn on or off redirect
  * @param {string} disposition - Request how the share content will be downloaded: attached as a file or inline. Default is attachment.
  attachment,
  inline,
  none,
  * @param {string} contentType - The requested format for the specified document. If supported, the document will be returned in that format. Example contentType=audio/wav
  * @param {string} expand - Expand some document fields
  document.acl,
  */
ContentManagementApi.prototype.getSharedSharedId = function getSharedSharedId(sharedId, redirect, disposition, contentType, expand) {
  var requestPath = '/api/v2/contentmanagement/shared/{sharedId}';
  var requestQuery = {};
  var requestBody;

  if (sharedId === undefined || sharedId === null) {
    throw new Error('Missing required  parameter: sharedId');
  }
  requestPath = requestPath.replace('{sharedId}', sharedId);
  requestQuery["redirect"] = redirect;
  requestQuery["disposition"] = disposition;
  requestQuery["contentType"] = contentType;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets a list of shares.  You must specify at least one filter (e.g. entityId).
  * @description Failing to specify a filter will return 400.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} entityId - Filters the shares returned to only the entity specified by the value of this parameter.
  * @param {string} expand - Expand share fields
  member,
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getShares = function getShares(entityId, expand, pageSize, pageNumber) {
  var requestPath = '/api/v2/contentmanagement/shares';
  var requestQuery = {};
  var requestBody;

  requestQuery["entityId"] = entityId;
  requestQuery["expand"] = expand;
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Creates a new share or updates an existing share if the entity has already been shared
  * @memberOf ContentManagementApi
  * @instance
  * @param {} body - CreateShareRequest - entity id and type and a single member or list of members are required
  * @example
  * Body Example:
  * {
   "sharedEntityType": "",
   "sharedEntity": {
      "id": ""
   },
   "memberType": "",
   "member": {
      "id": ""
   },
   "members": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "sharedEntityType": "",
   "sharedEntity": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "memberType": "",
   "member": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "sharedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "succeeded": [],
   "failed": [],
   "selfUri": ""
}
  */
ContentManagementApi.prototype.postShares = function postShares(body) {
  var requestPath = '/api/v2/contentmanagement/shares';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Retrieve details about an existing share.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} shareId - Share ID
  * @param {string} expand - Expand share fields
  member,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "sharedEntityType": "",
   "sharedEntity": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "memberType": "",
   "member": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "sharedBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "group": {
      "id": "",
      "name": "",
      "description": "",
      "dateModified": "",
      "memberCount": 0,
      "state": "",
      "version": 0,
      "type": "",
      "images": [],
      "addresses": [],
      "rulesVisible": true,
      "visibility": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getSharesShareId = function getSharesShareId(shareId, expand) {
  var requestPath = '/api/v2/contentmanagement/shares/{shareId}';
  var requestQuery = {};
  var requestBody;

  if (shareId === undefined || shareId === null) {
    throw new Error('Missing required  parameter: shareId');
  }
  requestPath = requestPath.replace('{shareId}', shareId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Deletes an existing share.
  * @description This revokes sharing rights specified in the share record
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} shareId - Share ID
  */
ContentManagementApi.prototype.deleteSharesShareId = function deleteSharesShareId(shareId) {
  var requestPath = '/api/v2/contentmanagement/shares/{shareId}';
  var requestQuery = {};
  var requestBody;

  if (shareId === undefined || shareId === null) {
    throw new Error('Missing required  parameter: shareId');
  }
  requestPath = requestPath.replace('{shareId}', shareId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of statuses for pending operations
  * @memberOf ContentManagementApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getStatus = function getStatus(pageSize, pageNumber) {
  var requestPath = '/api/v2/contentmanagement/status';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a status.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} statusId - Status ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "expiration": "",
   "userId": "",
   "statusCode": "",
   "commandType": "",
   "document": {
      "id": "",
      "name": "",
      "changeNumber": 0,
      "dateCreated": "",
      "dateModified": "",
      "dateUploaded": "",
      "contentUri": "",
      "workspace": {},
      "createdBy": {},
      "uploadedBy": {},
      "contentType": "",
      "contentLength": 0,
      "systemType": "",
      "filename": "",
      "pageCount": 0,
      "read": true,
      "callerAddress": "",
      "receiverAddress": "",
      "tags": [],
      "tagValues": [],
      "attributes": [],
      "thumbnails": [],
      "uploadStatus": {},
      "uploadDestinationUri": "",
      "uploadMethod": "",
      "lockInfo": {},
      "acl": [],
      "sharingStatus": "",
      "sharingUri": "",
      "downloadSharingUri": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getStatusStatusId = function getStatusStatusId(statusId) {
  var requestPath = '/api/v2/contentmanagement/status/{statusId}';
  var requestQuery = {};
  var requestBody;

  if (statusId === undefined || statusId === null) {
    throw new Error('Missing required  parameter: statusId');
  }
  requestPath = requestPath.replace('{statusId}', statusId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Cancel the command for this status
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} statusId - Status ID
  */
ContentManagementApi.prototype.deleteStatusStatusId = function deleteStatusStatusId(statusId) {
  var requestPath = '/api/v2/contentmanagement/status/{statusId}';
  var requestQuery = {};
  var requestBody;

  if (statusId === undefined || statusId === null) {
    throw new Error('Missing required  parameter: statusId');
  }
  requestPath = requestPath.replace('{statusId}', statusId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get usage details.
  * @memberOf ContentManagementApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "types": []
}
  */
ContentManagementApi.prototype.getUsage = function getUsage() {
  var requestPath = '/api/v2/contentmanagement/usage';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of workspaces.
  * @description Specifying 'content' access will return all workspaces the user has document access to, while 'admin' access will return all group workspaces the user has administrative rights to.
  * @memberOf ContentManagementApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} access - Requested access level
  content,
  admin,
  document:create,
  document:viewContent,
  document:viewMetadata,
  document:download,
  document:delete,
  document:update,
  document:share,
  document:shareView,
  document:email,
  document:print,
  document:auditView,
  document:replace,
  document:tag,
  tag:create,
  tag:view,
  tag:update,
  tag:apply,
  tag:remove,
  tag:delete,
  * @param {string} expand - Expand some workspace fields
  summary,
  acl,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getWorkspaces = function getWorkspaces(pageSize, pageNumber, access, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["access"] = access;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a group workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {} body - Workspace
  * @example
  * Body Example:
  * {
   "name": "",
   "bucket": "",
   "description": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "isCurrentUserWorkspace": true,
   "user": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "bucket": "",
   "dateCreated": "",
   "dateModified": "",
   "summary": {
      "totalDocumentCount": 0,
      "totalDocumentByteCount": 0
   },
   "acl": [],
   "description": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.postWorkspaces = function postWorkspaces(body) {
  var requestPath = '/api/v2/contentmanagement/workspaces';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a workspace.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} expand - Expand some workspace fields
  summary,
  acl,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "isCurrentUserWorkspace": true,
   "user": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "bucket": "",
   "dateCreated": "",
   "dateModified": "",
   "summary": {
      "totalDocumentCount": 0,
      "totalDocumentByteCount": 0
   },
   "acl": [],
   "description": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getWorkspacesWorkspaceId = function getWorkspacesWorkspaceId(workspaceId, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {} body - Workspace
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "isCurrentUserWorkspace": true,
   "user": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "bucket": "",
   "dateCreated": "",
   "dateModified": "",
   "summary": {
      "totalDocumentCount": 0,
      "totalDocumentByteCount": 0
   },
   "acl": [],
   "description": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "isCurrentUserWorkspace": true,
   "user": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "bucket": "",
   "dateCreated": "",
   "dateModified": "",
   "summary": {
      "totalDocumentCount": 0,
      "totalDocumentByteCount": 0
   },
   "acl": [],
   "description": "",
   "selfUri": ""
}
  */
ContentManagementApi.prototype.putWorkspacesWorkspaceId = function putWorkspacesWorkspaceId(workspaceId, body) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} moveChildrenToWorkspaceId - New location for objects in deleted workspace.
  */
ContentManagementApi.prototype.deleteWorkspacesWorkspaceId = function deleteWorkspacesWorkspaceId(workspaceId, moveChildrenToWorkspaceId) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  requestQuery["moveChildrenToWorkspaceId"] = moveChildrenToWorkspaceId;
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list workspace members
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} expand - Expand workspace member fields
  member,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getWorkspacesWorkspaceIdMembers = function getWorkspacesWorkspaceIdMembers(workspaceId, pageSize, pageNumber, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/members';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a workspace member
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} memberId - Member ID
  * @param {string} expand - Expand workspace member fields
  member,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "memberType": "",
   "member": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "group": {
      "id": "",
      "name": "",
      "description": "",
      "dateModified": "",
      "memberCount": 0,
      "state": "",
      "version": 0,
      "type": "",
      "images": [],
      "addresses": [],
      "rulesVisible": true,
      "visibility": "",
      "selfUri": ""
   },
   "securityProfile": {
      "id": "",
      "name": "",
      "permissions": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getWorkspacesWorkspaceIdMembersMemberId = function getWorkspacesWorkspaceIdMembersMemberId(workspaceId, memberId, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/members/{memberId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (memberId === undefined || memberId === null) {
    throw new Error('Missing required  parameter: memberId');
  }
  requestPath = requestPath.replace('{memberId}', memberId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add a member to a workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} memberId - Member ID
  * @param {} body - Workspace
  * @example
  * Body Example:
  * {
   "name": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "memberType": "",
   "member": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "group": {
      "name": "",
      "description": "",
      "type": "",
      "images": [],
      "addresses": [],
      "rulesVisible": true,
      "visibility": ""
   },
   "securityProfile": {
      "name": "",
      "permissions": []
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "memberType": "",
   "member": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "group": {
      "id": "",
      "name": "",
      "description": "",
      "dateModified": "",
      "memberCount": 0,
      "state": "",
      "version": 0,
      "type": "",
      "images": [],
      "addresses": [],
      "rulesVisible": true,
      "visibility": "",
      "selfUri": ""
   },
   "securityProfile": {
      "id": "",
      "name": "",
      "permissions": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
ContentManagementApi.prototype.putWorkspacesWorkspaceIdMembersMemberId = function putWorkspacesWorkspaceIdMembersMemberId(workspaceId, memberId, body) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/members/{memberId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (memberId === undefined || memberId === null) {
    throw new Error('Missing required  parameter: memberId');
  }
  requestPath = requestPath.replace('{memberId}', memberId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a member from a workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} memberId - Member ID
  */
ContentManagementApi.prototype.deleteWorkspacesWorkspaceIdMembersMemberId = function deleteWorkspacesWorkspaceIdMembersMemberId(workspaceId, memberId) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/members/{memberId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (memberId === undefined || memberId === null) {
    throw new Error('Missing required  parameter: memberId');
  }
  requestPath = requestPath.replace('{memberId}', memberId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of workspace tags
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} value - filter the list of tags returned
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} expand - Expand some document fields
  acl,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.getWorkspacesWorkspaceIdTagvalues = function getWorkspacesWorkspaceIdTagvalues(workspaceId, value, pageSize, pageNumber, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  requestQuery["value"] = value;
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a workspace tag
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {} body - tag
  * @example
  * Body Example:
  * {
   "name": "",
   "inUse": true,
   "acl": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "inUse": true,
   "acl": [],
   "selfUri": ""
}
  */
ContentManagementApi.prototype.postWorkspacesWorkspaceIdTagvalues = function postWorkspacesWorkspaceIdTagvalues(workspaceId, body) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Perform a prefix query on tags in the workspace
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {} body - query
  * @param {string} expand - Expand some document fields
  acl,
  * @example
  * Body Example:
  * {
   "query": "",
   "pageNumber": 0,
   "pageSize": 0
}
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ContentManagementApi.prototype.postWorkspacesWorkspaceIdTagvaluesQuery = function postWorkspacesWorkspaceIdTagvaluesQuery(workspaceId, body, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues/query';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["expand"] = expand;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a workspace tag
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} tagId - Tag ID
  * @param {string} expand - Expand some document fields
  acl,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "inUse": true,
   "acl": [],
   "selfUri": ""
}
  */
ContentManagementApi.prototype.getWorkspacesWorkspaceIdTagvaluesTagId = function getWorkspacesWorkspaceIdTagvaluesTagId(workspaceId, tagId, expand) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues/{tagId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (tagId === undefined || tagId === null) {
    throw new Error('Missing required  parameter: tagId');
  }
  requestPath = requestPath.replace('{tagId}', tagId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a workspace tag. Will update all documents with the new tag value.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} tagId - Tag ID
  * @param {} body - Workspace
  * @example
  * Body Example:
  * {
   "name": "",
   "inUse": true,
   "acl": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "inUse": true,
   "acl": [],
   "selfUri": ""
}
  */
ContentManagementApi.prototype.putWorkspacesWorkspaceIdTagvaluesTagId = function putWorkspacesWorkspaceIdTagvaluesTagId(workspaceId, tagId, body) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues/{tagId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (tagId === undefined || tagId === null) {
    throw new Error('Missing required  parameter: tagId');
  }
  requestPath = requestPath.replace('{tagId}', tagId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete workspace tag
  * @description Delete a tag from a workspace. Will remove this tag from all documents.
  * @memberOf ContentManagementApi
  * @instance
  * @param {string} workspaceId - Workspace ID
  * @param {string} tagId - Tag ID
  */
ContentManagementApi.prototype.deleteWorkspacesWorkspaceIdTagvaluesTagId = function deleteWorkspacesWorkspaceIdTagvaluesTagId(workspaceId, tagId) {
  var requestPath = '/api/v2/contentmanagement/workspaces/{workspaceId}/tagvalues/{tagId}';
  var requestQuery = {};
  var requestBody;

  if (workspaceId === undefined || workspaceId === null) {
    throw new Error('Missing required  parameter: workspaceId');
  }
  requestPath = requestPath.replace('{workspaceId}', workspaceId);
  if (tagId === undefined || tagId === null) {
    throw new Error('Missing required  parameter: tagId');
  }
  requestPath = requestPath.replace('{tagId}', tagId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = ContentManagementApi;

},{}],8:[function(require,module,exports){
'use strict';

/**
* @class ConversationsApi
* @example
* var api = new purecloud.platform.ConversationsApi(pureCloudSession);
*/
function ConversationsApi(session) {
  if (!(this instanceof ConversationsApi)) {
    return new ConversationsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('ConversationsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Query for conversation aggregates
  * @memberOf ConversationsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
ConversationsApi.prototype.postConversationsAggregatesQuery = function postConversationsAggregatesQuery(body) {
  var requestPath = '/api/v2/analytics/conversations/aggregates/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for conversation details
  * @memberOf ConversationsApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "conversationFilters": [],
   "evaluationFilters": [],
   "segmentFilters": [],
   "aggregations": [],
   "paging": {
      "pageSize": 0,
      "pageNumber": 0
   },
   "order": "",
   "orderBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "conversations": [],
   "aggregations": []
}
  */
ConversationsApi.prototype.postConversationsDetailsQuery = function postConversationsDetailsQuery(body) {
  var requestPath = '/api/v2/analytics/conversations/details/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a conversation by id
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversationId
  * @example
  * 200 Response Example:
  * {
   "conversationId": "",
   "conversationStart": "",
   "participants": [],
   "evaluations": []
}
  */
ConversationsApi.prototype.getConversationsConversationIdDetails = function getConversationsConversationIdDetails(conversationId) {
  var requestPath = '/api/v2/analytics/conversations/{conversationId}/details';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Index conversation properties
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {} body - request
  * @example
  * Body Example:
  * {
   "sessionId": "",
   "timestamp": 0,
   "properties": []
}
  * @example
  * 200 Response Example:
  * {
   "sessionId": "",
   "timestamp": 0,
   "properties": []
}
  */
ConversationsApi.prototype.postConversationsConversationIdDetailsProperties = function postConversationsConversationIdDetailsProperties(conversationId, body) {
  var requestPath = '/api/v2/analytics/conversations/{conversationId}/details/properties';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get conversations
  * @memberOf ConversationsApi
  * @instance
  * @param {string} communicationType - Call or Chat communication filtering
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getConversations = function getConversations(communicationType) {
  var requestPath = '/api/v2/conversations';
  var requestQuery = {};
  var requestBody;

  requestQuery["communicationType"] = communicationType;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get callback conversations
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getCallbacks = function getCallbacks() {
  var requestPath = '/api/v2/conversations/callbacks';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a Callback
  * @memberOf ConversationsApi
  * @instance
  * @param {} body - Callback
  * @example
  * Body Example:
  * {
   "scriptId": "",
   "queueId": "",
   "routingData": {
      "queueId": "",
      "languageId": "",
      "priority": 0,
      "skillIds": [],
      "preferredAgentIds": []
   },
   "callbackUserName": "",
   "callbackNumbers": [],
   "callbackScheduledTime": "",
   "countryCode": "",
   "isAutomated": true,
   "automatedCallbackConfigId": "",
   "data": {}
}
  * @example
  * 200 Response Example:
  * {
   "conversation": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callbackIdentifiers": []
}
  */
ConversationsApi.prototype.postCallbacks = function postCallbacks(body) {
  var requestPath = '/api/v2/conversations/callbacks';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get callback conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "participants": [],
   "otherMediaUris": [],
   "selfUri": ""
}
  */
ConversationsApi.prototype.getCallbacksCallbackId = function getCallbacksCallbackId(callbackId) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a conversation by disconnecting all of the participants
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.patchCallbacksCallbackId = function patchCallbacksCallbackId(callbackId, body) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @param {} body - Participant
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCallbacksCallbackIdParticipantsParticipantId = function patchCallbacksCallbackIdParticipantsParticipantId(callbackId, participantId, body) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @param {} body - Attributes
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchCallbacksCallbackIdParticipantsParticipantIdAttributes = function patchCallbacksCallbackIdParticipantsParticipantIdAttributes(callbackId, participantId, body) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant's communication by disconnecting it.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @param {string} communicationId - communicationId
  * @param {} body - Participant
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCallbacksCallbackIdParticipantsParticipantIdCommunicationsCommunicationId = function patchCallbacksCallbackIdParticipantsParticipantIdCommunicationsCommunicationId(callbackId, participantId, communicationId, body) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}/communications/{communicationId}';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (communicationId === undefined || communicationId === null) {
    throw new Error('Missing required  parameter: communicationId');
  }
  requestPath = requestPath.replace('{communicationId}', communicationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @param {} body - Transfer request
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postCallbacksCallbackIdParticipantsParticipantIdReplace = function postCallbacksCallbackIdParticipantsParticipantIdReplace(callbackId, participantId, body) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "code": "",
   "name": "",
   "notes": "",
   "tags": [],
   "durationSeconds": 0,
   "endTime": "",
   "provisional": true
}
  */
ConversationsApi.prototype.getCallbacksCallbackIdParticipantsParticipantIdWrapup = function getCallbacksCallbackIdParticipantsParticipantIdWrapup(callbackId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callbackId - callbackId
  * @param {string} participantId - participantId
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getCallbacksCallbackIdParticipantsParticipantIdWrapupcodes = function getCallbacksCallbackIdParticipantsParticipantIdWrapupcodes(callbackId, participantId) {
  var requestPath = '/api/v2/conversations/callbacks/{callbackId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (callbackId === undefined || callbackId === null) {
    throw new Error('Missing required  parameter: callbackId');
  }
  requestPath = requestPath.replace('{callbackId}', callbackId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent conversations
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getCalls = function getCalls() {
  var requestPath = '/api/v2/conversations/calls';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a call conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {} body - Call request
  * @example
  * Body Example:
  * {
   "phoneNumber": "",
   "callFromQueueId": "",
   "callQueueId": "",
   "callUserId": "",
   "priority": 0,
   "languageId": "",
   "routingSkillsIds": [],
   "conversationIds": [],
   "participants": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.postCalls = function postCalls(body) {
  var requestPath = '/api/v2/conversations/calls';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get call history
  * @memberOf ConversationsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} interval - Interval string; format is ISO-8601. Separate start and end times with forward slash '/'
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getCallsHistory = function getCallsHistory(pageSize, pageNumber, interval) {
  var requestPath = '/api/v2/conversations/calls/history';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["interval"] = interval;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the maximum number of participants that this user can have on a conference
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "maxParticipants": 0
}
  */
ConversationsApi.prototype.getCallsMaximumconferenceparties = function getCallsMaximumconferenceparties() {
  var requestPath = '/api/v2/conversations/calls/maximumconferenceparties';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get call conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "participants": [],
   "otherMediaUris": [],
   "recordingState": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.getCallsCallId = function getCallsCallId(callId) {
  var requestPath = '/api/v2/conversations/calls/{callId}';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add a new call to a conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "callNumber": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.postCallsCallId = function postCallsCallId(callId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a conversation by setting it's recording state, merging in other conversations to create a conference, or disconnecting all of the participants
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.patchCallsCallId = function patchCallsCallId(callId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add participants to a conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.postCallsCallIdParticipants = function postCallsCallIdParticipants(callId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {} body - Participant request
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCallsCallIdParticipantsParticipantId = function patchCallsCallIdParticipantsParticipantId(callId, participantId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {} body - Participant attributes
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchCallsCallIdParticipantsParticipantIdAttributes = function patchCallsCallIdParticipantsParticipantIdAttributes(callId, participantId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant's communication by disconnecting it.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {string} communicationId - communicationId
  * @param {} body - Participant
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCallsCallIdParticipantsParticipantIdCommunicationsCommunicationId = function patchCallsCallIdParticipantsParticipantIdCommunicationsCommunicationId(callId, participantId, communicationId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/communications/{communicationId}';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (communicationId === undefined || communicationId === null) {
    throw new Error('Missing required  parameter: communicationId');
  }
  requestPath = requestPath.replace('{communicationId}', communicationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Initiate and update consult transfer
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {} body - Destination address & initial speak to
  * @example
  * Body Example:
  * {
   "speakTo": "",
   "destination": {
      "address": "",
      "name": "",
      "userId": "",
      "queueId": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "destinationParticipantId": ""
}
  */
ConversationsApi.prototype.postCallsCallIdParticipantsParticipantIdConsult = function postCallsCallIdParticipantsParticipantIdConsult(callId, participantId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/consult';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Cancel the transfer
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  */
ConversationsApi.prototype.deleteCallsCallIdParticipantsParticipantIdConsult = function deleteCallsCallIdParticipantsParticipantIdConsult(callId, participantId) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/consult';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Change who can speak
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {} body - new speak to
  * @example
  * Body Example:
  * {
   "speakTo": ""
}
  * @example
  * 200 Response Example:
  * {
   "destinationParticipantId": ""
}
  */
ConversationsApi.prototype.patchCallsCallIdParticipantsParticipantIdConsult = function patchCallsCallIdParticipantsParticipantIdConsult(callId, participantId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/consult';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Listen in on the conversation from the point of view of a given participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  */
ConversationsApi.prototype.postCallsCallIdParticipantsParticipantIdMonitor = function postCallsCallIdParticipantsParticipantIdMonitor(callId, participantId) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/monitor';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {} body - Transfer request
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postCallsCallIdParticipantsParticipantIdReplace = function postCallsCallIdParticipantsParticipantIdReplace(callId, participantId, body) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "code": "",
   "name": "",
   "notes": "",
   "tags": [],
   "durationSeconds": 0,
   "endTime": "",
   "provisional": true
}
  */
ConversationsApi.prototype.getCallsCallIdParticipantsParticipantIdWrapup = function getCallsCallIdParticipantsParticipantIdWrapup(callId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} callId - callId
  * @param {string} participantId - participantId
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getCallsCallIdParticipantsParticipantIdWrapupcodes = function getCallsCallIdParticipantsParticipantIdWrapupcodes(callId, participantId) {
  var requestPath = '/api/v2/conversations/calls/{callId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (callId === undefined || callId === null) {
    throw new Error('Missing required  parameter: callId');
  }
  requestPath = requestPath.replace('{callId}', callId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent chat conversations
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getChats = function getChats() {
  var requestPath = '/api/v2/conversations/chats';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get chat conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "participants": [],
   "otherMediaUris": [],
   "selfUri": ""
}
  */
ConversationsApi.prototype.getChatsChatId = function getChatsChatId(chatId) {
  var requestPath = '/api/v2/conversations/chats/{chatId}';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a conversation by disconnecting all of the participants
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.patchChatsChatId = function patchChatsChatId(chatId, body) {
  var requestPath = '/api/v2/conversations/chats/{chatId}';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @param {} body - Update request
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchChatsChatIdParticipantsParticipantId = function patchChatsChatIdParticipantsParticipantId(chatId, participantId, body) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @param {} body - Participant attributes
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchChatsChatIdParticipantsParticipantIdAttributes = function patchChatsChatIdParticipantsParticipantIdAttributes(chatId, participantId, body) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant's communication by disconnecting it.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @param {string} communicationId - communicationId
  * @param {} body - Participant
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchChatsChatIdParticipantsParticipantIdCommunicationsCommunicationId = function patchChatsChatIdParticipantsParticipantIdCommunicationsCommunicationId(chatId, participantId, communicationId, body) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}/communications/{communicationId}';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (communicationId === undefined || communicationId === null) {
    throw new Error('Missing required  parameter: communicationId');
  }
  requestPath = requestPath.replace('{communicationId}', communicationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @param {} body - Transfer request
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postChatsChatIdParticipantsParticipantIdReplace = function postChatsChatIdParticipantsParticipantIdReplace(chatId, participantId, body) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "code": "",
   "name": "",
   "notes": "",
   "tags": [],
   "durationSeconds": 0,
   "endTime": "",
   "provisional": true
}
  */
ConversationsApi.prototype.getChatsChatIdParticipantsParticipantIdWrapup = function getChatsChatIdParticipantsParticipantIdWrapup(chatId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} chatId - chatId
  * @param {string} participantId - participantId
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getChatsChatIdParticipantsParticipantIdWrapupcodes = function getChatsChatIdParticipantsParticipantIdWrapupcodes(chatId, participantId) {
  var requestPath = '/api/v2/conversations/chats/{chatId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (chatId === undefined || chatId === null) {
    throw new Error('Missing required  parameter: chatId');
  }
  requestPath = requestPath.replace('{chatId}', chatId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent cobrowse conversations
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getCobrowsesessions = function getCobrowsesessions() {
  var requestPath = '/api/v2/conversations/cobrowsesessions';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get cobrowse conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "participants": [],
   "otherMediaUris": [],
   "selfUri": ""
}
  */
ConversationsApi.prototype.getCobrowsesessionsCobrowseId = function getCobrowsesessionsCobrowseId(cobrowseId) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a conversation by disconnecting all of the participants
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.patchCobrowsesessionsCobrowseId = function patchCobrowsesessionsCobrowseId(cobrowseId, body) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @param {} body - 
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCobrowsesessionsCobrowseIdParticipantsParticipantId = function patchCobrowsesessionsCobrowseIdParticipantsParticipantId(cobrowseId, participantId, body) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @param {} body - 
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchCobrowsesessionsCobrowseIdParticipantsParticipantIdAttributes = function patchCobrowsesessionsCobrowseIdParticipantsParticipantIdAttributes(cobrowseId, participantId, body) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant's communication by disconnecting it.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @param {string} communicationId - communicationId
  * @param {} body - Participant
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchCobrowsesessionsCobrowseIdParticipantsParticipantIdCommunicationsCommunicationId = function patchCobrowsesessionsCobrowseIdParticipantsParticipantIdCommunicationsCommunicationId(cobrowseId, participantId, communicationId, body) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}/communications/{communicationId}';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (communicationId === undefined || communicationId === null) {
    throw new Error('Missing required  parameter: communicationId');
  }
  requestPath = requestPath.replace('{communicationId}', communicationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @param {} body - 
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postCobrowsesessionsCobrowseIdParticipantsParticipantIdReplace = function postCobrowsesessionsCobrowseIdParticipantsParticipantIdReplace(cobrowseId, participantId, body) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "code": "",
   "name": "",
   "notes": "",
   "tags": [],
   "durationSeconds": 0,
   "endTime": "",
   "provisional": true
}
  */
ConversationsApi.prototype.getCobrowsesessionsCobrowseIdParticipantsParticipantIdWrapup = function getCobrowsesessionsCobrowseIdParticipantsParticipantIdWrapup(cobrowseId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} cobrowseId - cobrowseId
  * @param {string} participantId - participantId
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getCobrowsesessionsCobrowseIdParticipantsParticipantIdWrapupcodes = function getCobrowsesessionsCobrowseIdParticipantsParticipantIdWrapupcodes(cobrowseId, participantId) {
  var requestPath = '/api/v2/conversations/cobrowsesessions/{cobrowseId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (cobrowseId === undefined || cobrowseId === null) {
    throw new Error('Missing required  parameter: cobrowseId');
  }
  requestPath = requestPath.replace('{cobrowseId}', cobrowseId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent email conversations
  * @memberOf ConversationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getEmails = function getEmails() {
  var requestPath = '/api/v2/conversations/emails';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get email conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "participants": [],
   "otherMediaUris": [],
   "selfUri": ""
}
  */
ConversationsApi.prototype.getEmailsEmailId = function getEmailsEmailId(emailId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a conversation by disconnecting all of the participants
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {} body - Conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.patchEmailsEmailId = function patchEmailsEmailId(emailId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get conversation messages
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ConversationsApi.prototype.getEmailsEmailIdMessages = function getEmailsEmailIdMessages(emailId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Send an email reply
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {} body - Reply
  * @example
  * Body Example:
  * {
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.postEmailsEmailIdMessages = function postEmailsEmailIdMessages(emailId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get conversation draft reply
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.getEmailsEmailIdMessagesDraft = function getEmailsEmailIdMessagesDraft(emailId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages/draft';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation draft reply
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {} body - Draft
  * @example
  * Body Example:
  * {
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.putEmailsEmailIdMessagesDraft = function putEmailsEmailIdMessagesDraft(emailId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages/draft';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete attachment from draft
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} attachmentId - attachmentId
  */
ConversationsApi.prototype.deleteEmailsEmailIdMessagesDraftAttachmentsAttachmentId = function deleteEmailsEmailIdMessagesDraftAttachmentsAttachmentId(emailId, attachmentId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages/draft/attachments/{attachmentId}';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (attachmentId === undefined || attachmentId === null) {
    throw new Error('Missing required  parameter: attachmentId');
  }
  requestPath = requestPath.replace('{attachmentId}', attachmentId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get conversation message
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} messageId - messageId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "to": [],
   "cc": [],
   "bcc": [],
   "from": {
      "email": "",
      "name": ""
   },
   "subject": "",
   "attachments": [],
   "textBody": "",
   "htmlBody": "",
   "time": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.getEmailsEmailIdMessagesMessageId = function getEmailsEmailIdMessagesMessageId(emailId, messageId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/messages/{messageId}';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (messageId === undefined || messageId === null) {
    throw new Error('Missing required  parameter: messageId');
  }
  requestPath = requestPath.replace('{messageId}', messageId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} participantId - participantId
  * @param {} body - Update request
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchEmailsEmailIdParticipantsParticipantId = function patchEmailsEmailIdParticipantsParticipantId(emailId, participantId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} participantId - participantId
  * @param {} body - Participant attributes
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchEmailsEmailIdParticipantsParticipantIdAttributes = function patchEmailsEmailIdParticipantsParticipantIdAttributes(emailId, participantId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} participantId - participantId
  * @param {} body - Transfer request
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postEmailsEmailIdParticipantsParticipantIdReplace = function postEmailsEmailIdParticipantsParticipantIdReplace(emailId, participantId, body) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} participantId - participantId
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "code": "",
   "name": "",
   "notes": "",
   "tags": [],
   "durationSeconds": 0,
   "endTime": "",
   "provisional": true
}
  */
ConversationsApi.prototype.getEmailsEmailIdParticipantsParticipantIdWrapup = function getEmailsEmailIdParticipantsParticipantIdWrapup(emailId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} emailId - emailId
  * @param {string} participantId - participantId
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getEmailsEmailIdParticipantsParticipantIdWrapupcodes = function getEmailsEmailIdParticipantsParticipantIdWrapupcodes(emailId, participantId) {
  var requestPath = '/api/v2/conversations/emails/{emailId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (emailId === undefined || emailId === null) {
    throw new Error('Missing required  parameter: emailId');
  }
  requestPath = requestPath.replace('{emailId}', emailId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create Fax Conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {} body - Fax
  * @example
  * Body Example:
  * {
   "name": "",
   "addresses": [],
   "documentId": "",
   "contentType": "",
   "workspace": {
      "name": "",
      "type": "",
      "isCurrentUserWorkspace": true,
      "user": {},
      "bucket": "",
      "dateCreated": "",
      "dateModified": "",
      "summary": {},
      "acl": [],
      "description": ""
   },
   "coverSheet": {
      "notes": "",
      "locale": ""
   },
   "timeZoneOffsetMinutes": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "uploadDestinationUri": "",
   "uploadMethodType": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.postFaxes = function postFaxes(body) {
  var requestPath = '/api/v2/conversations/faxes';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get conversation
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "startTime": "",
   "endTime": "",
   "address": "",
   "participants": [],
   "conversationIds": [],
   "maxParticipants": 0,
   "recordingState": "",
   "state": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.getConversationId = function getConversationId(conversationId) {
  var requestPath = '/api/v2/conversations/{conversationId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a participant.
  * @description Update conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {} body - Update request
  * @example
  * Body Example:
  * {
   "wrapup": {
      "code": "",
      "name": "",
      "notes": "",
      "tags": [],
      "durationSeconds": 0,
      "endTime": "",
      "provisional": true
   },
   "state": "",
   "recording": true,
   "muted": true,
   "confined": true,
   "held": true,
   "wrapupSkipped": true
}
  */
ConversationsApi.prototype.patchConversationIdParticipantsParticipantId = function patchConversationIdParticipantsParticipantId(conversationId, participantId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the attributes on a conversation participant.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {} body - Participant attributes
  * @example
  * Body Example:
  * {
   "attributes": {}
}
  */
ConversationsApi.prototype.patchConversationIdParticipantsParticipantIdAttributes = function patchConversationIdParticipantsParticipantIdAttributes(conversationId, participantId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/attributes';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a new callback for the specified participant on the conversation.
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {} body - 
  * @example
  * Body Example:
  * {
   "scriptId": "",
   "queueId": "",
   "routingData": {
      "queueId": "",
      "languageId": "",
      "priority": 0,
      "skillIds": [],
      "preferredAgentIds": []
   },
   "callbackUserName": "",
   "callbackNumbers": [],
   "callbackScheduledTime": "",
   "countryCode": "",
   "isAutomated": true,
   "automatedCallbackConfigId": "",
   "data": {}
}
  */
ConversationsApi.prototype.postConversationIdParticipantsParticipantIdCallbacks = function postConversationIdParticipantsParticipantIdCallbacks(conversationId, participantId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/callbacks';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a code used to add a communication to this participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {string} addCommunicationCode - addCommunicationCode
  */
ConversationsApi.prototype.deleteConversationIdParticipantsParticipantIdCodesAddcommunicationcode = function deleteConversationIdParticipantsParticipantIdCodesAddcommunicationcode(conversationId, participantId, addCommunicationCode) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/codes/{addCommunicationCode}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (addCommunicationCode === undefined || addCommunicationCode === null) {
    throw new Error('Missing required  parameter: addCommunicationCode');
  }
  requestPath = requestPath.replace('{addCommunicationCode}', addCommunicationCode);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace this participant with the specified user and/or address
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {} body - Transfer request
  * @example
  * Body Example:
  * {
   "userId": "",
   "address": "",
   "userName": "",
   "queueId": "",
   "voicemail": true
}
  */
ConversationsApi.prototype.postConversationIdParticipantsParticipantIdReplace = function postConversationIdParticipantsParticipantIdReplace(conversationId, participantId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/replace';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up for this conversation participant. 
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @param {boolean} provisional - Indicates if the wrap-up code is provisional.
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "selfUri": ""
}
  */
ConversationsApi.prototype.getConversationIdParticipantsParticipantIdWrapup = function getConversationIdParticipantsParticipantIdWrapup(conversationId, participantId, provisional) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/wrapup';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  requestQuery["provisional"] = provisional;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes for this conversation participant
  * @memberOf ConversationsApi
  * @instance
  * @param {string} conversationId - conversation ID
  * @param {string} participantId - participant ID
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
ConversationsApi.prototype.getConversationIdParticipantsParticipantIdWrapupcodes = function getConversationIdParticipantsParticipantIdWrapupcodes(conversationId, participantId) {
  var requestPath = '/api/v2/conversations/{conversationId}/participants/{participantId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (participantId === undefined || participantId === null) {
    throw new Error('Missing required  parameter: participantId');
  }
  requestPath = requestPath.replace('{participantId}', participantId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = ConversationsApi;

},{}],9:[function(require,module,exports){
'use strict';

/**
* @class FaxApi
* @example
* var api = new purecloud.platform.FaxApi(pureCloudSession);
*/
function FaxApi(session) {
  if (!(this instanceof FaxApi)) {
    return new FaxApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('FaxApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get a list of fax documents.
  * @memberOf FaxApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
FaxApi.prototype.getDocuments = function getDocuments(pageSize, pageNumber) {
  var requestPath = '/api/v2/fax/documents';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a document.
  * @memberOf FaxApi
  * @instance
  * @param {string} documentId - Document ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "filename": "",
   "read": true,
   "pageCount": 0,
   "callerAddress": "",
   "receiverAddress": "",
   "thumbnails": [],
   "sharingUri": "",
   "downloadSharingUri": "",
   "selfUri": ""
}
  */
FaxApi.prototype.getDocumentsDocumentId = function getDocumentsDocumentId(documentId) {
  var requestPath = '/api/v2/fax/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a fax document.
  * @memberOf FaxApi
  * @instance
  * @param {string} documentId - Document ID
  * @param {} body - Document
  * @example
  * Body Example:
  * {
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "filename": "",
   "read": true,
   "pageCount": 0,
   "callerAddress": "",
   "receiverAddress": "",
   "thumbnails": [],
   "sharingUri": "",
   "downloadSharingUri": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contentType": "",
   "contentLength": 0,
   "filename": "",
   "read": true,
   "pageCount": 0,
   "callerAddress": "",
   "receiverAddress": "",
   "thumbnails": [],
   "sharingUri": "",
   "downloadSharingUri": "",
   "selfUri": ""
}
  */
FaxApi.prototype.putDocumentsDocumentId = function putDocumentsDocumentId(documentId, body) {
  var requestPath = '/api/v2/fax/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a fax document.
  * @memberOf FaxApi
  * @instance
  * @param {string} documentId - Document ID
  */
FaxApi.prototype.deleteDocumentsDocumentId = function deleteDocumentsDocumentId(documentId) {
  var requestPath = '/api/v2/fax/documents/{documentId}';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Download a fax document.
  * @memberOf FaxApi
  * @instance
  * @param {string} documentId - Document ID
  * @example
  * 200 Response Example:
  * {
   "contentLocationUri": "",
   "imageUri": "",
   "thumbnails": []
}
  */
FaxApi.prototype.getDocumentsDocumentIdContent = function getDocumentsDocumentIdContent(documentId) {
  var requestPath = '/api/v2/fax/documents/{documentId}/content';
  var requestQuery = {};
  var requestBody;

  if (documentId === undefined || documentId === null) {
    throw new Error('Missing required  parameter: documentId');
  }
  requestPath = requestPath.replace('{documentId}', documentId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get fax summary
  * @memberOf FaxApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "readCount": 0,
   "unreadCount": 0,
   "totalCount": 0
}
  */
FaxApi.prototype.getSummary = function getSummary() {
  var requestPath = '/api/v2/fax/summary';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = FaxApi;

},{}],10:[function(require,module,exports){
'use strict';

/**
* @class GeolocationApi
* @example
* var api = new purecloud.platform.GeolocationApi(pureCloudSession);
*/
function GeolocationApi(session) {
  if (!(this instanceof GeolocationApi)) {
    return new GeolocationApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('GeolocationApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get a organization's GeolocationSettings
  * @memberOf GeolocationApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "enabled": true,
   "selfUri": ""
}
  */
GeolocationApi.prototype.getSettings = function getSettings() {
  var requestPath = '/api/v2/geolocations/settings';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a organization's GeolocationSettings
  * @memberOf GeolocationApi
  * @instance
  * @param {} body - Geolocation settings
  * @example
  * Body Example:
  * {
   "name": "",
   "enabled": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "enabled": true,
   "selfUri": ""
}
  */
GeolocationApi.prototype.patchSettings = function patchSettings(body) {
  var requestPath = '/api/v2/geolocations/settings';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user's Geolocation
  * @memberOf GeolocationApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} clientId - client Id
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": "",
   "selfUri": ""
}
  */
GeolocationApi.prototype.getUserIdGeolocationsClientId = function getUserIdGeolocationsClientId(userId, clientId) {
  var requestPath = '/api/v2/users/{userId}/geolocations/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a user's Geolocation
  * @description The geolocation object can be patched one of three ways. Option 1: Set the 'primary' property to true. This will set the client as the user's primary geolocation source.  Option 2: Provide the 'latitude' and 'longitude' values.  This will enqueue an asynchronous update of the 'city', 'region', and 'country', generating a notification. A subsequent GET operation will include the new values for 'city', 'region' and 'country'.  Option 3:  Provide the 'city', 'region', 'country' values.  Option 1 can be combined with Option 2 or Option 3.  For example, update the client as primary and provide latitude and longitude values.
  * @memberOf GeolocationApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} clientId - client Id
  * @param {} body - Geolocation
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": "",
   "selfUri": ""
}
  */
GeolocationApi.prototype.patchUserIdGeolocationsClientId = function patchUserIdGeolocationsClientId(userId, clientId, body) {
  var requestPath = '/api/v2/users/{userId}/geolocations/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

module.exports = GeolocationApi;

},{}],11:[function(require,module,exports){
'use strict';

/**
* @class GreetingsApi
* @example
* var api = new purecloud.platform.GreetingsApi(pureCloudSession);
*/
function GreetingsApi(session) {
  if (!(this instanceof GreetingsApi)) {
    return new GreetingsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('GreetingsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Gets an Organization's Greetings
  * @memberOf GreetingsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
GreetingsApi.prototype.getGreetings = function getGreetings(pageSize, pageNumber) {
  var requestPath = '/api/v2/greetings';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a Greeting for an Organization
  * @memberOf GreetingsApi
  * @instance
  * @param {} body - The Greeting to create
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "name": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.postGreetings = function postGreetings(body) {
  var requestPath = '/api/v2/greetings';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an Organization's DefaultGreetingList
  * @memberOf GreetingsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.getDefaults = function getDefaults() {
  var requestPath = '/api/v2/greetings/defaults';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an Organization's DefaultGreetingList
  * @memberOf GreetingsApi
  * @instance
  * @param {} body - The updated defaultGreetingList
  * @example
  * Body Example:
  * {
   "name": "",
   "owner": {
      "name": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.putDefaults = function putDefaults(body) {
  var requestPath = '/api/v2/greetings/defaults';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a Greeting with the given GreetingId
  * @memberOf GreetingsApi
  * @instance
  * @param {string} greetingId - Greeting ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.getGreetingId = function getGreetingId(greetingId) {
  var requestPath = '/api/v2/greetings/{greetingId}';
  var requestQuery = {};
  var requestBody;

  if (greetingId === undefined || greetingId === null) {
    throw new Error('Missing required  parameter: greetingId');
  }
  requestPath = requestPath.replace('{greetingId}', greetingId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Updates the Greeting with the given GreetingId
  * @memberOf GreetingsApi
  * @instance
  * @param {string} greetingId - Greeting ID
  * @param {} body - The updated Greeting
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "name": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.putGreetingId = function putGreetingId(greetingId, body) {
  var requestPath = '/api/v2/greetings/{greetingId}';
  var requestQuery = {};
  var requestBody;

  if (greetingId === undefined || greetingId === null) {
    throw new Error('Missing required  parameter: greetingId');
  }
  requestPath = requestPath.replace('{greetingId}', greetingId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Deletes a Greeting with the given GreetingId
  * @memberOf GreetingsApi
  * @instance
  * @param {string} greetingId - Greeting ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.deleteGreetingId = function deleteGreetingId(greetingId) {
  var requestPath = '/api/v2/greetings/{greetingId}';
  var requestQuery = {};
  var requestBody;

  if (greetingId === undefined || greetingId === null) {
    throw new Error('Missing required  parameter: greetingId');
  }
  requestPath = requestPath.replace('{greetingId}', greetingId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get media playback URI for this greeting
  * @memberOf GreetingsApi
  * @instance
  * @param {string} greetingId - Greeting ID
  * @param {string} formatId - The desired media format.
  WAV,
  WEBM,
  WAV_ULAW,
  OGG_VORBIS,
  OGG_OPUS,
  NONE,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "mediaFileUri": "",
   "mediaImageUri": ""
}
  */
GreetingsApi.prototype.getGreetingIdMedia = function getGreetingIdMedia(greetingId, formatId) {
  var requestPath = '/api/v2/greetings/{greetingId}/media';
  var requestQuery = {};
  var requestBody;

  if (greetingId === undefined || greetingId === null) {
    throw new Error('Missing required  parameter: greetingId');
  }
  requestPath = requestPath.replace('{greetingId}', greetingId);
  requestQuery["formatId"] = formatId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a list of the User's Greetings
  * @memberOf GreetingsApi
  * @instance
  * @param {string} userId - User ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
GreetingsApi.prototype.getUserIdGreetings = function getUserIdGreetings(userId, pageSize, pageNumber) {
  var requestPath = '/api/v2/users/{userId}/greetings';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Creates a Greeting for a User
  * @memberOf GreetingsApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - The Greeting to create
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "name": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "ownerType": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "audioFile": {
      "durationMilliseconds": 0,
      "sizeBytes": 0,
      "selfUri": ""
   },
   "audioTTS": "",
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.postUserIdGreetings = function postUserIdGreetings(userId, body) {
  var requestPath = '/api/v2/users/{userId}/greetings';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Grabs the list of Default Greetings given a User's ID
  * @memberOf GreetingsApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.getUserIdGreetingsDefaults = function getUserIdGreetingsDefaults(userId) {
  var requestPath = '/api/v2/users/{userId}/greetings/defaults';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Updates the DefaultGreetingList of the specified User
  * @memberOf GreetingsApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - The updated defaultGreetingList
  * @example
  * Body Example:
  * {
   "name": "",
   "owner": {
      "name": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "greetings": {},
   "createdDate": "",
   "createdBy": "",
   "modifiedDate": "",
   "modifiedBy": "",
   "selfUri": ""
}
  */
GreetingsApi.prototype.putUserIdGreetingsDefaults = function putUserIdGreetingsDefaults(userId, body) {
  var requestPath = '/api/v2/users/{userId}/greetings/defaults';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

module.exports = GreetingsApi;

},{}],12:[function(require,module,exports){
'use strict';

/**
* @class GroupsApi
* @example
* var api = new purecloud.platform.GroupsApi(pureCloudSession);
*/
function GroupsApi(session) {
  if (!(this instanceof GroupsApi)) {
    return new GroupsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('GroupsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get a group list
  * @memberOf GroupsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
GroupsApi.prototype.getGroups = function getGroups(pageSize, pageNumber, sortOrder) {
  var requestPath = '/api/v2/groups';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a group
  * @memberOf GroupsApi
  * @instance
  * @param {} body - Group
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "type": "",
   "images": [],
   "addresses": [],
   "rulesVisible": true,
   "visibility": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "dateModified": "",
   "memberCount": 0,
   "state": "",
   "version": 0,
   "type": "",
   "images": [],
   "addresses": [],
   "rulesVisible": true,
   "visibility": "",
   "selfUri": ""
}
  */
GroupsApi.prototype.postGroups = function postGroups(body) {
  var requestPath = '/api/v2/groups';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf GroupsApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
GroupsApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/groups/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf GroupsApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
GroupsApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/groups/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get group
  * @memberOf GroupsApi
  * @instance
  * @param {string} groupId - Group ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "dateModified": "",
   "memberCount": 0,
   "state": "",
   "version": 0,
   "type": "",
   "images": [],
   "addresses": [],
   "rulesVisible": true,
   "visibility": "",
   "selfUri": ""
}
  */
GroupsApi.prototype.getGroupId = function getGroupId(groupId) {
  var requestPath = '/api/v2/groups/{groupId}';
  var requestQuery = {};
  var requestBody;

  if (groupId === undefined || groupId === null) {
    throw new Error('Missing required  parameter: groupId');
  }
  requestPath = requestPath.replace('{groupId}', groupId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get group members
  * @memberOf GroupsApi
  * @instance
  * @param {string} groupId - Group ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
GroupsApi.prototype.getGroupIdMembers = function getGroupIdMembers(groupId, pageSize, pageNumber, sortOrder) {
  var requestPath = '/api/v2/groups/{groupId}/members';
  var requestQuery = {};
  var requestBody;

  if (groupId === undefined || groupId === null) {
    throw new Error('Missing required  parameter: groupId');
  }
  requestPath = requestPath.replace('{groupId}', groupId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add members
  * @memberOf GroupsApi
  * @instance
  * @param {string} groupId - Group ID
  * @param {} body - Add members
  * @example
  * Body Example:
  * {
   "memberIds": [],
   "version": 0
}
  */
GroupsApi.prototype.postGroupIdMembers = function postGroupIdMembers(groupId, body) {
  var requestPath = '/api/v2/groups/{groupId}/members';
  var requestQuery = {};
  var requestBody;

  if (groupId === undefined || groupId === null) {
    throw new Error('Missing required  parameter: groupId');
  }
  requestPath = requestPath.replace('{groupId}', groupId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Remove members
  * @memberOf GroupsApi
  * @instance
  * @param {string} groupId - Group ID
  * @param {string} ids - Comma separated list of userIds to remove
  */
GroupsApi.prototype.deleteGroupIdMembers = function deleteGroupIdMembers(groupId, ids) {
  var requestPath = '/api/v2/groups/{groupId}/members';
  var requestQuery = {};
  var requestBody;

  if (groupId === undefined || groupId === null) {
    throw new Error('Missing required  parameter: groupId');
  }
  requestPath = requestPath.replace('{groupId}', groupId);
  if (ids === undefined || ids === null) {
    throw new Error('Missing required  parameter: ids');
  }
  requestQuery["ids"] = ids;
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = GroupsApi;

},{}],13:[function(require,module,exports){
'use strict';

/**
* @class IdentityProviderApi
* @example
* var api = new purecloud.platform.IdentityProviderApi(pureCloudSession);
*/
function IdentityProviderApi(session) {
  if (!(this instanceof IdentityProviderApi)) {
    return new IdentityProviderApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('IdentityProviderApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary The list of identity providers
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
IdentityProviderApi.prototype.getIdentityproviders = function getIdentityproviders() {
  var requestPath = '/api/v2/identityproviders';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get ADFS Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "relyingPartyIdentifier": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getAdfs = function getAdfs() {
  var requestPath = '/api/v2/identityproviders/adfs';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create ADFS Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "relyingPartyIdentifier": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putAdfs = function putAdfs(body) {
  var requestPath = '/api/v2/identityproviders/adfs';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete ADFS Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteAdfs = function deleteAdfs() {
  var requestPath = '/api/v2/identityproviders/adfs';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Customer Interaction Center (CIC) Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getCic = function getCic() {
  var requestPath = '/api/v2/identityproviders/cic';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create Customer Interaction Center (CIC) Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putCic = function putCic(body) {
  var requestPath = '/api/v2/identityproviders/cic';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete Customer Interaction Center (CIC) Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteCic = function deleteCic() {
  var requestPath = '/api/v2/identityproviders/cic';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Okta Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getOkta = function getOkta() {
  var requestPath = '/api/v2/identityproviders/okta';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create Okta Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putOkta = function putOkta(body) {
  var requestPath = '/api/v2/identityproviders/okta';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete Okta Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteOkta = function deleteOkta() {
  var requestPath = '/api/v2/identityproviders/okta';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get OneLogin Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getOnelogin = function getOnelogin() {
  var requestPath = '/api/v2/identityproviders/onelogin';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create OneLogin Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putOnelogin = function putOnelogin(body) {
  var requestPath = '/api/v2/identityproviders/onelogin';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete OneLogin Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteOnelogin = function deleteOnelogin() {
  var requestPath = '/api/v2/identityproviders/onelogin';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get PureCloud Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getPurecloud = function getPurecloud() {
  var requestPath = '/api/v2/identityproviders/purecloud';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create PureCloud Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putPurecloud = function putPurecloud(body) {
  var requestPath = '/api/v2/identityproviders/purecloud';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete PureCloud Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deletePurecloud = function deletePurecloud() {
  var requestPath = '/api/v2/identityproviders/purecloud';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Salesforce Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getSalesforce = function getSalesforce() {
  var requestPath = '/api/v2/identityproviders/salesforce';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update/Create Salesforce Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "certificate": "",
   "issuerURI": "",
   "ssoTargetURI": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putSalesforce = function putSalesforce(body) {
  var requestPath = '/api/v2/identityproviders/salesforce';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete Salesforce Identity Provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteSalesforce = function deleteSalesforce() {
  var requestPath = '/api/v2/identityproviders/salesforce';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an identity provider
  * @memberOf IdentityProviderApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "disabled": true,
   "selfUri": ""
}
  */
IdentityProviderApi.prototype.getProviderId = function getProviderId() {
  var requestPath = '/api/v2/identityproviders/{providerId}';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an identity provider
  * @memberOf IdentityProviderApi
  * @instance
  * @param {} body - Provider
  * @example
  * Body Example:
  * {
   "name": "",
   "disabled": true
}
  */
IdentityProviderApi.prototype.putProviderId = function putProviderId(body) {
  var requestPath = '/api/v2/identityproviders/{providerId}';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an identity provider
  * @memberOf IdentityProviderApi
  * @instance
  */
IdentityProviderApi.prototype.deleteProviderId = function deleteProviderId() {
  var requestPath = '/api/v2/identityproviders/{providerId}';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = IdentityProviderApi;

},{}],14:[function(require,module,exports){
'use strict';

/**
* @class LanguagesApi
* @example
* var api = new purecloud.platform.LanguagesApi(pureCloudSession);
*/
function LanguagesApi(session) {
  if (!(this instanceof LanguagesApi)) {
    return new LanguagesApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('LanguagesApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get the list of supported languages.
  * @memberOf LanguagesApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @param {string} name - Name
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
LanguagesApi.prototype.getLanguages = function getLanguages(pageSize, pageNumber, sortOrder, name) {
  var requestPath = '/api/v2/languages';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  requestQuery["name"] = name;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create Language
  * @memberOf LanguagesApi
  * @instance
  * @param {} body - Language
  * @example
  * Body Example:
  * {
   "name": "",
   "dateModified": "",
   "state": "",
   "version": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateModified": "",
   "state": "",
   "version": "",
   "selfUri": ""
}
  */
LanguagesApi.prototype.postLanguages = function postLanguages(body) {
  var requestPath = '/api/v2/languages';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get language
  * @memberOf LanguagesApi
  * @instance
  * @param {string} languageId - Language ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateModified": "",
   "state": "",
   "version": "",
   "selfUri": ""
}
  */
LanguagesApi.prototype.getLanguageId = function getLanguageId(languageId) {
  var requestPath = '/api/v2/languages/{languageId}';
  var requestQuery = {};
  var requestBody;

  if (languageId === undefined || languageId === null) {
    throw new Error('Missing required  parameter: languageId');
  }
  requestPath = requestPath.replace('{languageId}', languageId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update Language
  * @memberOf LanguagesApi
  * @instance
  * @param {string} languageId - Language ID
  * @param {} body - Language
  * @example
  * Body Example:
  * {
   "name": "",
   "dateModified": "",
   "state": "",
   "version": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateModified": "",
   "state": "",
   "version": "",
   "selfUri": ""
}
  */
LanguagesApi.prototype.putLanguageId = function putLanguageId(languageId, body) {
  var requestPath = '/api/v2/languages/{languageId}';
  var requestQuery = {};
  var requestBody;

  if (languageId === undefined || languageId === null) {
    throw new Error('Missing required  parameter: languageId');
  }
  requestPath = requestPath.replace('{languageId}', languageId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete Language
  * @memberOf LanguagesApi
  * @instance
  * @param {string} languageId - Language ID
  */
LanguagesApi.prototype.deleteLanguageId = function deleteLanguageId(languageId) {
  var requestPath = '/api/v2/languages/{languageId}';
  var requestQuery = {};
  var requestBody;

  if (languageId === undefined || languageId === null) {
    throw new Error('Missing required  parameter: languageId');
  }
  requestPath = requestPath.replace('{languageId}', languageId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = LanguagesApi;

},{}],15:[function(require,module,exports){
'use strict';

/**
* @class LocationsApi
* @example
* var api = new purecloud.platform.LocationsApi(pureCloudSession);
*/
function LocationsApi(session) {
  if (!(this instanceof LocationsApi)) {
    return new LocationsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('LocationsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get a list of all locations.
  * @memberOf LocationsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Sort order
  asc,
  desc,
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "address": {
   "city": "",
   "country": "",
   "countryName": "",
   "state": "",
   "street1": "",
   "street2": "",
   "zipcode": ""
  },
  "addressVerified": true,
  "emergencyNumber": {
   "e164": "",
   "number": "",
   "type": ""
  },
  "state": "",
  "version": 0,
  "path": [],
  "selfUri": ""
 }
]
  */
LocationsApi.prototype.getLocations = function getLocations(pageSize, pageNumber, sortOrder) {
  var requestPath = '/api/v2/locations';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf LocationsApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
LocationsApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/locations/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf LocationsApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
LocationsApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/locations/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Location by ID.
  * @memberOf LocationsApi
  * @instance
  * @param {string} locationId - Location ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "address": {
      "city": "",
      "country": "",
      "countryName": "",
      "state": "",
      "street1": "",
      "street2": "",
      "zipcode": ""
   },
   "addressVerified": true,
   "emergencyNumber": {
      "e164": "",
      "number": "",
      "type": ""
   },
   "state": "",
   "version": 0,
   "path": [],
   "selfUri": ""
}
  */
LocationsApi.prototype.getLocationId = function getLocationId(locationId) {
  var requestPath = '/api/v2/locations/{locationId}';
  var requestQuery = {};
  var requestBody;

  if (locationId === undefined || locationId === null) {
    throw new Error('Missing required  parameter: locationId');
  }
  requestPath = requestPath.replace('{locationId}', locationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = LocationsApi;

},{}],16:[function(require,module,exports){
'use strict';

/**
* @class NotificationsApi
* @example
* var api = new purecloud.platform.NotificationsApi(pureCloudSession);
*/
function NotificationsApi(session) {
  if (!(this instanceof NotificationsApi)) {
    return new NotificationsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('NotificationsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get available notification topics.
  * @memberOf NotificationsApi
  * @instance
  * @param {array} expand - Which fields, if any, to expand Valid Values: description, requiresPermissions, schema
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
NotificationsApi.prototype.getAvailabletopics = function getAvailabletopics(expand) {
  var requestPath = '/api/v2/notifications/availabletopics';
  var requestQuery = {};
  var requestBody;

  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary The list of existing channels
  * @memberOf NotificationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
NotificationsApi.prototype.getChannels = function getChannels() {
  var requestPath = '/api/v2/notifications/channels';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a new channel
  * @description There is a limit of 10 channels. Creating an 11th channel will remove the channel with oldest last used date.
  * @memberOf NotificationsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "connectUri": ""
}
  */
NotificationsApi.prototype.postChannels = function postChannels() {
  var requestPath = '/api/v2/notifications/channels';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary The list of all subscriptions for this channel
  * @memberOf NotificationsApi
  * @instance
  * @param {string} channelId - Channel ID
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
NotificationsApi.prototype.getChannelsChannelIdSubscriptions = function getChannelsChannelIdSubscriptions(channelId) {
  var requestPath = '/api/v2/notifications/channels/{channelId}/subscriptions';
  var requestQuery = {};
  var requestBody;

  if (channelId === undefined || channelId === null) {
    throw new Error('Missing required  parameter: channelId');
  }
  requestPath = requestPath.replace('{channelId}', channelId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add a list of subscriptions to the existing list of subscriptions
  * @memberOf NotificationsApi
  * @instance
  * @param {string} channelId - Channel ID
  * @param {} body - Topic
  * @example
  * Body Example:
  * [
 {
  "id": ""
 }
]
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
NotificationsApi.prototype.postChannelsChannelIdSubscriptions = function postChannelsChannelIdSubscriptions(channelId, body) {
  var requestPath = '/api/v2/notifications/channels/{channelId}/subscriptions';
  var requestQuery = {};
  var requestBody;

  if (channelId === undefined || channelId === null) {
    throw new Error('Missing required  parameter: channelId');
  }
  requestPath = requestPath.replace('{channelId}', channelId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Replace the current list of subscriptions with a new list.
  * @memberOf NotificationsApi
  * @instance
  * @param {string} channelId - Channel ID
  * @param {} body - Topic
  * @example
  * Body Example:
  * [
 {
  "id": ""
 }
]
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
NotificationsApi.prototype.putChannelsChannelIdSubscriptions = function putChannelsChannelIdSubscriptions(channelId, body) {
  var requestPath = '/api/v2/notifications/channels/{channelId}/subscriptions';
  var requestQuery = {};
  var requestBody;

  if (channelId === undefined || channelId === null) {
    throw new Error('Missing required  parameter: channelId');
  }
  requestPath = requestPath.replace('{channelId}', channelId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Remove all subscriptions
  * @memberOf NotificationsApi
  * @instance
  * @param {string} channelId - Channel ID
  */
NotificationsApi.prototype.deleteChannelsChannelIdSubscriptions = function deleteChannelsChannelIdSubscriptions(channelId) {
  var requestPath = '/api/v2/notifications/channels/{channelId}/subscriptions';
  var requestQuery = {};
  var requestBody;

  if (channelId === undefined || channelId === null) {
    throw new Error('Missing required  parameter: channelId');
  }
  requestPath = requestPath.replace('{channelId}', channelId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = NotificationsApi;

},{}],17:[function(require,module,exports){
'use strict';

/**
* @class OAuthApi
* @example
* var api = new purecloud.platform.OAuthApi(pureCloudSession);
*/
function OAuthApi(session) {
  if (!(this instanceof OAuthApi)) {
    return new OAuthApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('OAuthApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary The list of OAuth clients
  * @memberOf OAuthApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OAuthApi.prototype.getClients = function getClients() {
  var requestPath = '/api/v2/oauth/clients';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create OAuth client
  * @description The OAuth Grant/Client is required in order to create an authentication token and gain access to PureCloud. 
The preferred authorizedGrantTypes is 'CODE' which requires applications to send a client ID and client secret. This is typically a web server. 
If the client is unable to secure the client secret then the 'TOKEN' grant type aka IMPLICIT should be used. This is would be for browser or mobile apps. 
If a client is to be used outside of the context of a user then the 'CLIENT-CREDENTIALS' grant may be used. In this case the client must be granted roles 
via the 'roleIds' field.
  * @memberOf OAuthApi
  * @instance
  * @param {} body - Client
  * @example
  * Body Example:
  * {
   "name": "",
   "accessTokenValiditySeconds": 0,
   "description": "",
   "registeredRedirectUri": [],
   "secret": "",
   "roleIds": [],
   "authorizedGrantType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "accessTokenValiditySeconds": 0,
   "description": "",
   "registeredRedirectUri": [],
   "secret": "",
   "roleIds": [],
   "authorizedGrantType": "",
   "selfUri": ""
}
  */
OAuthApi.prototype.postClients = function postClients(body) {
  var requestPath = '/api/v2/oauth/clients';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get OAuth Client
  * @memberOf OAuthApi
  * @instance
  * @param {string} clientId - Client ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "accessTokenValiditySeconds": 0,
   "description": "",
   "registeredRedirectUri": [],
   "secret": "",
   "roleIds": [],
   "authorizedGrantType": "",
   "selfUri": ""
}
  */
OAuthApi.prototype.getClientsClientId = function getClientsClientId(clientId) {
  var requestPath = '/api/v2/oauth/clients/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update OAuth Client
  * @memberOf OAuthApi
  * @instance
  * @param {string} clientId - Client ID
  * @param {} body - Client
  * @example
  * Body Example:
  * {
   "name": "",
   "accessTokenValiditySeconds": 0,
   "description": "",
   "registeredRedirectUri": [],
   "secret": "",
   "roleIds": [],
   "authorizedGrantType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "accessTokenValiditySeconds": 0,
   "description": "",
   "registeredRedirectUri": [],
   "secret": "",
   "roleIds": [],
   "authorizedGrantType": "",
   "selfUri": ""
}
  */
OAuthApi.prototype.putClientsClientId = function putClientsClientId(clientId, body) {
  var requestPath = '/api/v2/oauth/clients/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete OAuth Client
  * @memberOf OAuthApi
  * @instance
  * @param {string} clientId - Client ID
  */
OAuthApi.prototype.deleteClientsClientId = function deleteClientsClientId(clientId) {
  var requestPath = '/api/v2/oauth/clients/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Regenerate Client Secret
  * @description This operation will set the client secret to a randomly generated cryptographically random value. All clients must be updated with the new secret. This operation should be used with caution.
  * @memberOf OAuthApi
  * @instance
  * @param {string} clientId - Client ID
  */
OAuthApi.prototype.postClientsClientIdSecret = function postClientsClientIdSecret(clientId) {
  var requestPath = '/api/v2/oauth/clients/{clientId}/secret';
  var requestQuery = {};
  var requestBody;

  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

module.exports = OAuthApi;

},{}],18:[function(require,module,exports){
'use strict';

/**
* @class OrganizationApi
* @example
* var api = new purecloud.platform.OrganizationApi(pureCloudSession);
*/
function OrganizationApi(session) {
    if (!(this instanceof OrganizationApi)) {
        return new OrganizationApi(session);
    }
    if (!(session && session.makeRequest)) {
        throw new Error('OrganizationApi requires a PureCloudSession');
    }
    this.session = session;
}

/**
  * @summary Get organization.
  * @memberOf OrganizationApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "thirdPartyOrgId": "",
   "thirdPartyOrgName": "",
   "thirdPartyURI": "",
   "domain": "",
   "version": 0,
   "state": "",
   "defaultSiteId": "",
   "deletable": true,
   "selfUri": ""
}
  */
OrganizationApi.prototype.getMe = function getMe() {
    var requestPath = '/api/v2/organizations/me';
    var requestQuery = {};
    var requestBody;

    return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = OrganizationApi;

},{}],19:[function(require,module,exports){
'use strict';

/**
* @class OutboundApi
* @example
* var api = new purecloud.platform.OutboundApi(pureCloudSession);
*/
function OutboundApi(session) {
  if (!(this instanceof OutboundApi)) {
    return new OutboundApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('OutboundApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Retrieves audits for dialer.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - AuditSearch
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  * @param {boolean} facetsOnly - Facets only
  * @example
  * Body Example:
  * {
   "queryPhrase": "",
   "queryFields": [],
   "facets": [],
   "filters": []
}
  * @example
  * 200 Response Example:
  * {
   "pageNumber": 0,
   "pageSize": 0,
   "total": 0,
   "pageCount": 0,
   "facetInfo": [],
   "auditMessages": []
}
  */
OutboundApi.prototype.postAudits = function postAudits(body, pageSize, pageNumber, sortBy, sortOrder, facetsOnly) {
  var requestPath = '/api/v2/outbound/audits';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  requestQuery["facetsOnly"] = facetsOnly;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query callable time set list
  * @memberOf OutboundApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getCallabletimesets = function getCallabletimesets(pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/callabletimesets';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create callable time set
  * @memberOf OutboundApi
  * @instance
  * @param {} body - DialerCallableTimeSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "callableTimes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "callableTimes": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.postCallabletimesets = function postCallabletimesets(body) {
  var requestPath = '/api/v2/outbound/callabletimesets';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get callable time set
  * @memberOf OutboundApi
  * @instance
  * @param {string} callableTimeSetId - Callable Time Set ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "callableTimes": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.getCallabletimesetsCallabletimesetId = function getCallabletimesetsCallabletimesetId(callableTimeSetId) {
  var requestPath = '/api/v2/outbound/callabletimesets/{callableTimeSetId}';
  var requestQuery = {};
  var requestBody;

  if (callableTimeSetId === undefined || callableTimeSetId === null) {
    throw new Error('Missing required  parameter: callableTimeSetId');
  }
  requestPath = requestPath.replace('{callableTimeSetId}', callableTimeSetId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update callable time set
  * @memberOf OutboundApi
  * @instance
  * @param {string} callableTimeSetId - Callable Time Set ID
  * @param {} body - DialerCallableTimeSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "callableTimes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "callableTimes": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.putCallabletimesetsCallabletimesetId = function putCallabletimesetsCallabletimesetId(callableTimeSetId, body) {
  var requestPath = '/api/v2/outbound/callabletimesets/{callableTimeSetId}';
  var requestQuery = {};
  var requestBody;

  if (callableTimeSetId === undefined || callableTimeSetId === null) {
    throw new Error('Missing required  parameter: callableTimeSetId');
  }
  requestPath = requestPath.replace('{callableTimeSetId}', callableTimeSetId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete callable time set
  * @memberOf OutboundApi
  * @instance
  * @param {string} callableTimeSetId - Callable Time Set ID
  */
OutboundApi.prototype.deleteCallabletimesetsCallabletimesetId = function deleteCallabletimesetsCallabletimesetId(callableTimeSetId) {
  var requestPath = '/api/v2/outbound/callabletimesets/{callableTimeSetId}';
  var requestQuery = {};
  var requestBody;

  if (callableTimeSetId === undefined || callableTimeSetId === null) {
    throw new Error('Missing required  parameter: callableTimeSetId');
  }
  requestPath = requestPath.replace('{callableTimeSetId}', callableTimeSetId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query a list of dialer call analysis response sets.
  * @memberOf OutboundApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getCallanalysisresponsesets = function getCallanalysisresponsesets(pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/callanalysisresponsesets';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a dialer call analysis response set.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - ResponseSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "responses": {}
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "responses": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.postCallanalysisresponsesets = function postCallanalysisresponsesets(body) {
  var requestPath = '/api/v2/outbound/callanalysisresponsesets';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a dialer call analysis response set.
  * @memberOf OutboundApi
  * @instance
  * @param {string} callAnalysisSetId - Call Analysis Response Set ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "responses": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.getCallanalysisresponsesetsCallanalysissetId = function getCallanalysisresponsesetsCallanalysissetId(callAnalysisSetId) {
  var requestPath = '/api/v2/outbound/callanalysisresponsesets/{callAnalysisSetId}';
  var requestQuery = {};
  var requestBody;

  if (callAnalysisSetId === undefined || callAnalysisSetId === null) {
    throw new Error('Missing required  parameter: callAnalysisSetId');
  }
  requestPath = requestPath.replace('{callAnalysisSetId}', callAnalysisSetId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a dialer call analysis response set.
  * @memberOf OutboundApi
  * @instance
  * @param {string} callAnalysisSetId - Call Analysis Response Set ID
  * @param {} body - ResponseSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "responses": {}
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "responses": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.putCallanalysisresponsesetsCallanalysissetId = function putCallanalysisresponsesetsCallanalysissetId(callAnalysisSetId, body) {
  var requestPath = '/api/v2/outbound/callanalysisresponsesets/{callAnalysisSetId}';
  var requestQuery = {};
  var requestBody;

  if (callAnalysisSetId === undefined || callAnalysisSetId === null) {
    throw new Error('Missing required  parameter: callAnalysisSetId');
  }
  requestPath = requestPath.replace('{callAnalysisSetId}', callAnalysisSetId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a dialer call analysis response set.
  * @memberOf OutboundApi
  * @instance
  * @param {string} callAnalysisSetId - Call Analysis Response Set ID
  */
OutboundApi.prototype.deleteCallanalysisresponsesetsCallanalysissetId = function deleteCallanalysisresponsesetsCallanalysissetId(callAnalysisSetId) {
  var requestPath = '/api/v2/outbound/callanalysisresponsesets/{callAnalysisSetId}';
  var requestQuery = {};
  var requestBody;

  if (callAnalysisSetId === undefined || callAnalysisSetId === null) {
    throw new Error('Missing required  parameter: callAnalysisSetId');
  }
  requestPath = requestPath.replace('{callAnalysisSetId}', callAnalysisSetId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query a list of dialer campaigns.
  * @memberOf OutboundApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} contactListId - Contact List ID
  * @param {string} dncListId - DNC list ID
  * @param {string} distributionQueueId - Distribution queue ID
  * @param {string} edgeGroupId - Edge group ID
  * @param {string} callAnalysisResponseSetId - Call analysis response set ID
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getCampaigns = function getCampaigns(pageSize, pageNumber, filterType, name, contactListId, dncListId, distributionQueueId, edgeGroupId, callAnalysisResponseSetId, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/campaigns';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["contactListId"] = contactListId;
  requestQuery["dncListId"] = dncListId;
  requestQuery["distributionQueueId"] = distributionQueueId;
  requestQuery["edgeGroupId"] = edgeGroupId;
  requestQuery["callAnalysisResponseSetId"] = callAnalysisResponseSetId;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a campaign.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - Campaign
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dialingMode": "",
   "script": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "campaignStatus": "",
   "phoneColumns": [],
   "abandonRate": {},
   "dncLists": [],
   "callableTimeSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callAnalysisResponseSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callerName": "",
   "callerAddress": "",
   "outboundLineCount": 0,
   "ruleSets": [],
   "skipPreviewDisabled": true,
   "previewTimeOutSeconds": 0,
   "contactSort": {
      "fieldName": "",
      "direction": "",
      "numeric": true
   },
   "noAnswerTimeout": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dialingMode": "",
   "script": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "campaignStatus": "",
   "phoneColumns": [],
   "abandonRate": {},
   "dncLists": [],
   "callableTimeSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callAnalysisResponseSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "errors": [],
   "callerName": "",
   "callerAddress": "",
   "outboundLineCount": 0,
   "ruleSets": [],
   "skipPreviewDisabled": true,
   "previewTimeOutSeconds": 0,
   "contactSort": {
      "fieldName": "",
      "direction": "",
      "numeric": true
   },
   "noAnswerTimeout": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.postCampaigns = function postCampaigns(body) {
  var requestPath = '/api/v2/outbound/campaigns';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get progress for a list of campaigns
  * @memberOf OutboundApi
  * @instance
  * @param {} body - Campaign IDs
  * @example
  * 200 Response Example:
  * [
 {
  "campaign": {
   "id": "",
   "name": "",
   "selfUri": ""
  },
  "contactList": {
   "id": "",
   "name": "",
   "selfUri": ""
  },
  "numberOfContactsCalled": 0,
  "totalNumberOfContacts": 0,
  "percentage": 0
 }
]
  */
OutboundApi.prototype.postCampaignsProgress = function postCampaignsProgress(body) {
  var requestPath = '/api/v2/outbound/campaigns/progress';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get dialer campaign.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dialingMode": "",
   "script": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "campaignStatus": "",
   "phoneColumns": [],
   "abandonRate": {},
   "dncLists": [],
   "callableTimeSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callAnalysisResponseSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "errors": [],
   "callerName": "",
   "callerAddress": "",
   "outboundLineCount": 0,
   "ruleSets": [],
   "skipPreviewDisabled": true,
   "previewTimeOutSeconds": 0,
   "contactSort": {
      "fieldName": "",
      "direction": "",
      "numeric": true
   },
   "noAnswerTimeout": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.getCampaignsCampaignId = function getCampaignsCampaignId(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a campaign.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @param {} body - Campaign
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dialingMode": "",
   "script": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "campaignStatus": "",
   "phoneColumns": [],
   "abandonRate": {},
   "dncLists": [],
   "callableTimeSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callAnalysisResponseSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callerName": "",
   "callerAddress": "",
   "outboundLineCount": 0,
   "ruleSets": [],
   "skipPreviewDisabled": true,
   "previewTimeOutSeconds": 0,
   "contactSort": {
      "fieldName": "",
      "direction": "",
      "numeric": true
   },
   "noAnswerTimeout": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dialingMode": "",
   "script": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "campaignStatus": "",
   "phoneColumns": [],
   "abandonRate": {},
   "dncLists": [],
   "callableTimeSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callAnalysisResponseSet": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "errors": [],
   "callerName": "",
   "callerAddress": "",
   "outboundLineCount": 0,
   "ruleSets": [],
   "skipPreviewDisabled": true,
   "previewTimeOutSeconds": 0,
   "contactSort": {
      "fieldName": "",
      "direction": "",
      "numeric": true
   },
   "noAnswerTimeout": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.putCampaignsCampaignId = function putCampaignsCampaignId(campaignId, body) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a campaign.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  */
OutboundApi.prototype.deleteCampaignsCampaignId = function deleteCampaignsCampaignId(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Send notification that an agent's state changed 
  * @description New agent state.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @param {string} userId - Agent's user ID
  * @param {} body - agent
  * @example
  * Body Example:
  * {
   "stage": ""
}
  */
OutboundApi.prototype.putCampaignsCampaignIdAgentsUserId = function putCampaignsCampaignIdAgentsUserId(campaignId, userId, body) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/agents/{userId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Schedule a Callback for a Dialer Campaign
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @param {} body - ContactCallbackRequest
  * @example
  * Body Example:
  * {
   "campaignId": "",
   "contactListId": "",
   "contactId": "",
   "phoneColumn": "",
   "schedule": ""
}
  * @example
  * 200 Response Example:
  * {
   "campaignId": "",
   "contactListId": "",
   "contactId": "",
   "phoneColumn": "",
   "schedule": ""
}
  */
OutboundApi.prototype.postCampaignsCampaignIdCallbackSchedule = function postCampaignsCampaignIdCallbackSchedule(campaignId, body) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/callback/schedule';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get campaign diagnostics
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "callableContacts": {
      "dncLists": [],
      "callableTimeSet": {},
      "ruleSets": []
   },
   "queueUtilizationDiagnostic": {
      "queue": {},
      "usersInQueue": 0,
      "activeUsersInQueue": 0,
      "usersOnQueue": 0,
      "usersNotUtilized": 0,
      "usersOnQueueWithStation": 0,
      "usersOnACampaignCall": 0,
      "usersOnDifferentEdgeGroup": 0,
      "usersOnANonCampaignCall": 0
   },
   "ruleSetDiagnostics": [],
   "outstandingInteractionsCount": 0
}
  */
OutboundApi.prototype.getCampaignsCampaignIdDiagnostics = function getCampaignsCampaignIdDiagnostics(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/diagnostics';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get dialer campaign interactions.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "campaign": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "pendingInteractions": [],
   "proceedingInteractions": [],
   "previewingInteractions": [],
   "interactingInteractions": []
}
  */
OutboundApi.prototype.getCampaignsCampaignIdInteractions = function getCampaignsCampaignIdInteractions(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/interactions';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get campaign progress
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "campaign": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "numberOfContactsCalled": 0,
   "totalNumberOfContacts": 0,
   "percentage": 0
}
  */
OutboundApi.prototype.getCampaignsCampaignIdProgress = function getCampaignsCampaignIdProgress(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/progress';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Reset campaign progress and recycle the campaign
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  */
OutboundApi.prototype.deleteCampaignsCampaignIdProgress = function deleteCampaignsCampaignIdProgress(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/progress';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get statistics about a Dialer Campaign
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "contactRate": {
      "attempts": 0,
      "connects": 0,
      "connectRatio": {}
   },
   "idleAgents": 0,
   "adjustedCallsPerAgent": {},
   "outstandingCalls": 0
}
  */
OutboundApi.prototype.getCampaignsCampaignIdStats = function getCampaignsCampaignIdStats(campaignId) {
  var requestPath = '/api/v2/outbound/campaigns/{campaignId}/stats';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query a list of contact lists.
  * @memberOf OutboundApi
  * @instance
  * @param {boolean} includeImportStatus - Include import status
  * @param {boolean} includeSize - Include size
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getContactlists = function getContactlists(includeImportStatus, includeSize, pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/contactlists';
  var requestQuery = {};
  var requestBody;

  requestQuery["includeImportStatus"] = includeImportStatus;
  requestQuery["includeSize"] = includeSize;
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a contact List.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - ContactList
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "columnNames": [],
   "phoneColumns": [],
   "previewModeColumnName": "",
   "previewModeAcceptedValues": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "columnNames": [],
   "phoneColumns": [],
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "previewModeColumnName": "",
   "previewModeAcceptedValues": [],
   "size": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.postContactlists = function postContactlists(body) {
  var requestPath = '/api/v2/outbound/contactlists';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a dialer contact list.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  * @param {boolean} includeImportStatus - Import status
  * @param {boolean} includeSize - Include size
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "columnNames": [],
   "phoneColumns": [],
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "previewModeColumnName": "",
   "previewModeAcceptedValues": [],
   "size": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.getContactlistsContactlistId = function getContactlistsContactlistId(contactListId, includeImportStatus, includeSize) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  requestQuery["includeImportStatus"] = includeImportStatus;
  requestQuery["includeSize"] = includeSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a contact list.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  * @param {} body - ContactList
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "columnNames": [],
   "phoneColumns": [],
   "previewModeColumnName": "",
   "previewModeAcceptedValues": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "columnNames": [],
   "phoneColumns": [],
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "previewModeColumnName": "",
   "previewModeAcceptedValues": [],
   "size": 0,
   "selfUri": ""
}
  */
OutboundApi.prototype.putContactlistsContactlistId = function putContactlistsContactlistId(contactListId, body) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a contact list.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  */
OutboundApi.prototype.deleteContactlistsContactlistId = function deleteContactlistsContactlistId(contactListId) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add contacts to a contact list.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - Contact List ID
  * @param {} body - Contact
  * @param {boolean} priority - Contact priority.  True means the contact(s) will go to the beginning of the list, false means at the end.
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "contactListId": "",
  "data": {},
  "callable": true,
  "phoneNumberStatus": {}
 }
]
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "contactListId": "",
  "data": {},
  "callRecords": {},
  "callable": true,
  "phoneNumberStatus": {},
  "selfUri": ""
 }
]
  */
OutboundApi.prototype.postContactlistsContactlistIdContacts = function postContactlistsContactlistIdContacts(contactListId, body, priority) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/contacts';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["priority"] = priority;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a contact.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - Contact List ID
  * @param {string} contactId - Contact ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "contactListId": "",
   "data": {},
   "callRecords": {},
   "callable": true,
   "phoneNumberStatus": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.getContactlistsContactlistIdContactsContactId = function getContactlistsContactlistIdContactsContactId(contactListId, contactId) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/contacts/{contactId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  if (contactId === undefined || contactId === null) {
    throw new Error('Missing required  parameter: contactId');
  }
  requestPath = requestPath.replace('{contactId}', contactId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a contact.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - Contact List ID
  * @param {string} contactId - Contact ID
  * @param {} body - Contact
  * @example
  * Body Example:
  * {
   "name": "",
   "contactListId": "",
   "data": {},
   "callable": true,
   "phoneNumberStatus": {}
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "contactListId": "",
   "data": {},
   "callRecords": {},
   "callable": true,
   "phoneNumberStatus": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.putContactlistsContactlistIdContactsContactId = function putContactlistsContactlistIdContactsContactId(contactListId, contactId, body) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/contacts/{contactId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  if (contactId === undefined || contactId === null) {
    throw new Error('Missing required  parameter: contactId');
  }
  requestPath = requestPath.replace('{contactId}', contactId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a contact.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - Contact List ID
  * @param {string} contactId - Contact ID
  */
OutboundApi.prototype.deleteContactlistsContactlistIdContactsContactId = function deleteContactlistsContactlistIdContactsContactId(contactListId, contactId) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/contacts/{contactId}';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  if (contactId === undefined || contactId === null) {
    throw new Error('Missing required  parameter: contactId');
  }
  requestPath = requestPath.replace('{contactId}', contactId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the URI of a contact list export.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  * @param {string} download - Redirect to download uri
  * @example
  * 200 Response Example:
  * {
   "uri": "",
   "exportTimestamp": ""
}
  */
OutboundApi.prototype.getContactlistsContactlistIdExport = function getContactlistsContactlistIdExport(contactListId, download) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/export';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  requestQuery["download"] = download;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Initiate the export of a contact list.
  * @description Returns 200 if received OK.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  */
OutboundApi.prototype.postContactlistsContactlistIdExport = function postContactlistsContactlistIdExport(contactListId) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/export';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get dialer contactList import status.
  * @memberOf OutboundApi
  * @instance
  * @param {string} contactListId - ContactList ID
  * @example
  * 200 Response Example:
  * {
   "state": "",
   "totalRecords": 0,
   "completedRecords": 0,
   "percentComplete": 0,
   "failureReason": ""
}
  */
OutboundApi.prototype.getContactlistsContactlistIdImportstatus = function getContactlistsContactlistIdImportstatus(contactListId) {
  var requestPath = '/api/v2/outbound/contactlists/{contactListId}/importstatus';
  var requestQuery = {};
  var requestBody;

  if (contactListId === undefined || contactListId === null) {
    throw new Error('Missing required  parameter: contactListId');
  }
  requestPath = requestPath.replace('{contactListId}', contactListId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add phone numbers to a Dialer DNC list.
  * @memberOf OutboundApi
  * @instance
  * @param {string} conversationId - Conversation ID
  */
OutboundApi.prototype.postConversationsConversationIdDnc = function postConversationsConversationIdDnc(conversationId) {
  var requestPath = '/api/v2/outbound/conversations/{conversationId}/dnc';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query dialer DNC lists
  * @memberOf OutboundApi
  * @instance
  * @param {boolean} includeImportStatus - Import status
  * @param {boolean} includeSize - Include size
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getDnclists = function getDnclists(includeImportStatus, includeSize, pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/dnclists';
  var requestQuery = {};
  var requestBody;

  requestQuery["includeImportStatus"] = includeImportStatus;
  requestQuery["includeSize"] = includeSize;
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create dialer DNC list
  * @memberOf OutboundApi
  * @instance
  * @param {} body - DncList
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "size": 0,
   "dncSourceType": "",
   "loginId": "",
   "dncCodes": [],
   "licenseId": "",
   "selfUri": ""
}
  */
OutboundApi.prototype.postDnclists = function postDnclists(body) {
  var requestPath = '/api/v2/outbound/dnclists';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get dialer DNC list
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  * @param {boolean} includeImportStatus - Import status
  * @param {boolean} includeSize - Include size
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "size": 0,
   "dncSourceType": "",
   "loginId": "",
   "dncCodes": [],
   "licenseId": "",
   "selfUri": ""
}
  */
OutboundApi.prototype.getDnclistsDnclistId = function getDnclistsDnclistId(dncListId, includeImportStatus, includeSize) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  requestQuery["includeImportStatus"] = includeImportStatus;
  requestQuery["includeSize"] = includeSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update dialer DNC list
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  * @param {} body - DncList
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "importStatus": {
      "state": "",
      "totalRecords": 0,
      "completedRecords": 0,
      "percentComplete": 0,
      "failureReason": ""
   },
   "size": 0,
   "dncSourceType": "",
   "loginId": "",
   "dncCodes": [],
   "licenseId": "",
   "selfUri": ""
}
  */
OutboundApi.prototype.putDnclistsDnclistId = function putDnclistsDnclistId(dncListId, body) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete dialer DNC list
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  */
OutboundApi.prototype.deleteDnclistsDnclistId = function deleteDnclistsDnclistId(dncListId) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the URI of a DNC list export.
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  * @param {string} download - Redirect to download uri
  * @example
  * 200 Response Example:
  * {
   "uri": "",
   "exportTimestamp": ""
}
  */
OutboundApi.prototype.getDnclistsDnclistIdExport = function getDnclistsDnclistIdExport(dncListId, download) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}/export';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  requestQuery["download"] = download;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Initiate the export of a dnc list.
  * @description Returns 200 if received OK.
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  */
OutboundApi.prototype.postDnclistsDnclistIdExport = function postDnclistsDnclistIdExport(dncListId) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}/export';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get dialer dncList import status.
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  * @example
  * 200 Response Example:
  * {
   "state": "",
   "totalRecords": 0,
   "completedRecords": 0,
   "percentComplete": 0,
   "failureReason": ""
}
  */
OutboundApi.prototype.getDnclistsDnclistIdImportstatus = function getDnclistsDnclistIdImportstatus(dncListId) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}/importstatus';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add phone numbers to a Dialer DNC list.
  * @description Only Internal DNC lists may be appended to
  * @memberOf OutboundApi
  * @instance
  * @param {string} dncListId - DncList ID
  * @param {} body - DNC Phone Numbers
  */
OutboundApi.prototype.postDnclistsDnclistIdPhonenumbers = function postDnclistsDnclistIdPhonenumbers(dncListId, body) {
  var requestPath = '/api/v2/outbound/dnclists/{dncListId}/phonenumbers';
  var requestQuery = {};
  var requestBody;

  if (dncListId === undefined || dncListId === null) {
    throw new Error('Missing required  parameter: dncListId');
  }
  requestPath = requestPath.replace('{dncListId}', dncListId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query a list of Rule Sets.
  * @memberOf OutboundApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getRulesets = function getRulesets(pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/rulesets';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a Dialer Call Analysis Response Set.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - RuleSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "rules": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "rules": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.postRulesets = function postRulesets(body) {
  var requestPath = '/api/v2/outbound/rulesets';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a Rule Set by ID.
  * @memberOf OutboundApi
  * @instance
  * @param {string} ruleSetId - Rule Set ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "rules": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.getRulesetsRulesetId = function getRulesetsRulesetId(ruleSetId) {
  var requestPath = '/api/v2/outbound/rulesets/{ruleSetId}';
  var requestQuery = {};
  var requestBody;

  if (ruleSetId === undefined || ruleSetId === null) {
    throw new Error('Missing required  parameter: ruleSetId');
  }
  requestPath = requestPath.replace('{ruleSetId}', ruleSetId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a RuleSet.
  * @memberOf OutboundApi
  * @instance
  * @param {string} ruleSetId - Rule Set ID
  * @param {} body - RuleSet
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "rules": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "contactList": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "rules": [],
   "selfUri": ""
}
  */
OutboundApi.prototype.putRulesetsRulesetId = function putRulesetsRulesetId(ruleSetId, body) {
  var requestPath = '/api/v2/outbound/rulesets/{ruleSetId}';
  var requestQuery = {};
  var requestBody;

  if (ruleSetId === undefined || ruleSetId === null) {
    throw new Error('Missing required  parameter: ruleSetId');
  }
  requestPath = requestPath.replace('{ruleSetId}', ruleSetId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a Rule set.
  * @memberOf OutboundApi
  * @instance
  * @param {string} ruleSetId - Rule Set ID
  */
OutboundApi.prototype.deleteRulesetsRulesetId = function deleteRulesetsRulesetId(ruleSetId) {
  var requestPath = '/api/v2/outbound/rulesets/{ruleSetId}';
  var requestQuery = {};
  var requestBody;

  if (ruleSetId === undefined || ruleSetId === null) {
    throw new Error('Missing required  parameter: ruleSetId');
  }
  requestPath = requestPath.replace('{ruleSetId}', ruleSetId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for a list of dialer campaign schedules.
  * @memberOf OutboundApi
  * @instance
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "version": 0,
  "intervals": [],
  "timeZone": "",
  "campaign": {
   "id": "",
   "name": "",
   "selfUri": ""
  },
  "selfUri": ""
 }
]
  */
OutboundApi.prototype.getSchedulesCampaigns = function getSchedulesCampaigns() {
  var requestPath = '/api/v2/outbound/schedules/campaigns';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a dialer campaign schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "campaign": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
OutboundApi.prototype.getSchedulesCampaignsCampaignId = function getSchedulesCampaignsCampaignId(campaignId) {
  var requestPath = '/api/v2/outbound/schedules/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a new campaign schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  * @param {} body - CampaignSchedule
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "campaign": {
      "id": "",
      "name": "",
      "selfUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "campaign": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
OutboundApi.prototype.putSchedulesCampaignsCampaignId = function putSchedulesCampaignsCampaignId(campaignId, body) {
  var requestPath = '/api/v2/outbound/schedules/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a dialer campaign schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} campaignId - Campaign ID
  */
OutboundApi.prototype.deleteSchedulesCampaignsCampaignId = function deleteSchedulesCampaignsCampaignId(campaignId) {
  var requestPath = '/api/v2/outbound/schedules/campaigns/{campaignId}';
  var requestQuery = {};
  var requestBody;

  if (campaignId === undefined || campaignId === null) {
    throw new Error('Missing required  parameter: campaignId');
  }
  requestPath = requestPath.replace('{campaignId}', campaignId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for a list of dialer sequence schedules.
  * @memberOf OutboundApi
  * @instance
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "version": 0,
  "intervals": [],
  "timeZone": "",
  "sequence": {
   "id": "",
   "name": "",
   "selfUri": ""
  },
  "selfUri": ""
 }
]
  */
OutboundApi.prototype.getSchedulesSequences = function getSchedulesSequences() {
  var requestPath = '/api/v2/outbound/schedules/sequences';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a dialer sequence schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Sequence ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "sequence": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
OutboundApi.prototype.getSchedulesSequencesSequenceId = function getSchedulesSequencesSequenceId(sequenceId) {
  var requestPath = '/api/v2/outbound/schedules/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a new sequence schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Sequence ID
  * @param {} body - SequenceSchedule
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "sequence": {
      "id": "",
      "name": "",
      "selfUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "intervals": [],
   "timeZone": "",
   "sequence": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
OutboundApi.prototype.putSchedulesSequencesSequenceId = function putSchedulesSequencesSequenceId(sequenceId, body) {
  var requestPath = '/api/v2/outbound/schedules/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a dialer sequence schedule.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Sequence ID
  */
OutboundApi.prototype.deleteSchedulesSequencesSequenceId = function deleteSchedulesSequencesSequenceId(sequenceId) {
  var requestPath = '/api/v2/outbound/schedules/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query a list of dialer campaign sequences.
  * @memberOf OutboundApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} filterType - Filter type
  EQUALS,
  REGEX,
  CONTAINS,
  PREFIX,
  LESSTHAN,
  LESSTHANEQUALTO,
  GREATERTHAN,
  GREATERTHANEQUALTO,
  BEGINSWITH,
  ENDSWITH,
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
OutboundApi.prototype.getSequences = function getSequences(pageSize, pageNumber, filterType, name, sortBy, sortOrder) {
  var requestPath = '/api/v2/outbound/sequences';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["filterType"] = filterType;
  requestQuery["name"] = name;
  requestQuery["sortBy"] = sortBy;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a new campaign sequence.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - Organization
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "campaigns": [],
   "status": "",
   "repeat": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "campaigns": [],
   "currentCampaign": 0,
   "status": "",
   "stopMessage": "",
   "repeat": true,
   "selfUri": ""
}
  */
OutboundApi.prototype.postSequences = function postSequences(body) {
  var requestPath = '/api/v2/outbound/sequences';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a dialer campaign sequence.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Campaign Sequence ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "campaigns": [],
   "currentCampaign": 0,
   "status": "",
   "stopMessage": "",
   "repeat": true,
   "selfUri": ""
}
  */
OutboundApi.prototype.getSequencesSequenceId = function getSequencesSequenceId(sequenceId) {
  var requestPath = '/api/v2/outbound/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a new campaign sequence.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Campaign Sequence ID
  * @param {} body - Organization
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "campaigns": [],
   "status": "",
   "repeat": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "campaigns": [],
   "currentCampaign": 0,
   "status": "",
   "stopMessage": "",
   "repeat": true,
   "selfUri": ""
}
  */
OutboundApi.prototype.putSequencesSequenceId = function putSequencesSequenceId(sequenceId, body) {
  var requestPath = '/api/v2/outbound/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a dialer campaign sequence.
  * @memberOf OutboundApi
  * @instance
  * @param {string} sequenceId - Campaign Sequence ID
  */
OutboundApi.prototype.deleteSequencesSequenceId = function deleteSequencesSequenceId(sequenceId) {
  var requestPath = '/api/v2/outbound/sequences/{sequenceId}';
  var requestQuery = {};
  var requestBody;

  if (sequenceId === undefined || sequenceId === null) {
    throw new Error('Missing required  parameter: sequenceId');
  }
  requestPath = requestPath.replace('{sequenceId}', sequenceId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the Dialer wrap up code mapping.
  * @memberOf OutboundApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "defaultSet": [],
   "mapping": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.getWrapupcodemappings = function getWrapupcodemappings() {
  var requestPath = '/api/v2/outbound/wrapupcodemappings';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the Dialer wrap up code mapping.
  * @memberOf OutboundApi
  * @instance
  * @param {} body - wrapUpCodeMapping
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "defaultSet": [],
   "mapping": {}
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "defaultSet": [],
   "mapping": {},
   "selfUri": ""
}
  */
OutboundApi.prototype.putWrapupcodemappings = function putWrapupcodemappings(body) {
  var requestPath = '/api/v2/outbound/wrapupcodemappings';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

module.exports = OutboundApi;

},{}],20:[function(require,module,exports){
'use strict';

/**
* @class PresenceApi
* @example
* var api = new purecloud.platform.PresenceApi(pureCloudSession);
*/
function PresenceApi(session) {
  if (!(this instanceof PresenceApi)) {
    return new PresenceApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('PresenceApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get an Organization's list of Presence Definitions
  * @memberOf PresenceApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} doDeleted - Deleted query can be true, false or all
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
PresenceApi.prototype.getPresencedefinitions = function getPresencedefinitions(pageNumber, pageSize, doDeleted) {
  var requestPath = '/api/v2/presencedefinitions';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  requestQuery["deleted"] = doDeleted;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a Presence Definition
  * @memberOf PresenceApi
  * @instance
  * @param {} body - The Presence Definition to create
  * @example
  * Body Example:
  * {
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "createdDate": "",
   "modifiedBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "createdDate": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.postPresencedefinitions = function postPresencedefinitions(body) {
  var requestPath = '/api/v2/presencedefinitions';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a Presence Definition
  * @memberOf PresenceApi
  * @instance
  * @param {string} presenceId - Organization Presence ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "createdDate": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.getPresenceId = function getPresenceId(presenceId) {
  var requestPath = '/api/v2/presencedefinitions/{presenceId}';
  var requestQuery = {};
  var requestBody;

  if (presenceId === undefined || presenceId === null) {
    throw new Error('Missing required  parameter: presenceId');
  }
  requestPath = requestPath.replace('{presenceId}', presenceId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a Presence Definition
  * @memberOf PresenceApi
  * @instance
  * @param {string} presenceId - Organization Presence ID
  * @param {} body - The OrganizationPresence to update
  * @example
  * Body Example:
  * {
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "createdDate": "",
   "modifiedBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "createdDate": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.putPresenceId = function putPresenceId(presenceId, body) {
  var requestPath = '/api/v2/presencedefinitions/{presenceId}';
  var requestQuery = {};
  var requestBody;

  if (presenceId === undefined || presenceId === null) {
    throw new Error('Missing required  parameter: presenceId');
  }
  requestPath = requestPath.replace('{presenceId}', presenceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a Presence Definition
  * @memberOf PresenceApi
  * @instance
  * @param {string} presenceId - Organization Presence ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "languageLabels": {},
   "systemPresence": "",
   "deactivated": true,
   "primary": true,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "createdDate": "",
   "modifiedBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.deletePresenceId = function deletePresenceId(presenceId) {
  var requestPath = '/api/v2/presencedefinitions/{presenceId}';
  var requestQuery = {};
  var requestBody;

  if (presenceId === undefined || presenceId === null) {
    throw new Error('Missing required  parameter: presenceId');
  }
  requestPath = requestPath.replace('{presenceId}', presenceId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of SystemPresences
  * @memberOf PresenceApi
  * @instance
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "selfUri": ""
 }
]
  */
PresenceApi.prototype.getSystempresences = function getSystempresences() {
  var requestPath = '/api/v2/systempresences';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user's Presence
  * @memberOf PresenceApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} sourceId - Source
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "source": "",
   "primary": true,
   "presenceDefinition": {
      "id": "",
      "name": "",
      "languageLabels": {},
      "systemPresence": "",
      "deactivated": true,
      "primary": true,
      "createdBy": {},
      "createdDate": "",
      "modifiedBy": {},
      "modifiedDate": "",
      "selfUri": ""
   },
   "message": "",
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.getUserIdPresencesSourceId = function getUserIdPresencesSourceId(userId, sourceId) {
  var requestPath = '/api/v2/users/{userId}/presences/{sourceId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (sourceId === undefined || sourceId === null) {
    throw new Error('Missing required  parameter: sourceId');
  }
  requestPath = requestPath.replace('{sourceId}', sourceId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a user's Presence
  * @description The presence object can be patched one of three ways. Option 1: Set the 'primary' property to true. This will set the 'source' defined in the path as the user's primary presence source. Option 2: Provide the presenceDefinition value. The 'id' is the only value required within the presenceDefinition. Option 3: Provide the message value. Option 1 can be combined with Option 2 and/or Option 3.
  * @memberOf PresenceApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} sourceId - Source
  * @param {} body - User presence
  * @example
  * Body Example:
  * {
   "name": "",
   "source": "",
   "primary": true,
   "presenceDefinition": {
      "name": "",
      "languageLabels": {},
      "systemPresence": "",
      "deactivated": true,
      "primary": true,
      "createdBy": {},
      "createdDate": "",
      "modifiedBy": {},
      "modifiedDate": ""
   },
   "message": "",
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "source": "",
   "primary": true,
   "presenceDefinition": {
      "id": "",
      "name": "",
      "languageLabels": {},
      "systemPresence": "",
      "deactivated": true,
      "primary": true,
      "createdBy": {},
      "createdDate": "",
      "modifiedBy": {},
      "modifiedDate": "",
      "selfUri": ""
   },
   "message": "",
   "modifiedDate": "",
   "selfUri": ""
}
  */
PresenceApi.prototype.patchUserIdPresencesSourceId = function patchUserIdPresencesSourceId(userId, sourceId, body) {
  var requestPath = '/api/v2/users/{userId}/presences/{sourceId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (sourceId === undefined || sourceId === null) {
    throw new Error('Missing required  parameter: sourceId');
  }
  requestPath = requestPath.replace('{sourceId}', sourceId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

module.exports = PresenceApi;

},{}],21:[function(require,module,exports){
'use strict';

/**
* @class QualityApi
* @example
* var api = new purecloud.platform.QualityApi(pureCloudSession);
*/
function QualityApi(session) {
   if (!(this instanceof QualityApi)) {
      return new QualityApi(session);
   }
   if (!(session && session.makeRequest)) {
      throw new Error('QualityApi requires a PureCloudSession');
   }
   this.session = session;
}

/**
  * @summary Query for evaluation aggregates
  * @memberOf QualityApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
QualityApi.prototype.postEvaluationsAggregatesQuery = function postEvaluationsAggregatesQuery(body) {
   var requestPath = '/api/v2/analytics/evaluations/aggregates/query';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets a list of Agent Activities
  * @description Including the number of evaluations and average evaluation score
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} startTime - Start time of agent activity. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {string} endTime - End time of agent activity. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {array} agentUserId - user id of agent requested
  * @param {string} evaluatorUserId - user id of the evaluator
  * @param {string} name - name
  * @param {string} group - group id
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getAgentsActivity = function getAgentsActivity(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, startTime, endTime, agentUserId, evaluatorUserId, name, group) {
   var requestPath = '/api/v2/quality/agents/activity';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["startTime"] = startTime;
   requestQuery["endTime"] = endTime;
   requestQuery["agentUserId"] = agentUserId;
   requestQuery["evaluatorUserId"] = evaluatorUserId;
   requestQuery["name"] = name;
   requestQuery["group"] = group;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of calibrations
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} conversationId - conversation id
  * @param {string} startTime - Beginning of the calibration query. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {string} endTime - end of the calibration query. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {string} calibratorId - user id of calibrator
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getCalibrations = function getCalibrations(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, conversationId, startTime, endTime, calibratorId) {
   var requestPath = '/api/v2/quality/calibrations';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["conversationId"] = conversationId;
   requestQuery["startTime"] = startTime;
   requestQuery["endTime"] = endTime;
   if (calibratorId === undefined || calibratorId === null) {
      throw new Error('Missing required  parameter: calibratorId');
   }
   requestQuery["calibratorId"] = calibratorId;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a calibration
  * @memberOf QualityApi
  * @instance
  * @param {} body - calibration
  * @param {string} expand - calibratorId
  * @example
  * Body Example:
  * {
   "name": "",
   "calibrator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "agent": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "evaluationForm": {
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {}
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true
   },
   "expertEvaluator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "calibrator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "id": "",
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true,
      "selfUri": ""
   },
   "expertEvaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
QualityApi.prototype.postCalibrations = function postCalibrations(body, expand) {
   var requestPath = '/api/v2/quality/calibrations';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   requestQuery["expand"] = expand;
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a calibration by id.
  * @memberOf QualityApi
  * @instance
  * @param {string} calibrationId - Calibration ID
  * @param {string} calibratorId - calibratorId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "calibrator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "id": "",
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true,
      "selfUri": ""
   },
   "expertEvaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
QualityApi.prototype.getCalibrationsCalibrationId = function getCalibrationsCalibrationId(calibrationId, calibratorId) {
   var requestPath = '/api/v2/quality/calibrations/{calibrationId}';
   var requestQuery = {};
   var requestBody;

   if (calibrationId === undefined || calibrationId === null) {
      throw new Error('Missing required  parameter: calibrationId');
   }
   requestPath = requestPath.replace('{calibrationId}', calibrationId);
   if (calibratorId === undefined || calibratorId === null) {
      throw new Error('Missing required  parameter: calibratorId');
   }
   requestQuery["calibratorId"] = calibratorId;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a calibration to the specified calibration via PUT.  Editable fields include: evaluators, expertEvaluator, and scoringIndex
  * @memberOf QualityApi
  * @instance
  * @param {string} calibrationId - Calibration ID
  * @param {} body - Calibration
  * @example
  * Body Example:
  * {
   "name": "",
   "calibrator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "agent": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "evaluationForm": {
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {}
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true
   },
   "expertEvaluator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "calibrator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "id": "",
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true,
      "selfUri": ""
   },
   "expertEvaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
QualityApi.prototype.putCalibrationsCalibrationId = function putCalibrationsCalibrationId(calibrationId, body) {
   var requestPath = '/api/v2/quality/calibrations/{calibrationId}';
   var requestQuery = {};
   var requestBody;

   if (calibrationId === undefined || calibrationId === null) {
      throw new Error('Missing required  parameter: calibrationId');
   }
   requestPath = requestPath.replace('{calibrationId}', calibrationId);
   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a calibration by id.
  * @memberOf QualityApi
  * @instance
  * @param {string} calibrationId - Calibration ID
  * @param {string} calibratorId - calibratorId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "calibrator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "contextId": "",
   "averageScore": 0,
   "highScore": 0,
   "lowScore": 0,
   "createdDate": "",
   "evaluations": [],
   "evaluators": [],
   "scoringIndex": {
      "id": "",
      "name": "",
      "conversation": {},
      "evaluationForm": {},
      "evaluator": {},
      "agent": {},
      "calibration": {},
      "status": "",
      "answers": {},
      "agentHasRead": true,
      "releaseDate": "",
      "assignedDate": "",
      "changedDate": "",
      "queue": {},
      "neverRelease": true,
      "resourceId": "",
      "resourceType": "",
      "redacted": true,
      "isScoringIndex": true,
      "selfUri": ""
   },
   "expertEvaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
QualityApi.prototype.deleteCalibrationsCalibrationId = function deleteCalibrationsCalibrationId(calibrationId, calibratorId) {
   var requestPath = '/api/v2/quality/calibrations/{calibrationId}';
   var requestQuery = {};
   var requestBody;

   if (calibrationId === undefined || calibrationId === null) {
      throw new Error('Missing required  parameter: calibrationId');
   }
   requestPath = requestPath.replace('{calibrationId}', calibrationId);
   if (calibratorId === undefined || calibratorId === null) {
      throw new Error('Missing required  parameter: calibratorId');
   }
   requestQuery["calibratorId"] = calibratorId;
   return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get audits for conversation or recording
  * @memberOf QualityApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} recordingId - id of the recording
  * @param {string} entityType - entity type options: Recording, Calibration, Evaluation, Annotation
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getConversationsConversationIdAudits = function getConversationsConversationIdAudits(conversationId, pageSize, pageNumber, sortBy, expand, nextPage, previousPage, recordingId, entityType) {
   var requestPath = '/api/v2/quality/conversations/{conversationId}/audits';
   var requestQuery = {};
   var requestBody;

   if (conversationId === undefined || conversationId === null) {
      throw new Error('Missing required  parameter: conversationId');
   }
   requestPath = requestPath.replace('{conversationId}', conversationId);
   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["recordingId"] = recordingId;
   requestQuery["entityType"] = entityType;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create an evaluation
  * @memberOf QualityApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {} body - evaluation
  * @param {string} expand - evaluatorId
  * @example
  * Body Example:
  * {
   "name": "",
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "evaluationForm": {
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {}
   },
   "evaluator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "agent": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "calibration": {
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {}
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "evaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "calibration": {
      "id": "",
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {},
      "selfUri": ""
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true,
   "selfUri": ""
}
  */
QualityApi.prototype.postConversationsConversationIdEvaluations = function postConversationsConversationIdEvaluations(conversationId, body, expand) {
   var requestPath = '/api/v2/quality/conversations/{conversationId}/evaluations';
   var requestQuery = {};
   var requestBody;

   if (conversationId === undefined || conversationId === null) {
      throw new Error('Missing required  parameter: conversationId');
   }
   requestPath = requestPath.replace('{conversationId}', conversationId);
   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   requestQuery["expand"] = expand;
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an evaluation
  * @memberOf QualityApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {string} evaluationId - evaluationId
  * @param {string} expand - agent, evaluator, evaluationForm
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "evaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "calibration": {
      "id": "",
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {},
      "selfUri": ""
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true,
   "selfUri": ""
}
  */
QualityApi.prototype.getConversationsConversationIdEvaluationsEvaluationId = function getConversationsConversationIdEvaluationsEvaluationId(conversationId, evaluationId, expand) {
   var requestPath = '/api/v2/quality/conversations/{conversationId}/evaluations/{evaluationId}';
   var requestQuery = {};
   var requestBody;

   if (conversationId === undefined || conversationId === null) {
      throw new Error('Missing required  parameter: conversationId');
   }
   requestPath = requestPath.replace('{conversationId}', conversationId);
   if (evaluationId === undefined || evaluationId === null) {
      throw new Error('Missing required  parameter: evaluationId');
   }
   requestPath = requestPath.replace('{evaluationId}', evaluationId);
   requestQuery["expand"] = expand;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an evaluation
  * @memberOf QualityApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {string} evaluationId - evaluationId
  * @param {} body - evaluation
  * @param {string} expand - evaluatorId
  * @example
  * Body Example:
  * {
   "name": "",
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "evaluationForm": {
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {}
   },
   "evaluator": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "agent": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "calibration": {
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {}
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "evaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "calibration": {
      "id": "",
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {},
      "selfUri": ""
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true,
   "selfUri": ""
}
  */
QualityApi.prototype.putConversationsConversationIdEvaluationsEvaluationId = function putConversationsConversationIdEvaluationsEvaluationId(conversationId, evaluationId, body, expand) {
   var requestPath = '/api/v2/quality/conversations/{conversationId}/evaluations/{evaluationId}';
   var requestQuery = {};
   var requestBody;

   if (conversationId === undefined || conversationId === null) {
      throw new Error('Missing required  parameter: conversationId');
   }
   requestPath = requestPath.replace('{conversationId}', conversationId);
   if (evaluationId === undefined || evaluationId === null) {
      throw new Error('Missing required  parameter: evaluationId');
   }
   requestPath = requestPath.replace('{evaluationId}', evaluationId);
   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   requestQuery["expand"] = expand;
   return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an evaluation
  * @memberOf QualityApi
  * @instance
  * @param {string} conversationId - conversationId
  * @param {string} evaluationId - evaluationId
  * @param {string} expand - evaluatorId
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "evaluationForm": {
      "id": "",
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {},
      "selfUri": ""
   },
   "evaluator": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "agent": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "calibration": {
      "id": "",
      "name": "",
      "calibrator": {},
      "agent": {},
      "conversation": {},
      "evaluationForm": {},
      "contextId": "",
      "averageScore": 0,
      "highScore": 0,
      "lowScore": 0,
      "createdDate": "",
      "evaluations": [],
      "evaluators": [],
      "scoringIndex": {},
      "expertEvaluator": {},
      "selfUri": ""
   },
   "status": "",
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   },
   "agentHasRead": true,
   "releaseDate": "",
   "assignedDate": "",
   "changedDate": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "neverRelease": true,
   "resourceId": "",
   "resourceType": "",
   "redacted": true,
   "isScoringIndex": true,
   "selfUri": ""
}
  */
QualityApi.prototype.deleteConversationsConversationIdEvaluationsEvaluationId = function deleteConversationsConversationIdEvaluationsEvaluationId(conversationId, evaluationId, expand) {
   var requestPath = '/api/v2/quality/conversations/{conversationId}/evaluations/{evaluationId}';
   var requestQuery = {};
   var requestBody;

   if (conversationId === undefined || conversationId === null) {
      throw new Error('Missing required  parameter: conversationId');
   }
   requestPath = requestPath.replace('{conversationId}', conversationId);
   if (evaluationId === undefined || evaluationId === null) {
      throw new Error('Missing required  parameter: evaluationId');
   }
   requestPath = requestPath.replace('{evaluationId}', evaluationId);
   requestQuery["expand"] = expand;
   return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Queries Evaluations and returns a paged list
  * @description Query params must include one of conversationId, evaluatorUserId, or agentUserId
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} conversationId - conversationId specified
  * @param {string} agentUserId - user id of the agent
  * @param {string} evaluatorUserId - evaluator user id
  * @param {string} queueId - queue id
  * @param {string} startTime - start time of the evaluation query
  * @param {string} endTime - end time of the evaluation query
  * @param {array} evaluationState - evaluation state options: Pending, InProgress, Finished
  * @param {boolean} isReleased - the evaluation has been released
  * @param {boolean} agentHasRead - agent has the evaluation
  * @param {boolean} expandAnswerTotalScores - get the total scores for evaluations
  * @param {integer} maximum - maximum
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getEvaluationsQuery = function getEvaluationsQuery(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, conversationId, agentUserId, evaluatorUserId, queueId, startTime, endTime, evaluationState, isReleased, agentHasRead, expandAnswerTotalScores, maximum) {
   var requestPath = '/api/v2/quality/evaluations/query';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["conversationId"] = conversationId;
   requestQuery["agentUserId"] = agentUserId;
   requestQuery["evaluatorUserId"] = evaluatorUserId;
   requestQuery["queueId"] = queueId;
   requestQuery["startTime"] = startTime;
   requestQuery["endTime"] = endTime;
   requestQuery["evaluationState"] = evaluationState;
   requestQuery["isReleased"] = isReleased;
   requestQuery["agentHasRead"] = agentHasRead;
   requestQuery["expandAnswerTotalScores"] = expandAnswerTotalScores;
   requestQuery["maximum"] = maximum;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Score evaluation
  * @memberOf QualityApi
  * @instance
  * @param {} body - evaluationAndScoringSet
  * @example
  * Body Example:
  * {
   "evaluationForm": {
      "name": "",
      "type": "",
      "modifiedDate": "",
      "published": true,
      "contextId": "",
      "questionGroups": [],
      "publishedVersions": {}
   },
   "answers": {
      "totalScore": {},
      "totalCriticalScore": {},
      "questionGroupScores": [],
      "anyFailedKillQuestions": true,
      "comments": "",
      "agentComments": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "totalScore": {},
   "totalCriticalScore": {},
   "questionGroupScores": [],
   "anyFailedKillQuestions": true,
   "comments": "",
   "agentComments": ""
}
  */
QualityApi.prototype.postEvaluationsScoring = function postEvaluationsScoring(body) {
   var requestPath = '/api/v2/quality/evaluations/scoring';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an evaluator activity
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} startTime - The start time specified. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {string} endTime - The end time specified. Date time is represented as an ISO-8601 string. For example: yyyy-MM-ddTHH:mm:ss.SSSZ
  * @param {string} name - Evaluator name
  * @param {array} permission - permission strings
  * @param {string} group - group id
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getEvaluatorsActivity = function getEvaluatorsActivity(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, startTime, endTime, name, permission, group) {
   var requestPath = '/api/v2/quality/evaluators/activity';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["startTime"] = startTime;
   requestQuery["endTime"] = endTime;
   requestQuery["name"] = name;
   requestQuery["permission"] = permission;
   requestQuery["group"] = group;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of evaluation forms
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} expand - Expand
  * @param {string} name - Name
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getForms = function getForms(pageSize, pageNumber, sortBy, nextPage, previousPage, expand, name) {
   var requestPath = '/api/v2/quality/forms';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["expand"] = expand;
   requestQuery["name"] = name;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create an evaluation form.
  * @memberOf QualityApi
  * @instance
  * @param {} body - Evaluation form
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "selfUri": ""
}
  */
QualityApi.prototype.postForms = function postForms(body) {
   var requestPath = '/api/v2/quality/forms';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get an evaluation form
  * @memberOf QualityApi
  * @instance
  * @param {string} formId - Form ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "selfUri": ""
}
  */
QualityApi.prototype.getFormsFormId = function getFormsFormId(formId) {
   var requestPath = '/api/v2/quality/forms/{formId}';
   var requestQuery = {};
   var requestBody;

   if (formId === undefined || formId === null) {
      throw new Error('Missing required  parameter: formId');
   }
   requestPath = requestPath.replace('{formId}', formId);
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an evaluation form.
  * @memberOf QualityApi
  * @instance
  * @param {string} formId - Form ID
  * @param {} body - Evaluation form
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "selfUri": ""
}
  */
QualityApi.prototype.putFormsFormId = function putFormsFormId(formId, body) {
   var requestPath = '/api/v2/quality/forms/{formId}';
   var requestQuery = {};
   var requestBody;

   if (formId === undefined || formId === null) {
      throw new Error('Missing required  parameter: formId');
   }
   requestPath = requestPath.replace('{formId}', formId);
   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an evaluation form.
  * @memberOf QualityApi
  * @instance
  * @param {string} formId - Form ID
  */
QualityApi.prototype.deleteFormsFormId = function deleteFormsFormId(formId) {
   var requestPath = '/api/v2/quality/forms/{formId}';
   var requestQuery = {};
   var requestBody;

   if (formId === undefined || formId === null) {
      throw new Error('Missing required  parameter: formId');
   }
   requestPath = requestPath.replace('{formId}', formId);
   return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets all the revisions for a specific evaluation.
  * @memberOf QualityApi
  * @instance
  * @param {string} formId - Form ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getFormsFormIdVersions = function getFormsFormIdVersions(formId, pageSize, pageNumber) {
   var requestPath = '/api/v2/quality/forms/{formId}/versions';
   var requestQuery = {};
   var requestBody;

   if (formId === undefined || formId === null) {
      throw new Error('Missing required  parameter: formId');
   }
   requestPath = requestPath.replace('{formId}', formId);
   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of keyword sets
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} name - the keyword set name - used for filtering results in searches.
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getKeywordsets = function getKeywordsets(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, name) {
   var requestPath = '/api/v2/quality/keywordsets';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["sortBy"] = sortBy;
   requestQuery["expand"] = expand;
   requestQuery["nextPage"] = nextPage;
   requestQuery["previousPage"] = previousPage;
   requestQuery["name"] = name;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a Keyword Set
  * @memberOf QualityApi
  * @instance
  * @param {} body - keywordSet
  * @param {string} expand - queueId
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "queue": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": [],
   "selfUri": ""
}
  */
QualityApi.prototype.postKeywordsets = function postKeywordsets(body, expand) {
   var requestPath = '/api/v2/quality/keywordsets';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   requestQuery["expand"] = expand;
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete keyword sets
  * @description Bulk delete of keyword sets; this will only delete the keyword sets that match the ids specified in the query param.
  * @memberOf QualityApi
  * @instance
  * @param {string} ids - A comma-delimited list of valid KeywordSet ids
  */
QualityApi.prototype.deleteKeywordsets = function deleteKeywordsets(ids) {
   var requestPath = '/api/v2/quality/keywordsets';
   var requestQuery = {};
   var requestBody;

   if (ids === undefined || ids === null) {
      throw new Error('Missing required  parameter: ids');
   }
   requestQuery["ids"] = ids;
   return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a keywordSet by id.
  * @memberOf QualityApi
  * @instance
  * @param {string} keywordSetId - KeywordSet ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": [],
   "selfUri": ""
}
  */
QualityApi.prototype.getKeywordsetsKeywordsetId = function getKeywordsetsKeywordsetId(keywordSetId) {
   var requestPath = '/api/v2/quality/keywordsets/{keywordSetId}';
   var requestQuery = {};
   var requestBody;

   if (keywordSetId === undefined || keywordSetId === null) {
      throw new Error('Missing required  parameter: keywordSetId');
   }
   requestPath = requestPath.replace('{keywordSetId}', keywordSetId);
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a keywordSet to the specified keywordSet via PUT.
  * @memberOf QualityApi
  * @instance
  * @param {string} keywordSetId - KeywordSet ID
  * @param {} body - keywordSet
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "queue": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": [],
   "selfUri": ""
}
  */
QualityApi.prototype.putKeywordsetsKeywordsetId = function putKeywordsetsKeywordsetId(keywordSetId, body) {
   var requestPath = '/api/v2/quality/keywordsets/{keywordSetId}';
   var requestQuery = {};
   var requestBody;

   if (keywordSetId === undefined || keywordSetId === null) {
      throw new Error('Missing required  parameter: keywordSetId');
   }
   requestPath = requestPath.replace('{keywordSetId}', keywordSetId);
   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a keywordSet by id.
  * @memberOf QualityApi
  * @instance
  * @param {string} keywordSetId - KeywordSet ID
  */
QualityApi.prototype.deleteKeywordsetsKeywordsetId = function deleteKeywordsetsKeywordsetId(keywordSetId) {
   var requestPath = '/api/v2/quality/keywordsets/{keywordSetId}';
   var requestQuery = {};
   var requestBody;

   if (keywordSetId === undefined || keywordSetId === null) {
      throw new Error('Missing required  parameter: keywordSetId');
   }
   requestPath = requestPath.replace('{keywordSetId}', keywordSetId);
   return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the published evaluation forms.
  * @memberOf QualityApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
QualityApi.prototype.getPublishedforms = function getPublishedforms(pageSize, pageNumber, name) {
   var requestPath = '/api/v2/quality/publishedforms';
   var requestQuery = {};
   var requestBody;

   requestQuery["pageSize"] = pageSize;
   requestQuery["pageNumber"] = pageNumber;
   requestQuery["name"] = name;
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Publish an evaluation form.
  * @memberOf QualityApi
  * @instance
  * @param {} body - Evaluation form
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "selfUri": ""
}
  */
QualityApi.prototype.postPublishedforms = function postPublishedforms(body) {
   var requestPath = '/api/v2/quality/publishedforms';
   var requestQuery = {};
   var requestBody;

   if (body === undefined || body === null) {
      throw new Error('Missing required  parameter: body');
   }
   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the published evaluation forms.
  * @memberOf QualityApi
  * @instance
  * @param {string} formId - Form ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "modifiedDate": "",
   "published": true,
   "contextId": "",
   "questionGroups": [],
   "publishedVersions": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   },
   "selfUri": ""
}
  */
QualityApi.prototype.getPublishedformsFormId = function getPublishedformsFormId(formId) {
   var requestPath = '/api/v2/quality/publishedforms/{formId}';
   var requestQuery = {};
   var requestBody;

   if (formId === undefined || formId === null) {
      throw new Error('Missing required  parameter: formId');
   }
   requestPath = requestPath.replace('{formId}', formId);
   return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Retrieve the spotability statistic
  * @memberOf QualityApi
  * @instance
  * @param {} body - Keyword Set
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "queue": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "queue": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "mediaSettings": {},
      "bullseye": {},
      "acwSettings": {},
      "skillEvaluationMethod": "",
      "queueFlow": {},
      "callingPartyName": "",
      "callingPartyNumber": "",
      "memberCount": 0,
      "selfUri": ""
   },
   "queues": [],
   "language": "",
   "agents": [],
   "keywords": [],
   "participantPurposes": [],
   "selfUri": ""
}
  */
QualityApi.prototype.postSpotability = function postSpotability(body) {
   var requestPath = '/api/v2/quality/spotability';
   var requestQuery = {};
   var requestBody;

   if (body !== undefined && body !== null) {
      requestBody = body;
   }
   return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

module.exports = QualityApi;

},{}],22:[function(require,module,exports){
'use strict';

/**
* @class RecordingApi
* @example
* var api = new purecloud.platform.RecordingApi(pureCloudSession);
*/
function RecordingApi(session) {
  if (!(this instanceof RecordingApi)) {
    return new RecordingApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('RecordingApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get all of a Conversation's Recordings.
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {integer} maxWaitMs - The maximum number of milliseconds to wait for the recording to be ready.
  Any integer greater than or equal to 0.,
  * @param {string} formatId - The desired media format
  WAV,
  WEBM,
  WAV_ULAW,
  OGG_VORBIS,
  OGG_OPUS,
  NONE,
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "conversationId": "",
  "path": "",
  "startTime": "",
  "endTime": "",
  "media": "",
  "annotations": [],
  "transcript": [],
  "emailTranscript": [],
  "fileState": "",
  "restoreExpirationTime": "",
  "mediaUris": {},
  "estimatedTranscodeTimeMs": 0,
  "actualTranscodeTimeMs": 0,
  "archiveDate": "",
  "archiveMedium": "",
  "deleteDate": "",
  "maxAllowedRestorationsForOrg": 0,
  "remainingRestorationsAllowedForOrg": 0,
  "sessionId": "",
  "selfUri": ""
 }
]
  */
RecordingApi.prototype.getConversationIdRecordings = function getConversationIdRecordings(conversationId, maxWaitMs, formatId) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  requestQuery["maxWaitMs"] = maxWaitMs;
  requestQuery["formatId"] = formatId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets a specific recording.
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {string} formatId - The desired media format.
  WAV,
  WEBM,
  WAV_ULAW,
  OGG_VORBIS,
  OGG_OPUS,
  NONE,
  * @param {boolean} download - requesting a download format of the recording
  true,
  false,
  * @param {string} fileName - the name of the downloaded fileName
  */
RecordingApi.prototype.getConversationIdRecordingsRecordingId = function getConversationIdRecordingsRecordingId(conversationId, recordingId, formatId, download, fileName) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  requestQuery["formatId"] = formatId;
  requestQuery["download"] = download;
  requestQuery["fileName"] = fileName;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Updates the retention records on a recording.
  * @description Currently supports updating and removing both archive and delete dates for eligible recordings. A request to change the archival date of an archived recording will result in a restoration of the recording until the new date set. Use of the query parameter 'restoreDays' is deprecated and will be removed in the next major version release. If 'restoreDays' is provided, no attempt at updating other retention data will be made. To migrate to the new usage, issuing a request with restoreDays=10 would instead set the archiveDate's time stamp in the PUT body to 10 days in the future.
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {} body - recording
  * @example
  * Body Example:
  * {
   "name": "",
   "conversationId": "",
   "path": "",
   "startTime": "",
   "endTime": "",
   "media": "",
   "annotations": [],
   "transcript": [],
   "emailTranscript": [],
   "fileState": "",
   "restoreExpirationTime": "",
   "mediaUris": {},
   "estimatedTranscodeTimeMs": 0,
   "actualTranscodeTimeMs": 0,
   "archiveDate": "",
   "archiveMedium": "",
   "deleteDate": "",
   "maxAllowedRestorationsForOrg": 0,
   "remainingRestorationsAllowedForOrg": 0,
   "sessionId": ""
}
  */
RecordingApi.prototype.putConversationIdRecordingsRecordingId = function putConversationIdRecordingsRecordingId(conversationId, recordingId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get annotations for recording
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "type": "",
  "location": 0,
  "durationMs": 0,
  "user": {
   "id": "",
   "name": "",
   "chat": {},
   "department": "",
   "email": "",
   "primaryContactInfo": [],
   "addresses": [],
   "state": "",
   "title": "",
   "username": "",
   "images": [],
   "version": 0,
   "routingStatus": {},
   "presence": {},
   "conversationSummary": {},
   "outOfOffice": {},
   "geolocation": {},
   "station": {},
   "authorization": {},
   "profileSkills": [],
   "selfUri": ""
  },
  "description": "",
  "selfUri": ""
 }
]
  */
RecordingApi.prototype.getConversationIdRecordingsRecordingIdAnnotations = function getConversationIdRecordingsRecordingIdAnnotations(conversationId, recordingId) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}/annotations';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create annotation
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {} body - annotation
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "location": 0,
   "durationMs": 0,
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "description": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "location": 0,
   "durationMs": 0,
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "description": "",
   "selfUri": ""
}
  */
RecordingApi.prototype.postConversationIdRecordingsRecordingIdAnnotations = function postConversationIdRecordingsRecordingIdAnnotations(conversationId, recordingId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}/annotations';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get annotation
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {string} annotationId - Annotation ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "location": 0,
   "durationMs": 0,
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "description": "",
   "selfUri": ""
}
  */
RecordingApi.prototype.getConversationIdRecordingsRecordingIdAnnotationsAnnotationId = function getConversationIdRecordingsRecordingIdAnnotationsAnnotationId(conversationId, recordingId, annotationId) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}/annotations/{annotationId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (annotationId === undefined || annotationId === null) {
    throw new Error('Missing required  parameter: annotationId');
  }
  requestPath = requestPath.replace('{annotationId}', annotationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update annotation
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {string} annotationId - Annotation ID
  * @param {} body - annotation
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "location": 0,
   "durationMs": 0,
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "description": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "location": 0,
   "durationMs": 0,
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "description": "",
   "selfUri": ""
}
  */
RecordingApi.prototype.putConversationIdRecordingsRecordingIdAnnotationsAnnotationId = function putConversationIdRecordingsRecordingIdAnnotationsAnnotationId(conversationId, recordingId, annotationId, body) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}/annotations/{annotationId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (annotationId === undefined || annotationId === null) {
    throw new Error('Missing required  parameter: annotationId');
  }
  requestPath = requestPath.replace('{annotationId}', annotationId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete annotation
  * @memberOf RecordingApi
  * @instance
  * @param {string} conversationId - Conversation ID
  * @param {string} recordingId - Recording ID
  * @param {string} annotationId - Annotation ID
  */
RecordingApi.prototype.deleteConversationIdRecordingsRecordingIdAnnotationsAnnotationId = function deleteConversationIdRecordingsRecordingIdAnnotationsAnnotationId(conversationId, recordingId, annotationId) {
  var requestPath = '/api/v2/conversations/{conversationId}/recordings/{recordingId}/annotations/{annotationId}';
  var requestQuery = {};
  var requestBody;

  if (conversationId === undefined || conversationId === null) {
    throw new Error('Missing required  parameter: conversationId');
  }
  requestPath = requestPath.replace('{conversationId}', conversationId);
  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (annotationId === undefined || annotationId === null) {
    throw new Error('Missing required  parameter: annotationId');
  }
  requestPath = requestPath.replace('{annotationId}', annotationId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets all orphan recordings
  * @memberOf RecordingApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RecordingApi.prototype.getOrphanrecordings = function getOrphanrecordings(pageSize, pageNumber, sortBy, expand, nextPage, previousPage) {
  var requestPath = '/api/v2/orphanrecordings';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["expand"] = expand;
  requestQuery["nextPage"] = nextPage;
  requestQuery["previousPage"] = previousPage;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets a single orphan recording
  * @memberOf RecordingApi
  * @instance
  * @param {string} orphanId - Orphan ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "createdTime": "",
   "recoveredTime": "",
   "providerType": "",
   "mediaSizeBytes": 0,
   "mediaType": "",
   "fileState": "",
   "providerEndpoint": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "count": 0,
      "properties": {},
      "schema": {},
      "enabled": true,
      "site": {},
      "dids": [],
      "selfUri": ""
   },
   "recording": {
      "id": "",
      "name": "",
      "conversationId": "",
      "path": "",
      "startTime": "",
      "endTime": "",
      "media": "",
      "annotations": [],
      "transcript": [],
      "emailTranscript": [],
      "fileState": "",
      "restoreExpirationTime": "",
      "mediaUris": {},
      "estimatedTranscodeTimeMs": 0,
      "actualTranscodeTimeMs": 0,
      "archiveDate": "",
      "archiveMedium": "",
      "deleteDate": "",
      "maxAllowedRestorationsForOrg": 0,
      "remainingRestorationsAllowedForOrg": 0,
      "sessionId": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.getOrphanId = function getOrphanId(orphanId) {
  var requestPath = '/api/v2/orphanrecordings/{orphanId}';
  var requestQuery = {};
  var requestBody;

  if (orphanId === undefined || orphanId === null) {
    throw new Error('Missing required  parameter: orphanId');
  }
  requestPath = requestPath.replace('{orphanId}', orphanId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary  deletes a single orphan recording
  * @memberOf RecordingApi
  * @instance
  * @param {string} orphanId - Orphan ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "createdTime": "",
   "recoveredTime": "",
   "providerType": "",
   "mediaSizeBytes": 0,
   "mediaType": "",
   "fileState": "",
   "providerEndpoint": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "count": 0,
      "properties": {},
      "schema": {},
      "enabled": true,
      "site": {},
      "dids": [],
      "selfUri": ""
   },
   "recording": {
      "id": "",
      "name": "",
      "conversationId": "",
      "path": "",
      "startTime": "",
      "endTime": "",
      "media": "",
      "annotations": [],
      "transcript": [],
      "emailTranscript": [],
      "fileState": "",
      "restoreExpirationTime": "",
      "mediaUris": {},
      "estimatedTranscodeTimeMs": 0,
      "actualTranscodeTimeMs": 0,
      "archiveDate": "",
      "archiveMedium": "",
      "deleteDate": "",
      "maxAllowedRestorationsForOrg": 0,
      "remainingRestorationsAllowedForOrg": 0,
      "sessionId": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.deleteOrphanId = function deleteOrphanId(orphanId) {
  var requestPath = '/api/v2/orphanrecordings/{orphanId}';
  var requestQuery = {};
  var requestBody;

  if (orphanId === undefined || orphanId === null) {
    throw new Error('Missing required  parameter: orphanId');
  }
  requestPath = requestPath.replace('{orphanId}', orphanId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets media retention policy list with query options to filter on name and enabled.
  * @description for a less verbose response, add summary=true to this endpoint
  * @memberOf RecordingApi
  * @instance
  * @param {integer} pageSize - The total page size requested
  * @param {integer} pageNumber - The page number requested
  * @param {string} sortBy - variable name requested to sort by
  * @param {array} expand - variable name requested by expand list
  * @param {string} nextPage - next page token
  * @param {string} previousPage - Previous page token
  * @param {string} name - the policy name - used for filtering results in searches.
  * @param {boolean} enabled - checks to see if policy is enabled - use enabled = true or enabled = false
  * @param {boolean} summary - provides a less verbose response of policy lists.
  * @param {boolean} hasErrors - provides a way to fetch all policies with errors or policies that do not have errors
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RecordingApi.prototype.getMediaretentionpolicies = function getMediaretentionpolicies(pageSize, pageNumber, sortBy, expand, nextPage, previousPage, name, enabled, summary, hasErrors) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["expand"] = expand;
  requestQuery["nextPage"] = nextPage;
  requestQuery["previousPage"] = previousPage;
  requestQuery["name"] = name;
  requestQuery["enabled"] = enabled;
  requestQuery["summary"] = summary;
  requestQuery["hasErrors"] = hasErrors;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create media retention policy
  * @memberOf RecordingApi
  * @instance
  * @param {} body - Policy
  * @example
  * Body Example:
  * {
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.postMediaretentionpolicies = function postMediaretentionpolicies(body) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete media retention policies
  * @description Bulk delete of media retention policies, this will only delete the polices that match the ids specified in the query param.
  * @memberOf RecordingApi
  * @instance
  * @param {string} ids - Bulk delete of media retention policies, this will only delete the polices that match the ids specified in the query param.
  */
RecordingApi.prototype.deleteMediaretentionpolicies = function deleteMediaretentionpolicies(ids) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies';
  var requestQuery = {};
  var requestBody;

  if (ids === undefined || ids === null) {
    throw new Error('Missing required  parameter: ids');
  }
  requestQuery["ids"] = ids;
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a media retention policy
  * @memberOf RecordingApi
  * @instance
  * @param {string} policyId - Policy ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.getMediaretentionpoliciesPolicyId = function getMediaretentionpoliciesPolicyId(policyId) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies/{policyId}';
  var requestQuery = {};
  var requestBody;

  if (policyId === undefined || policyId === null) {
    throw new Error('Missing required  parameter: policyId');
  }
  requestPath = requestPath.replace('{policyId}', policyId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a media retention policy
  * @memberOf RecordingApi
  * @instance
  * @param {string} policyId - Policy ID
  * @param {} body - Policy
  * @example
  * Body Example:
  * {
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.putMediaretentionpoliciesPolicyId = function putMediaretentionpoliciesPolicyId(policyId, body) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies/{policyId}';
  var requestQuery = {};
  var requestBody;

  if (policyId === undefined || policyId === null) {
    throw new Error('Missing required  parameter: policyId');
  }
  requestPath = requestPath.replace('{policyId}', policyId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a media retention policy
  * @memberOf RecordingApi
  * @instance
  * @param {string} policyId - Policy ID
  */
RecordingApi.prototype.deleteMediaretentionpoliciesPolicyId = function deleteMediaretentionpoliciesPolicyId(policyId) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies/{policyId}';
  var requestQuery = {};
  var requestBody;

  if (policyId === undefined || policyId === null) {
    throw new Error('Missing required  parameter: policyId');
  }
  requestPath = requestPath.replace('{policyId}', policyId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a media retention policy
  * @memberOf RecordingApi
  * @instance
  * @param {string} policyId - Policy ID
  * @param {} body - Policy
  * @example
  * Body Example:
  * {
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "modifiedDate": "",
   "createdDate": "",
   "order": 0,
   "description": "",
   "enabled": true,
   "mediaPolicies": {
      "callPolicy": {},
      "chatPolicy": {},
      "emailPolicy": {}
   },
   "conditions": {
      "forUsers": [],
      "directions": [],
      "dateRanges": [],
      "mediaTypes": [],
      "forQueues": [],
      "duration": {},
      "wrapupCodes": [],
      "timeAllowed": {}
   },
   "actions": {
      "retainRecording": true,
      "deleteRecording": true,
      "alwaysDelete": true,
      "assignEvaluations": [],
      "assignMeteredEvaluations": [],
      "assignCalibrations": [],
      "retentionDuration": {},
      "initiateScreenRecording": {}
   },
   "policyErrors": {
      "policyErrorMessages": []
   },
   "selfUri": ""
}
  */
RecordingApi.prototype.patchMediaretentionpoliciesPolicyId = function patchMediaretentionpoliciesPolicyId(policyId, body) {
  var requestPath = '/api/v2/recording/mediaretentionpolicies/{policyId}';
  var requestQuery = {};
  var requestBody;

  if (policyId === undefined || policyId === null) {
    throw new Error('Missing required  parameter: policyId');
  }
  requestPath = requestPath.replace('{policyId}', policyId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the Recording Settings for the Organization
  * @memberOf RecordingApi
  * @instance
  * @param {boolean} createDefault - If no settings are found, a new one is created with default values
  * @example
  * 200 Response Example:
  * {
   "maxSimultaneousStreams": 0
}
  */
RecordingApi.prototype.getSettings = function getSettings(createDefault) {
  var requestPath = '/api/v2/recording/settings';
  var requestQuery = {};
  var requestBody;

  requestQuery["createDefault"] = createDefault;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the Recording Settings for the Organization
  * @memberOf RecordingApi
  * @instance
  * @param {} body - Recording settings
  * @example
  * Body Example:
  * {
   "maxSimultaneousStreams": 0
}
  * @example
  * 200 Response Example:
  * {
   "maxSimultaneousStreams": 0
}
  */
RecordingApi.prototype.putSettings = function putSettings(body) {
  var requestPath = '/api/v2/recording/settings';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Retrieves a paged listing of screen recording sessions
  * @memberOf RecordingApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "pageCount": 0
}
  */
RecordingApi.prototype.getsScreensessions = function getsScreensessions(pageSize, pageNumber) {
  var requestPath = '/api/v2/recordings/screensessions';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = RecordingApi;

},{}],23:[function(require,module,exports){
'use strict';

/**
* @class ResponseManagementApi
* @example
* var api = new purecloud.platform.ResponseManagementApi(pureCloudSession);
*/
function ResponseManagementApi(session) {
  if (!(this instanceof ResponseManagementApi)) {
    return new ResponseManagementApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('ResponseManagementApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Gets a list of existing response libraries.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ResponseManagementApi.prototype.getLibraries = function getLibraries(pageNumber, pageSize) {
  var requestPath = '/api/v2/responsemanagement/libraries';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a response library.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {} body - Library
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "dateCreated": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.postLibraries = function postLibraries(body) {
  var requestPath = '/api/v2/responsemanagement/libraries';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get details about an existing response library.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} libraryId - Library ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.getLibrariesLibraryId = function getLibrariesLibraryId(libraryId) {
  var requestPath = '/api/v2/responsemanagement/libraries/{libraryId}';
  var requestQuery = {};
  var requestBody;

  if (libraryId === undefined || libraryId === null) {
    throw new Error('Missing required  parameter: libraryId');
  }
  requestPath = requestPath.replace('{libraryId}', libraryId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an existing response library.
  * @description Fields that can be updated: name. The most recent version is required for updates.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} libraryId - Library ID
  * @param {} body - Library
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "dateCreated": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.putLibrariesLibraryId = function putLibrariesLibraryId(libraryId, body) {
  var requestPath = '/api/v2/responsemanagement/libraries/{libraryId}';
  var requestQuery = {};
  var requestBody;

  if (libraryId === undefined || libraryId === null) {
    throw new Error('Missing required  parameter: libraryId');
  }
  requestPath = requestPath.replace('{libraryId}', libraryId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an existing response library.
  * @description This will remove any responses associated with the library.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} libraryId - Library ID
  */
ResponseManagementApi.prototype.deleteLibrariesLibraryId = function deleteLibrariesLibraryId(libraryId) {
  var requestPath = '/api/v2/responsemanagement/libraries/{libraryId}';
  var requestQuery = {};
  var requestBody;

  if (libraryId === undefined || libraryId === null) {
    throw new Error('Missing required  parameter: libraryId');
  }
  requestPath = requestPath.replace('{libraryId}', libraryId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Gets a list of existing responses.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} libraryId - Library ID
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
ResponseManagementApi.prototype.getResponses = function getResponses(libraryId, pageNumber, pageSize) {
  var requestPath = '/api/v2/responsemanagement/responses';
  var requestQuery = {};
  var requestBody;

  if (libraryId === undefined || libraryId === null) {
    throw new Error('Missing required  parameter: libraryId');
  }
  requestQuery["libraryId"] = libraryId;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["pageSize"] = pageSize;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a response.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {} body - Response
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "libraries": [],
   "texts": [],
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "dateCreated": "",
   "interactionType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "libraries": [],
   "texts": [],
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "interactionType": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.postResponses = function postResponses(body) {
  var requestPath = '/api/v2/responsemanagement/responses';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query responses
  * @memberOf ResponseManagementApi
  * @instance
  * @param {} body - Response
  * @example
  * Body Example:
  * {
   "queryPhrase": "",
   "pageSize": 0,
   "filters": []
}
  * @example
  * 200 Response Example:
  * {
   "results": {
      "pageSize": 0,
      "pageNumber": 0,
      "total": 0,
      "entities": [],
      "selfUri": "",
      "firstUri": "",
      "previousUri": "",
      "nextUri": "",
      "lastUri": "",
      "pageCount": 0
   }
}
  */
ResponseManagementApi.prototype.postResponsesQuery = function postResponsesQuery(body) {
  var requestPath = '/api/v2/responsemanagement/responses/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get details about an existing response.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} responseId - Response ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "libraries": [],
   "texts": [],
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "interactionType": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.getResponsesResponseId = function getResponsesResponseId(responseId) {
  var requestPath = '/api/v2/responsemanagement/responses/{responseId}';
  var requestQuery = {};
  var requestBody;

  if (responseId === undefined || responseId === null) {
    throw new Error('Missing required  parameter: responseId');
  }
  requestPath = requestPath.replace('{responseId}', responseId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an existing response.
  * @description Fields that can be updated: name, libraries, and texts. The most recent version is required for updates.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} responseId - Response ID
  * @param {} body - Response
  * @example
  * Body Example:
  * {
   "name": "",
   "version": 0,
   "libraries": [],
   "texts": [],
   "createdBy": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "dateCreated": "",
   "interactionType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "version": 0,
   "libraries": [],
   "texts": [],
   "createdBy": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "dateCreated": "",
   "interactionType": "",
   "selfUri": ""
}
  */
ResponseManagementApi.prototype.putResponsesResponseId = function putResponsesResponseId(responseId, body) {
  var requestPath = '/api/v2/responsemanagement/responses/{responseId}';
  var requestQuery = {};
  var requestBody;

  if (responseId === undefined || responseId === null) {
    throw new Error('Missing required  parameter: responseId');
  }
  requestPath = requestPath.replace('{responseId}', responseId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete an existing response.
  * @description This will remove the response from any libraries associated with it.
  * @memberOf ResponseManagementApi
  * @instance
  * @param {string} responseId - Response ID
  */
ResponseManagementApi.prototype.deleteResponsesResponseId = function deleteResponsesResponseId(responseId) {
  var requestPath = '/api/v2/responsemanagement/responses/{responseId}';
  var requestQuery = {};
  var requestBody;

  if (responseId === undefined || responseId === null) {
    throw new Error('Missing required  parameter: responseId');
  }
  requestPath = requestPath.replace('{responseId}', responseId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = ResponseManagementApi;

},{}],24:[function(require,module,exports){
'use strict';

/**
* @class RoutingApi
* @example
* var api = new purecloud.platform.RoutingApi(pureCloudSession);
*/
function RoutingApi(session) {
  if (!(this instanceof RoutingApi)) {
    return new RoutingApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('RoutingApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Query for queue observations
  * @memberOf RoutingApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": []
}
  * @example
  * 200 Response Example:
  * {
   "systemToOrganizationMappings": {},
   "results": []
}
  */
RoutingApi.prototype.postQueuesObservationsQuery = function postQueuesObservationsQuery(body) {
  var requestPath = '/api/v2/analytics/queues/observations/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get domains
  * @memberOf RoutingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getEmailDomains = function getEmailDomains() {
  var requestPath = '/api/v2/routing/email/domains';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a domain
  * @memberOf RoutingApi
  * @instance
  * @param {} body - Domain
  * @example
  * Body Example:
  * {
   "name": "",
   "mxRecordStatus": "",
   "subDomain": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "mxRecordStatus": "",
   "subDomain": true,
   "selfUri": ""
}
  */
RoutingApi.prototype.postEmailDomains = function postEmailDomains(body) {
  var requestPath = '/api/v2/routing/email/domains';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a domain
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainId - domain ID
  */
RoutingApi.prototype.deleteEmailDomainsDomainId = function deleteEmailDomainsDomainId(domainId) {
  var requestPath = '/api/v2/routing/email/domains/{domainId}';
  var requestQuery = {};
  var requestBody;

  if (domainId === undefined || domainId === null) {
    throw new Error('Missing required  parameter: domainId');
  }
  requestPath = requestPath.replace('{domainId}', domainId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get routes
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainName - email domain
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getEmailDomainsDomainnameRoutes = function getEmailDomainsDomainnameRoutes(domainName) {
  var requestPath = '/api/v2/routing/email/domains/{domainName}/routes';
  var requestQuery = {};
  var requestBody;

  if (domainName === undefined || domainName === null) {
    throw new Error('Missing required  parameter: domainName');
  }
  requestPath = requestPath.replace('{domainName}', domainName);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a route
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainName - email domain
  * @param {} body - Route
  * @example
  * Body Example:
  * {
   "name": "",
   "pattern": "",
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "priority": 0,
   "skills": [],
   "language": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "fromName": "",
   "fromEmail": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "pattern": "",
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "priority": 0,
   "skills": [],
   "language": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "fromName": "",
   "fromEmail": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.postEmailDomainsDomainnameRoutes = function postEmailDomainsDomainnameRoutes(domainName, body) {
  var requestPath = '/api/v2/routing/email/domains/{domainName}/routes';
  var requestQuery = {};
  var requestBody;

  if (domainName === undefined || domainName === null) {
    throw new Error('Missing required  parameter: domainName');
  }
  requestPath = requestPath.replace('{domainName}', domainName);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a route
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainName - email domain
  * @param {string} routeId - route ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "pattern": "",
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "priority": 0,
   "skills": [],
   "language": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "fromName": "",
   "fromEmail": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.getEmailDomainsDomainnameRoutesRouteId = function getEmailDomainsDomainnameRoutesRouteId(domainName, routeId) {
  var requestPath = '/api/v2/routing/email/domains/{domainName}/routes/{routeId}';
  var requestQuery = {};
  var requestBody;

  if (domainName === undefined || domainName === null) {
    throw new Error('Missing required  parameter: domainName');
  }
  requestPath = requestPath.replace('{domainName}', domainName);
  if (routeId === undefined || routeId === null) {
    throw new Error('Missing required  parameter: routeId');
  }
  requestPath = requestPath.replace('{routeId}', routeId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a route
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainName - email domain
  * @param {string} routeId - route ID
  * @param {} body - Route
  * @example
  * Body Example:
  * {
   "name": "",
   "pattern": "",
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "priority": 0,
   "skills": [],
   "language": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "fromName": "",
   "fromEmail": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "pattern": "",
   "queue": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "priority": 0,
   "skills": [],
   "language": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "fromName": "",
   "fromEmail": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.putEmailDomainsDomainnameRoutesRouteId = function putEmailDomainsDomainnameRoutesRouteId(domainName, routeId, body) {
  var requestPath = '/api/v2/routing/email/domains/{domainName}/routes/{routeId}';
  var requestQuery = {};
  var requestBody;

  if (domainName === undefined || domainName === null) {
    throw new Error('Missing required  parameter: domainName');
  }
  requestPath = requestPath.replace('{domainName}', domainName);
  if (routeId === undefined || routeId === null) {
    throw new Error('Missing required  parameter: routeId');
  }
  requestPath = requestPath.replace('{routeId}', routeId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a route
  * @memberOf RoutingApi
  * @instance
  * @param {string} domainName - email domain
  * @param {string} routeId - route ID
  */
RoutingApi.prototype.deleteEmailDomainsDomainnameRoutesRouteId = function deleteEmailDomainsDomainnameRoutesRouteId(domainName, routeId) {
  var requestPath = '/api/v2/routing/email/domains/{domainName}/routes/{routeId}';
  var requestQuery = {};
  var requestBody;

  if (domainName === undefined || domainName === null) {
    throw new Error('Missing required  parameter: domainName');
  }
  requestPath = requestPath.replace('{domainName}', domainName);
  if (routeId === undefined || routeId === null) {
    throw new Error('Missing required  parameter: routeId');
  }
  requestPath = requestPath.replace('{routeId}', routeId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get email setup
  * @memberOf RoutingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "rootDomain": ""
}
  */
RoutingApi.prototype.getEmailSetup = function getEmailSetup() {
  var requestPath = '/api/v2/routing/email/setup';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of queues.
  * @memberOf RoutingApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} name - Name
  * @param {boolean} active - Active
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueues = function getQueues(pageSize, pageNumber, sortBy, name, active) {
  var requestPath = '/api/v2/routing/queues';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["name"] = name;
  requestQuery["active"] = active;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create queue
  * @memberOf RoutingApi
  * @instance
  * @param {} body - Queue
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "sourceQueueId": "",
   "memberCount": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "memberCount": 0,
   "selfUri": ""
}
  */
RoutingApi.prototype.postQueues = function postQueues(body) {
  var requestPath = '/api/v2/routing/queues';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get details about this queue.
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "memberCount": 0,
   "selfUri": ""
}
  */
RoutingApi.prototype.getQueuesQueueId = function getQueuesQueueId(queueId) {
  var requestPath = '/api/v2/routing/queues/{queueId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {} body - Queue
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "memberCount": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "memberCount": 0,
   "selfUri": ""
}
  */
RoutingApi.prototype.putQueuesQueueId = function putQueuesQueueId(queueId, body) {
  var requestPath = '/api/v2/routing/queues/{queueId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {boolean} forceDelete - forceDelete
  */
RoutingApi.prototype.deleteQueuesQueueId = function deleteQueuesQueueId(queueId, forceDelete) {
  var requestPath = '/api/v2/routing/queues/{queueId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["forceDelete"] = forceDelete;
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent conversations that are still active
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdConversations = function getQueuesQueueIdConversations(queueId, pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/queues/{queueId}/conversations';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent callback conversations that are still active
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdConversationsCallbacks = function getQueuesQueueIdConversationsCallbacks(queueId, pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/queues/{queueId}/conversations/callbacks';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent call conversations that are still active
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdConversationsCalls = function getQueuesQueueIdConversationsCalls(queueId, pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/queues/{queueId}/conversations/calls';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent chat conversations that are still active
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdConversationsChats = function getQueuesQueueIdConversationsChats(queueId, pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/queues/{queueId}/conversations/chats';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get recent email conversations that are still active
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdConversationsEmails = function getQueuesQueueIdConversationsEmails(queueId, pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/queues/{queueId}/conversations/emails';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Estimated Wait Time
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - queueId
  * @param {string} conversationId - conversationId
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
RoutingApi.prototype.getQueuesQueueIdEstimatedwaittime = function getQueuesQueueIdEstimatedwaittime(queueId, conversationId) {
  var requestPath = '/api/v2/routing/queues/{queueId}/estimatedwaittime';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["conversationId"] = conversationId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the members of this queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {array} expand - Which fields, if any, to expand. Valid Values: routingStatus, presence, conversationSummary, outOfOffice, geolocation, station, authorization, profileSkills, date, geolocationsettings, organization, presencedefinitions, locations
  * @param {boolean} joined - Filter by joined status
  * @param {string} name - Filter by queue member name
  * @param {array} skills - Filter by skill
  * @param {array} languages - Filter by language
  * @param {array} routingStatus - Filter by routing status
  * @param {array} presence - Filter by presence
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdUsers = function getQueuesQueueIdUsers(queueId, pageSize, pageNumber, sortBy, expand, joined, name, skills, languages, routingStatus, presence) {
  var requestPath = '/api/v2/routing/queues/{queueId}/users';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["expand"] = expand;
  requestQuery["joined"] = joined;
  requestQuery["name"] = name;
  requestQuery["skills"] = skills;
  requestQuery["languages"] = languages;
  requestQuery["routingStatus"] = routingStatus;
  requestQuery["presence"] = presence;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Bulk add or delete up to 100 queue members
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {} body - Queue Members
  * @param {boolean} doDelete - True to delete queue members
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "user": {
   "name": "",
   "chat": {},
   "department": "",
   "email": "",
   "addresses": [],
   "title": "",
   "username": "",
   "images": [],
   "version": 0
  },
  "ringNumber": 0,
  "joined": true,
  "memberBy": "",
  "routingStatus": {
   "userId": "",
   "status": "",
   "startTime": ""
  }
 }
]
  */
RoutingApi.prototype.postQueuesQueueIdUsers = function postQueuesQueueIdUsers(queueId, body, doDelete) {
  var requestPath = '/api/v2/routing/queues/{queueId}/users';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["delete"] = doDelete;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Join or unjoin a set of users for a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {} body - Queue Members
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "user": {
   "name": "",
   "chat": {},
   "department": "",
   "email": "",
   "addresses": [],
   "title": "",
   "username": "",
   "images": [],
   "version": 0
  },
  "ringNumber": 0,
  "joined": true,
  "memberBy": "",
  "routingStatus": {
   "userId": "",
   "status": "",
   "startTime": ""
  }
 }
]
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.patchQueuesQueueIdUsers = function patchQueuesQueueIdUsers(queueId, body) {
  var requestPath = '/api/v2/routing/queues/{queueId}/users';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete queue member
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} memberId - Member ID
  */
RoutingApi.prototype.deleteQueuesQueueIdUsersMemberId = function deleteQueuesQueueIdUsersMemberId(queueId, memberId) {
  var requestPath = '/api/v2/routing/queues/{queueId}/users/{memberId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (memberId === undefined || memberId === null) {
    throw new Error('Missing required  parameter: memberId');
  }
  requestPath = requestPath.replace('{memberId}', memberId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the ring number of joined status for a User in a Queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} memberId - Member ID
  * @param {} body - Queue Member
  * @example
  * Body Example:
  * {
   "name": "",
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "ringNumber": 0,
   "joined": true,
   "memberBy": "",
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "ringNumber": 0,
   "joined": true,
   "memberBy": "",
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   },
   "selfUri": ""
}
  */
RoutingApi.prototype.patchQueuesQueueIdUsersMemberId = function patchQueuesQueueIdUsersMemberId(queueId, memberId, body) {
  var requestPath = '/api/v2/routing/queues/{queueId}/users/{memberId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (memberId === undefined || memberId === null) {
    throw new Error('Missing required  parameter: memberId');
  }
  requestPath = requestPath.replace('{memberId}', memberId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the wrap-up codes for a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} codeId - Code ID
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getQueuesQueueIdWrapupcodes = function getQueuesQueueIdWrapupcodes(queueId, codeId) {
  var requestPath = '/api/v2/routing/queues/{queueId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add up to 100 wrap-up codes to a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} codeId - Code ID
  * @param {} body - List of wrapup codes
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": ""
 }
]
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "selfUri": ""
 }
]
  */
RoutingApi.prototype.postQueuesQueueIdWrapupcodes = function postQueuesQueueIdWrapupcodes(queueId, codeId, body) {
  var requestPath = '/api/v2/routing/queues/{queueId}/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a wrap-up code from a queue
  * @memberOf RoutingApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} codeId - Code ID
  */
RoutingApi.prototype.deleteQueuesQueueIdWrapupcodesCodeId = function deleteQueuesQueueIdWrapupcodesCodeId(queueId, codeId) {
  var requestPath = '/api/v2/routing/queues/{queueId}/wrapupcodes/{codeId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of routing skills.
  * @memberOf RoutingApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getSkills = function getSkills(pageSize, pageNumber) {
  var requestPath = '/api/v2/routing/skills';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create Skill
  * @memberOf RoutingApi
  * @instance
  * @param {} body - Skill
  * @example
  * Body Example:
  * {
   "name": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateModified": "",
   "state": "",
   "version": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.postSkills = function postSkills(body) {
  var requestPath = '/api/v2/routing/skills';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get Routing Skill
  * @memberOf RoutingApi
  * @instance
  * @param {string} skillId - Skill ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateModified": "",
   "state": "",
   "version": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.getSkillsSkillId = function getSkillsSkillId(skillId) {
  var requestPath = '/api/v2/routing/skills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete Routing Skill
  * @memberOf RoutingApi
  * @instance
  * @param {string} skillId - Skill ID
  */
RoutingApi.prototype.deleteSkillsSkillId = function deleteSkillsSkillId(skillId) {
  var requestPath = '/api/v2/routing/skills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the utilization settings.
  * @memberOf RoutingApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "utilization": {}
}
  */
RoutingApi.prototype.getUtilization = function getUtilization() {
  var requestPath = '/api/v2/routing/utilization';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the utilization settings.
  * @memberOf RoutingApi
  * @instance
  * @param {} body - utilization
  * @example
  * Body Example:
  * {
   "utilization": {}
}
  * @example
  * 200 Response Example:
  * {
   "utilization": {}
}
  */
RoutingApi.prototype.putUtilization = function putUtilization(body) {
  var requestPath = '/api/v2/routing/utilization';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete utilization settings and revert to system defaults.
  * @memberOf RoutingApi
  * @instance
  */
RoutingApi.prototype.deleteUtilization = function deleteUtilization() {
  var requestPath = '/api/v2/routing/utilization';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get list of wrapup codes.
  * @memberOf RoutingApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getWrapupcodes = function getWrapupcodes(pageSize, pageNumber, sortBy) {
  var requestPath = '/api/v2/routing/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create a wrap-up code
  * @memberOf RoutingApi
  * @instance
  * @param {} body - WrapupCode
  * @example
  * Body Example:
  * {
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "version": 0,
   "callableTimes": [],
   "selfUri": ""
}
  */
RoutingApi.prototype.postWrapupcodes = function postWrapupcodes(body) {
  var requestPath = '/api/v2/routing/wrapupcodes';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get details about this wrap-up code.
  * @memberOf RoutingApi
  * @instance
  * @param {string} codeId - Wrapup Code ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.getWrapupcodesCodeId = function getWrapupcodesCodeId(codeId) {
  var requestPath = '/api/v2/routing/wrapupcodes/{codeId}';
  var requestQuery = {};
  var requestBody;

  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update wrap-up code
  * @memberOf RoutingApi
  * @instance
  * @param {string} codeId - Wrapup Code ID
  * @param {} body - WrapupCode
  * @example
  * Body Example:
  * {
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.putWrapupcodesCodeId = function putWrapupcodesCodeId(codeId, body) {
  var requestPath = '/api/v2/routing/wrapupcodes/{codeId}';
  var requestQuery = {};
  var requestBody;

  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete wrap-up code
  * @memberOf RoutingApi
  * @instance
  * @param {string} codeId - Wrapup Code ID
  */
RoutingApi.prototype.deleteWrapupcodesCodeId = function deleteWrapupcodesCodeId(codeId) {
  var requestPath = '/api/v2/routing/wrapupcodes/{codeId}';
  var requestQuery = {};
  var requestBody;

  if (codeId === undefined || codeId === null) {
    throw new Error('Missing required  parameter: codeId');
  }
  requestPath = requestPath.replace('{codeId}', codeId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary List routing skills for user
  * @memberOf RoutingApi
  * @instance
  * @param {string} userId - User ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
RoutingApi.prototype.getUserIdRoutingskills = function getUserIdRoutingskills(userId, pageSize, pageNumber, sortOrder) {
  var requestPath = '/api/v2/users/{userId}/routingskills';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add routing skill to user
  * @memberOf RoutingApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - Skill
  * @example
  * Body Example:
  * {
   "name": "",
   "proficiency": {},
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "proficiency": {},
   "state": "",
   "skillUri": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.postUserIdRoutingskills = function postUserIdRoutingskills(userId, body) {
  var requestPath = '/api/v2/users/{userId}/routingskills';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update routing skill proficiency or state.
  * @memberOf RoutingApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} skillId - skillId
  * @param {} body - Skill
  * @example
  * Body Example:
  * {
   "name": "",
   "proficiency": {},
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "proficiency": {},
   "state": "",
   "skillUri": "",
   "selfUri": ""
}
  */
RoutingApi.prototype.putUserIdRoutingskillsSkillId = function putUserIdRoutingskillsSkillId(userId, skillId, body) {
  var requestPath = '/api/v2/users/{userId}/routingskills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Remove routing skill from user
  * @memberOf RoutingApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} skillId - skillId
  */
RoutingApi.prototype.deleteUserIdRoutingskillsSkillId = function deleteUserIdRoutingskillsSkillId(userId, skillId) {
  var requestPath = '/api/v2/users/{userId}/routingskills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = RoutingApi;

},{}],25:[function(require,module,exports){
'use strict';

/**
* @class SearchApi
* @example
* var api = new purecloud.platform.SearchApi(pureCloudSession);
*/
function SearchApi(session) {
  if (!(this instanceof SearchApi)) {
    return new SearchApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('SearchApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Search using q64
  * @memberOf SearchApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/groups/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf SearchApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/groups/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf SearchApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/locations/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf SearchApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/locations/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf SearchApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @param {boolean} profile - profile
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SearchApi.prototype.getSearch = function getSearch(q64, expand, profile) {
  var requestPath = '/api/v2/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  requestQuery["profile"] = profile;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf SearchApi
  * @instance
  * @param {} body - Search request options
  * @param {boolean} profile - profile
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "types": [],
   "query": [],
   "aggregations": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SearchApi.prototype.postSearch = function postSearch(body, profile) {
  var requestPath = '/api/v2/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["profile"] = profile;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Suggest using q64
  * @memberOf SearchApi
  * @instance
  * @param {string} q64 - q64
  * @param {boolean} profile - profile
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SearchApi.prototype.getSuggest = function getSuggest(q64, profile) {
  var requestPath = '/api/v2/search/suggest';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["profile"] = profile;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Suggest
  * @memberOf SearchApi
  * @instance
  * @param {} body - Search request options
  * @param {boolean} profile - profile
  * @example
  * Body Example:
  * {
   "types": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SearchApi.prototype.postSuggest = function postSuggest(body, profile) {
  var requestPath = '/api/v2/search/suggest';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["profile"] = profile;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf SearchApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/users/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf SearchApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
SearchApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/users/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

module.exports = SearchApi;

},{}],26:[function(require,module,exports){
'use strict';

/**
* @class StationsApi
* @example
* var api = new purecloud.platform.StationsApi(pureCloudSession);
*/
function StationsApi(session) {
  if (!(this instanceof StationsApi)) {
    return new StationsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('StationsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get the list of available stations.
  * @memberOf StationsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} name - Name
  * @param {string} lineAppearanceId - lineAppearanceId
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
StationsApi.prototype.getStations = function getStations(pageSize, pageNumber, sortBy, name, lineAppearanceId) {
  var requestPath = '/api/v2/stations';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortBy"] = sortBy;
  requestQuery["name"] = name;
  requestQuery["lineAppearanceId"] = lineAppearanceId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get station.
  * @memberOf StationsApi
  * @instance
  * @param {string} stationId - Station ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "status": "",
   "userId": "",
   "primaryEdge": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "secondaryEdge": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "type": "",
   "lineAppearanceId": "",
   "selfUri": ""
}
  */
StationsApi.prototype.getStationId = function getStationId(stationId) {
  var requestPath = '/api/v2/stations/{stationId}';
  var requestQuery = {};
  var requestBody;

  if (stationId === undefined || stationId === null) {
    throw new Error('Missing required  parameter: stationId');
  }
  requestPath = requestPath.replace('{stationId}', stationId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Unassigns the user assigned to this station
  * @memberOf StationsApi
  * @instance
  * @param {string} stationId - Station ID
  */
StationsApi.prototype.deleteStationIdAssociateduser = function deleteStationIdAssociateduser(stationId) {
  var requestPath = '/api/v2/stations/{stationId}/associateduser';
  var requestQuery = {};
  var requestBody;

  if (stationId === undefined || stationId === null) {
    throw new Error('Missing required  parameter: stationId');
  }
  requestPath = requestPath.replace('{stationId}', stationId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = StationsApi;

},{}],27:[function(require,module,exports){
'use strict';

/**
* @class SuggestApi
* @example
* var api = new purecloud.platform.SuggestApi(pureCloudSession);
*/
function SuggestApi(session) {
  if (!(this instanceof SuggestApi)) {
    return new SuggestApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('SuggestApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Search using q64
  * @memberOf SuggestApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @param {boolean} profile - profile
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SuggestApi.prototype.getSearch = function getSearch(q64, expand, profile) {
  var requestPath = '/api/v2/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  requestQuery["profile"] = profile;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf SuggestApi
  * @instance
  * @param {} body - Search request options
  * @param {boolean} profile - profile
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "types": [],
   "query": [],
   "aggregations": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SuggestApi.prototype.postSearch = function postSearch(body, profile) {
  var requestPath = '/api/v2/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["profile"] = profile;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Suggest using q64
  * @memberOf SuggestApi
  * @instance
  * @param {string} q64 - q64
  * @param {boolean} profile - profile
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SuggestApi.prototype.getSuggest = function getSuggest(q64, profile) {
  var requestPath = '/api/v2/search/suggest';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["profile"] = profile;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Suggest
  * @memberOf SuggestApi
  * @instance
  * @param {} body - Search request options
  * @param {boolean} profile - profile
  * @example
  * Body Example:
  * {
   "types": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   },
   "aggregations": {
      "nodeType": "",
      "float": true,
      "object": true,
      "boolean": true,
      "number": true,
      "valueNode": true,
      "containerNode": true,
      "missingNode": true,
      "pojo": true,
      "integralNumber": true,
      "floatingPointNumber": true,
      "short": true,
      "int": true,
      "long": true,
      "double": true,
      "bigDecimal": true,
      "bigInteger": true,
      "textual": true,
      "binary": true,
      "array": true,
      "null": true
   }
}
  */
SuggestApi.prototype.postSuggest = function postSuggest(body, profile) {
  var requestPath = '/api/v2/search/suggest';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["profile"] = profile;
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

module.exports = SuggestApi;

},{}],28:[function(require,module,exports){
'use strict';/**
* @class TelephonyProvidersEdgeApi
* @example
* var api = new purecloud.platform.TelephonyProvidersEdgeApi(pureCloudSession);
*/function TelephonyProvidersEdgeApi(session){if(!(this instanceof TelephonyProvidersEdgeApi)){return new TelephonyProvidersEdgeApi(session);}if(!(session&&session.makeRequest)){throw new Error('TelephonyProvidersEdgeApi requires a PureCloudSession');}this.session=session;}/**
  * @summary Lists available schema categories
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getSchemasEdgesVnext=function getSchemasEdgesVnext(pageSize,pageNumber){var requestPath='/api/v2/configuration/schemas/edges/vnext';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary List schemas of a specific category
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} schemaCategory - Schema category
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getSchemasEdgesVnextSchemacategory=function getSchemasEdgesVnextSchemacategory(schemaCategory,pageSize,pageNumber){var requestPath='/api/v2/configuration/schemas/edges/vnext/{schemaCategory}';var requestQuery={};var requestBody;if(schemaCategory===undefined||schemaCategory===null){throw new Error('Missing required  parameter: schemaCategory');}requestPath=requestPath.replace('{schemaCategory}',schemaCategory);requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary List schemas of a specific category
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} schemaCategory - Schema category
  * @param {string} schemaType - Schema type
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getSchemasEdgesVnextSchemacategorySchematype=function getSchemasEdgesVnextSchemacategorySchematype(schemaCategory,schemaType,pageSize,pageNumber){var requestPath='/api/v2/configuration/schemas/edges/vnext/{schemaCategory}/{schemaType}';var requestQuery={};var requestBody;if(schemaCategory===undefined||schemaCategory===null){throw new Error('Missing required  parameter: schemaCategory');}requestPath=requestPath.replace('{schemaCategory}',schemaCategory);if(schemaType===undefined||schemaType===null){throw new Error('Missing required  parameter: schemaType');}requestPath=requestPath.replace('{schemaType}',schemaType);requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a json schema
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} schemaCategory - Schema category
  * @param {string} schemaType - Schema type
  * @param {string} schemaId - Schema ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "thirdPartyOrgId": "",
   "thirdPartyOrgName": "",
   "thirdPartyURI": "",
   "domain": "",
   "version": 0,
   "state": "",
   "defaultSiteId": "",
   "deletable": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getSchemasEdgesVnextSchemacategorySchematypeSchemaId=function getSchemasEdgesVnextSchemacategorySchematypeSchemaId(schemaCategory,schemaType,schemaId){var requestPath='/api/v2/configuration/schemas/edges/vnext/{schemaCategory}/{schemaType}/{schemaId}';var requestQuery={};var requestBody;if(schemaCategory===undefined||schemaCategory===null){throw new Error('Missing required  parameter: schemaCategory');}requestPath=requestPath.replace('{schemaCategory}',schemaCategory);if(schemaType===undefined||schemaType===null){throw new Error('Missing required  parameter: schemaType');}requestPath=requestPath.replace('{schemaType}',schemaType);if(schemaId===undefined||schemaId===null){throw new Error('Missing required  parameter: schemaId');}requestPath=requestPath.replace('{schemaId}',schemaId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get metadata for a schema
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} schemaCategory - Schema category
  * @param {string} schemaType - Schema type
  * @param {string} schemaId - Schema ID
  * @param {string} extensionType - extension
  * @param {string} metadataId - Metadata ID
  * @param {string} type - Type
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "thirdPartyOrgId": "",
   "thirdPartyOrgName": "",
   "thirdPartyURI": "",
   "domain": "",
   "version": 0,
   "state": "",
   "defaultSiteId": "",
   "deletable": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getSchemasEdgesVnextSchemacategorySchematypeSchemaIdExtensiontypeMetadataId=function getSchemasEdgesVnextSchemacategorySchematypeSchemaIdExtensiontypeMetadataId(schemaCategory,schemaType,schemaId,extensionType,metadataId,type){var requestPath='/api/v2/configuration/schemas/edges/vnext/{schemaCategory}/{schemaType}/{schemaId}/{extensionType}/{metadataId}';var requestQuery={};var requestBody;if(schemaCategory===undefined||schemaCategory===null){throw new Error('Missing required  parameter: schemaCategory');}requestPath=requestPath.replace('{schemaCategory}',schemaCategory);if(schemaType===undefined||schemaType===null){throw new Error('Missing required  parameter: schemaType');}requestPath=requestPath.replace('{schemaType}',schemaType);if(schemaId===undefined||schemaId===null){throw new Error('Missing required  parameter: schemaId');}requestPath=requestPath.replace('{schemaId}',schemaId);if(extensionType===undefined||extensionType===null){throw new Error('Missing required  parameter: extensionType');}requestPath=requestPath.replace('{extensionType}',extensionType);if(metadataId===undefined||metadataId===null){throw new Error('Missing required  parameter: metadataId');}requestPath=requestPath.replace('{metadataId}',metadataId);requestQuery["type"]=type;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of edges.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @param {string} siteid - Filter by site.id
  * @param {string} edgeGroupid - Filter by edgeGroup.id
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdges=function getProvidersEdges(pageSize,pageNumber,name,siteid,edgeGroupid,sortBy){var requestPath='/api/v2/telephony/providers/edges';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["name"]=name;requestQuery["site.id"]=siteid;requestQuery["edgeGroup.id"]=edgeGroupid;requestQuery["sortBy"]=sortBy;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create an edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Edge
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "interfaces": [],
   "make": "",
   "model": "",
   "apiVersion": "",
   "softwareVersion": "",
   "softwareVersionTimestamp": "",
   "softwareVersionPlatform": "",
   "softwareVersionConfiguration": "",
   "fullSoftwareVersion": "",
   "pairingId": "",
   "fingerprint": "",
   "fingerprintHint": "",
   "currentVersion": "",
   "stagedVersion": "",
   "patch": "",
   "statusCode": "",
   "edgeGroup": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": []
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "softwareStatus": {
      "version": {},
      "maxDownloadRate": 0,
      "downloadStartTime": "",
      "executeStartTime": "",
      "executeStopTime": "",
      "executeOnIdle": true,
      "status": "",
      "edgeUri": "",
      "current": true
   },
   "onlineStatus": "",
   "serialNumber": "",
   "physicalEdge": true,
   "managed": true,
   "edgeDeploymentType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "interfaces": [],
   "make": "",
   "model": "",
   "apiVersion": "",
   "softwareVersion": "",
   "softwareVersionTimestamp": "",
   "softwareVersionPlatform": "",
   "softwareVersionConfiguration": "",
   "fullSoftwareVersion": "",
   "pairingId": "",
   "fingerprint": "",
   "fingerprintHint": "",
   "currentVersion": "",
   "stagedVersion": "",
   "patch": "",
   "statusCode": "",
   "edgeGroup": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": [],
      "selfUri": ""
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "softwareStatus": {
      "version": {},
      "maxDownloadRate": 0,
      "downloadStartTime": "",
      "executeStartTime": "",
      "executeStopTime": "",
      "executeOnIdle": true,
      "status": "",
      "edgeUri": "",
      "current": true
   },
   "onlineStatus": "",
   "serialNumber": "",
   "physicalEdge": true,
   "managed": true,
   "edgeDeploymentType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdges=function postProvidersEdges(body){var requestPath='/api/v2/telephony/providers/edges';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Validates a street address
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Address
  * @example
  * Body Example:
  * {
   "address": {
      "country": "",
      "A1": "",
      "A3": "",
      "RD": "",
      "HNO": "",
      "LOC": "",
      "NAM": "",
      "PC": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "valid": true,
   "response": {
      "messageReturned": [],
      "status": ""
   }
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesAddressvalidation=function postProvidersEdgesAddressvalidation(body){var requestPath='/api/v2/telephony/providers/edges/addressvalidation';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of available languages.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "languages": []
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesAvailablelanguages=function getProvidersEdgesAvailablelanguages(){var requestPath='/api/v2/telephony/providers/edges/availablelanguages';var requestQuery={};var requestBody;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of certificate authorities.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesCertificateauthorities=function getProvidersEdgesCertificateauthorities(){var requestPath='/api/v2/telephony/providers/edges/certificateauthorities';var requestQuery={};var requestBody;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a certificate authority.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - CertificateAuthority
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "certificate": "",
   "type": "",
   "services": [],
   "certificateDetails": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "certificate": "",
   "type": "",
   "services": [],
   "certificateDetails": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesCertificateauthorities=function postProvidersEdgesCertificateauthorities(body){var requestPath='/api/v2/telephony/providers/edges/certificateauthorities';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a certificate authority.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} certificateId - Certificate ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "certificate": "",
   "type": "",
   "services": [],
   "certificateDetails": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesCertificateauthoritiesCertificateId=function getProvidersEdgesCertificateauthoritiesCertificateId(certificateId){var requestPath='/api/v2/telephony/providers/edges/certificateauthorities/{certificateId}';var requestQuery={};var requestBody;if(certificateId===undefined||certificateId===null){throw new Error('Missing required  parameter: certificateId');}requestPath=requestPath.replace('{certificateId}',certificateId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a certificate authority.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} certificateId - Certificate ID
  * @param {} body - Certificate authority
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "certificate": "",
   "type": "",
   "services": [],
   "certificateDetails": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "certificate": "",
   "type": "",
   "services": [],
   "certificateDetails": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesCertificateauthoritiesCertificateId=function putProvidersEdgesCertificateauthoritiesCertificateId(certificateId,body){var requestPath='/api/v2/telephony/providers/edges/certificateauthorities/{certificateId}';var requestQuery={};var requestBody;if(certificateId===undefined||certificateId===null){throw new Error('Missing required  parameter: certificateId');}requestPath=requestPath.replace('{certificateId}',certificateId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a certificate authority.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} certificateId - Certificate ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesCertificateauthoritiesCertificateId=function deleteProvidersEdgesCertificateauthoritiesCertificateId(certificateId){var requestPath='/api/v2/telephony/providers/edges/certificateauthorities/{certificateId}';var requestQuery={};var requestBody;if(certificateId===undefined||certificateId===null){throw new Error('Missing required  parameter: certificateId');}requestPath=requestPath.replace('{certificateId}',certificateId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a listing of DID Pools
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesDidpools=function getProvidersEdgesDidpools(pageSize,pageNumber,sortBy){var requestPath='/api/v2/telephony/providers/edges/didpools';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["sortBy"]=sortBy;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a new DID pool
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - DID pool
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startPhoneNumber": "",
   "endPhoneNumber": "",
   "comments": "",
   "provider": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startPhoneNumber": "",
   "endPhoneNumber": "",
   "comments": "",
   "provider": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesDidpools=function postProvidersEdgesDidpools(body){var requestPath='/api/v2/telephony/providers/edges/didpools';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a DID Pool by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} didPoolId - DID pool ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startPhoneNumber": "",
   "endPhoneNumber": "",
   "comments": "",
   "provider": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesDidpoolsDidpoolId=function getProvidersEdgesDidpoolsDidpoolId(didPoolId){var requestPath='/api/v2/telephony/providers/edges/didpools/{didPoolId}';var requestQuery={};var requestBody;if(didPoolId===undefined||didPoolId===null){throw new Error('Missing required  parameter: didPoolId');}requestPath=requestPath.replace('{didPoolId}',didPoolId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a DID Pool by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} didPoolId - DID pool ID
  * @param {} body - DID pool
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startPhoneNumber": "",
   "endPhoneNumber": "",
   "comments": "",
   "provider": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startPhoneNumber": "",
   "endPhoneNumber": "",
   "comments": "",
   "provider": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesDidpoolsDidpoolId=function putProvidersEdgesDidpoolsDidpoolId(didPoolId,body){var requestPath='/api/v2/telephony/providers/edges/didpools/{didPoolId}';var requestQuery={};var requestBody;if(didPoolId===undefined||didPoolId===null){throw new Error('Missing required  parameter: didPoolId');}requestPath=requestPath.replace('{didPoolId}',didPoolId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a DID Pool by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} didPoolId - DID pool ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesDidpoolsDidpoolId=function deleteProvidersEdgesDidpoolsDidpoolId(didPoolId){var requestPath='/api/v2/telephony/providers/edges/didpools/{didPoolId}';var requestQuery={};var requestBody;if(didPoolId===undefined||didPoolId===null){throw new Error('Missing required  parameter: didPoolId');}requestPath=requestPath.replace('{didPoolId}',didPoolId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a listing of DIDs
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  * @param {string} phoneNumber - Filter by phoneNumber
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesDids=function getProvidersEdgesDids(pageSize,pageNumber,sortBy,sortOrder,phoneNumber){var requestPath='/api/v2/telephony/providers/edges/dids';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["phoneNumber"]=phoneNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a DID by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} didId - DID ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneNumber": "",
   "didPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesDidsDidId=function getProvidersEdgesDidsDidId(didId){var requestPath='/api/v2/telephony/providers/edges/dids/{didId}';var requestQuery={};var requestBody;if(didId===undefined||didId===null){throw new Error('Missing required  parameter: didId');}requestPath=requestPath.replace('{didId}',didId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a DID by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} didId - DID ID
  * @param {} body - DID
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneNumber": "",
   "didPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneNumber": "",
   "didPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesDidsDidId=function putProvidersEdgesDidsDidId(didId,body){var requestPath='/api/v2/telephony/providers/edges/dids/{didId}';var requestQuery={};var requestBody;if(didId===undefined||didId===null){throw new Error('Missing required  parameter: didId');}requestPath=requestPath.replace('{didId}',didId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of edge groups.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgegroups=function getProvidersEdgesEdgegroups(pageSize,pageNumber,name,sortBy){var requestPath='/api/v2/telephony/providers/edges/edgegroups';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["name"]=name;requestQuery["sortBy"]=sortBy;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create an edge group.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - EdgeGroup
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "managed": true,
   "edgeTrunkBaseAssignment": {
      "family": 0,
      "trunkBase": {}
   },
   "phoneTrunkBases": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "managed": true,
   "edgeTrunkBaseAssignment": {
      "family": 0,
      "trunkBase": {}
   },
   "phoneTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgegroups=function postProvidersEdgesEdgegroups(body){var requestPath='/api/v2/telephony/providers/edges/edgegroups';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get edge group.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeGroupId - Edge group ID
  * @param {array} expand - Fields to expand in the response Valid Values: phoneTrunkBases, edgeTrunkBaseAssignment
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "managed": true,
   "edgeTrunkBaseAssignment": {
      "family": 0,
      "trunkBase": {}
   },
   "phoneTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgegroupsEdgegroupId=function getProvidersEdgesEdgegroupsEdgegroupId(edgeGroupId,expand){var requestPath='/api/v2/telephony/providers/edges/edgegroups/{edgeGroupId}';var requestQuery={};var requestBody;if(edgeGroupId===undefined||edgeGroupId===null){throw new Error('Missing required  parameter: edgeGroupId');}requestPath=requestPath.replace('{edgeGroupId}',edgeGroupId);requestQuery["expand"]=expand;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update an edge group.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeGroupId - Edge group ID
  * @param {} body - EdgeGroup
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "managed": true,
   "edgeTrunkBaseAssignment": {
      "family": 0,
      "trunkBase": {}
   },
   "phoneTrunkBases": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "managed": true,
   "edgeTrunkBaseAssignment": {
      "family": 0,
      "trunkBase": {}
   },
   "phoneTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesEdgegroupsEdgegroupId=function putProvidersEdgesEdgegroupsEdgegroupId(edgeGroupId,body){var requestPath='/api/v2/telephony/providers/edges/edgegroups/{edgeGroupId}';var requestQuery={};var requestBody;if(edgeGroupId===undefined||edgeGroupId===null){throw new Error('Missing required  parameter: edgeGroupId');}requestPath=requestPath.replace('{edgeGroupId}',edgeGroupId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete an edge group.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeGroupId - Edge group ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesEdgegroupsEdgegroupId=function deleteProvidersEdgesEdgegroupsEdgegroupId(edgeGroupId){var requestPath='/api/v2/telephony/providers/edges/edgegroups/{edgeGroupId}';var requestQuery={};var requestBody;if(edgeGroupId===undefined||edgeGroupId===null){throw new Error('Missing required  parameter: edgeGroupId');}requestPath=requestPath.replace('{edgeGroupId}',edgeGroupId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get the edge version report.
  * @description The report will not have consistent data about the edge version(s) until all edges have been reset.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "oldestVersion": {
      "softwareVersion": ""
   },
   "newestVersion": {
      "softwareVersion": ""
   }
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeversionreport=function getProvidersEdgesEdgeversionreport(){var requestPath='/api/v2/telephony/providers/edges/edgeversionreport';var requestQuery={};var requestBody;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get endpoints
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEndpoints=function getProvidersEdgesEndpoints(pageSize,pageNumber,name,sortBy){var requestPath='/api/v2/telephony/providers/edges/endpoints';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["name"]=name;requestQuery["sortBy"]=sortBy;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create endpoint
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - EndpointTemplate
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "count": 0,
   "properties": {},
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dids": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "count": 0,
   "properties": {},
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dids": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEndpoints=function postProvidersEdgesEndpoints(body){var requestPath='/api/v2/telephony/providers/edges/endpoints';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get endpoint
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} endpointId - Endpoint ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "count": 0,
   "properties": {},
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dids": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEndpointsEndpointId=function getProvidersEdgesEndpointsEndpointId(endpointId){var requestPath='/api/v2/telephony/providers/edges/endpoints/{endpointId}';var requestQuery={};var requestBody;if(endpointId===undefined||endpointId===null){throw new Error('Missing required  parameter: endpointId');}requestPath=requestPath.replace('{endpointId}',endpointId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update endpoint
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} endpointId - Endpoint ID
  * @param {} body - EndpointTemplate
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "count": 0,
   "properties": {},
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dids": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "count": 0,
   "properties": {},
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "dids": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesEndpointsEndpointId=function putProvidersEdgesEndpointsEndpointId(endpointId,body){var requestPath='/api/v2/telephony/providers/edges/endpoints/{endpointId}';var requestQuery={};var requestBody;if(endpointId===undefined||endpointId===null){throw new Error('Missing required  parameter: endpointId');}requestPath=requestPath.replace('{endpointId}',endpointId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete endpoint
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} endpointId - Endpoint ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesEndpointsEndpointId=function deleteProvidersEdgesEndpointsEndpointId(endpointId){var requestPath='/api/v2/telephony/providers/edges/endpoints/{endpointId}';var requestQuery={};var requestBody;if(endpointId===undefined||endpointId===null){throw new Error('Missing required  parameter: endpointId');}requestPath=requestPath.replace('{endpointId}',endpointId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a listing of extension pools
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} number - Number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesExtensionpools=function getProvidersEdgesExtensionpools(pageSize,pageNumber,sortBy,number){var requestPath='/api/v2/telephony/providers/edges/extensionpools';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["sortBy"]=sortBy;requestQuery["number"]=number;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a new extension pool
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - ExtensionPool
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startNumber": "",
   "endNumber": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "number": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "extensionPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesExtensionpools=function postProvidersEdgesExtensionpools(body){var requestPath='/api/v2/telephony/providers/edges/extensionpools';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get an extension pool by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} extensionPoolId - Extension pool ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startNumber": "",
   "endNumber": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesExtensionpoolsExtensionpoolId=function getProvidersEdgesExtensionpoolsExtensionpoolId(extensionPoolId){var requestPath='/api/v2/telephony/providers/edges/extensionpools/{extensionPoolId}';var requestQuery={};var requestBody;if(extensionPoolId===undefined||extensionPoolId===null){throw new Error('Missing required  parameter: extensionPoolId');}requestPath=requestPath.replace('{extensionPoolId}',extensionPoolId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update an extension pool by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} extensionPoolId - Extension pool ID
  * @param {} body - ExtensionPool
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startNumber": "",
   "endNumber": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "startNumber": "",
   "endNumber": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesExtensionpoolsExtensionpoolId=function putProvidersEdgesExtensionpoolsExtensionpoolId(extensionPoolId,body){var requestPath='/api/v2/telephony/providers/edges/extensionpools/{extensionPoolId}';var requestQuery={};var requestBody;if(extensionPoolId===undefined||extensionPoolId===null){throw new Error('Missing required  parameter: extensionPoolId');}requestPath=requestPath.replace('{extensionPoolId}',extensionPoolId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete an extension pool by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} extensionPoolId - Extension pool ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesExtensionpoolsExtensionpoolId=function deleteProvidersEdgesExtensionpoolsExtensionpoolId(extensionPoolId){var requestPath='/api/v2/telephony/providers/edges/extensionpools/{extensionPoolId}';var requestQuery={};var requestBody;if(extensionPoolId===undefined||extensionPoolId===null){throw new Error('Missing required  parameter: extensionPoolId');}requestPath=requestPath.replace('{extensionPoolId}',extensionPoolId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a listing of extensions
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  * @param {string} number - Filter by number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesExtensions=function getProvidersEdgesExtensions(pageSize,pageNumber,sortBy,sortOrder,number){var requestPath='/api/v2/telephony/providers/edges/extensions';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["number"]=number;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get an extension by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} extensionId - Extension ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "number": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "extensionPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesExtensionsExtensionId=function getProvidersEdgesExtensionsExtensionId(extensionId){var requestPath='/api/v2/telephony/providers/edges/extensions/{extensionId}';var requestQuery={};var requestBody;if(extensionId===undefined||extensionId===null){throw new Error('Missing required  parameter: extensionId');}requestPath=requestPath.replace('{extensionId}',extensionId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update an extension by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} extensionId - Extension ID
  * @param {} body - Extension
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "number": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "extensionPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "number": "",
   "owner": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "extensionPool": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "ownerType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesExtensionsExtensionId=function putProvidersEdgesExtensionsExtensionId(extensionId,body){var requestPath='/api/v2/telephony/providers/edges/extensions/{extensionId}';var requestQuery={};var requestBody;if(extensionId===undefined||extensionId===null){throw new Error('Missing required  parameter: extensionId');}requestPath=requestPath.replace('{extensionId}',extensionId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Get a listing of line base settings objects
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} sortBy - Value by which to sort
  * @param {string} sortOrder - Sort order
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesLinebasesettings=function getProvidersEdgesLinebasesettings(pageNumber,pageSize,sortBy,sortOrder){var requestPath='/api/v2/telephony/providers/edges/linebasesettings';var requestQuery={};var requestBody;requestQuery["pageNumber"]=pageNumber;requestQuery["pageSize"]=pageSize;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a line base settings object by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} lineBaseId - Line base ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "lineMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesLinebasesettingsLinebaseId=function getProvidersEdgesLinebasesettingsLinebaseId(lineBaseId){var requestPath='/api/v2/telephony/providers/edges/linebasesettings/{lineBaseId}';var requestQuery={};var requestBody;if(lineBaseId===undefined||lineBaseId===null){throw new Error('Missing required  parameter: lineBaseId');}requestPath=requestPath.replace('{lineBaseId}',lineBaseId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of Lines
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @param {string} sortBy - Value by which to sort
  * @param {array} expand - Fields to expand in the response, comma-separated Valid Values: properties, site, edgeGroup, primaryEdge, secondaryEdge, edges, assignedUser
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesLines=function getProvidersEdgesLines(pageSize,pageNumber,name,sortBy,expand){var requestPath='/api/v2/telephony/providers/edges/lines';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["name"]=name;requestQuery["sortBy"]=sortBy;requestQuery["expand"]=expand;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Line instance template based on a Line Base Settings object. This object can then be modified and saved as a new Line instance
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} lineBaseSettingsId - The id of a Line Base Settings object upon which to base this Line
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "properties": {},
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "template": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "primaryEdge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "secondaryEdge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "loggedInUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "defaultForUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesLinesTemplate=function getProvidersEdgesLinesTemplate(lineBaseSettingsId){var requestPath='/api/v2/telephony/providers/edges/lines/template';var requestQuery={};var requestBody;if(lineBaseSettingsId===undefined||lineBaseSettingsId===null){throw new Error('Missing required  parameter: lineBaseSettingsId');}requestQuery["lineBaseSettingsId"]=lineBaseSettingsId;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Line by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} lineId - Line ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "properties": {},
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "template": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "primaryEdge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "secondaryEdge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "loggedInUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "defaultForUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesLinesLineId=function getProvidersEdgesLinesLineId(lineId){var requestPath='/api/v2/telephony/providers/edges/lines/{lineId}';var requestQuery={};var requestBody;if(lineId===undefined||lineId===null){throw new Error('Missing required  parameter: lineId');}requestPath=requestPath.replace('{lineId}',lineId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a file that can be used to configure a hardware Edge's settings.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - EdgeOfflineConfiguration
  * @example
  * Body Example:
  * {
   "pairingId": "",
   "network": {
      "wan": {}
   }
}
  * @example
  * 200 Response Example:
  * {
   "downloadUrl": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesOfflineconfiguration=function postProvidersEdgesOfflineconfiguration(body){var requestPath='/api/v2/telephony/providers/edges/offlineconfiguration';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get outbound routes
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} name - Name
  * @param {string} siteid - Filter by site.id
  * @param {string} sortBy - Sort by
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesOutboundroutes=function getProvidersEdgesOutboundroutes(pageSize,pageNumber,name,siteid,sortBy){var requestPath='/api/v2/telephony/providers/edges/outboundroutes';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["name"]=name;requestQuery["site.id"]=siteid;requestQuery["sortBy"]=sortBy;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create outbound rule
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - OutboundRoute
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "primarySites": [],
      "secondarySites": [],
      "primaryEdges": [],
      "secondaryEdges": [],
      "addresses": [],
      "edges": [],
      "edgeAutoUpdateConfig": {},
      "location": {},
      "managed": true
   },
   "classificationTypes": [],
   "enabled": true,
   "distribution": "",
   "managed": true,
   "externalTrunkBases": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "primarySites": [],
      "secondarySites": [],
      "primaryEdges": [],
      "secondaryEdges": [],
      "addresses": [],
      "edges": [],
      "edgeAutoUpdateConfig": {},
      "location": {},
      "managed": true,
      "selfUri": ""
   },
   "classificationTypes": [],
   "enabled": true,
   "distribution": "",
   "managed": true,
   "externalTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesOutboundroutes=function postProvidersEdgesOutboundroutes(body){var requestPath='/api/v2/telephony/providers/edges/outboundroutes';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get outbound route
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} outboundRouteId - Outbound route ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "primarySites": [],
      "secondarySites": [],
      "primaryEdges": [],
      "secondaryEdges": [],
      "addresses": [],
      "edges": [],
      "edgeAutoUpdateConfig": {},
      "location": {},
      "managed": true,
      "selfUri": ""
   },
   "classificationTypes": [],
   "enabled": true,
   "distribution": "",
   "managed": true,
   "externalTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesOutboundroutesOutboundrouteId=function getProvidersEdgesOutboundroutesOutboundrouteId(outboundRouteId){var requestPath='/api/v2/telephony/providers/edges/outboundroutes/{outboundRouteId}';var requestQuery={};var requestBody;if(outboundRouteId===undefined||outboundRouteId===null){throw new Error('Missing required  parameter: outboundRouteId');}requestPath=requestPath.replace('{outboundRouteId}',outboundRouteId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update outbound route
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} outboundRouteId - Outbound route ID
  * @param {} body - OutboundRoute
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "primarySites": [],
      "secondarySites": [],
      "primaryEdges": [],
      "secondaryEdges": [],
      "addresses": [],
      "edges": [],
      "edgeAutoUpdateConfig": {},
      "location": {},
      "managed": true
   },
   "classificationTypes": [],
   "enabled": true,
   "distribution": "",
   "managed": true,
   "externalTrunkBases": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "primarySites": [],
      "secondarySites": [],
      "primaryEdges": [],
      "secondaryEdges": [],
      "addresses": [],
      "edges": [],
      "edgeAutoUpdateConfig": {},
      "location": {},
      "managed": true,
      "selfUri": ""
   },
   "classificationTypes": [],
   "enabled": true,
   "distribution": "",
   "managed": true,
   "externalTrunkBases": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesOutboundroutesOutboundrouteId=function putProvidersEdgesOutboundroutesOutboundrouteId(outboundRouteId,body){var requestPath='/api/v2/telephony/providers/edges/outboundroutes/{outboundRouteId}';var requestQuery={};var requestBody;if(outboundRouteId===undefined||outboundRouteId===null){throw new Error('Missing required  parameter: outboundRouteId');}requestPath=requestPath.replace('{outboundRouteId}',outboundRouteId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete Outbound Route
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} outboundRouteId - Outbound route ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesOutboundroutesOutboundrouteId=function deleteProvidersEdgesOutboundroutesOutboundrouteId(outboundRouteId){var requestPath='/api/v2/telephony/providers/edges/outboundroutes/{outboundRouteId}';var requestQuery={};var requestBody;if(outboundRouteId===undefined||outboundRouteId===null){throw new Error('Missing required  parameter: outboundRouteId');}requestPath=requestPath.replace('{outboundRouteId}',outboundRouteId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of Phone Base Settings objects
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} sortBy - Value by which to sort
  * @param {string} sortOrder - Sort order
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonebasesettings=function getProvidersEdgesPhonebasesettings(pageNumber,pageSize,sortBy,sortOrder){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings';var requestQuery={};var requestBody;requestQuery["pageNumber"]=pageNumber;requestQuery["pageSize"]=pageSize;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a new Phone Base Settings object
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Phone base settings
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesPhonebasesettings=function postProvidersEdgesPhonebasesettings(body){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of available makes and models to create a new Phone Base Settings
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonebasesettingsAvailablemetabases=function getProvidersEdgesPhonebasesettingsAvailablemetabases(pageSize,pageNumber){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings/availablemetabases';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Phone Base Settings instance template from a given make and model. This object can then be modified and saved as a new Phone Base Settings instance
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneMetabaseId - The id of a metabase object upon which to base this Phone Base Settings
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonebasesettingsTemplate=function getProvidersEdgesPhonebasesettingsTemplate(phoneMetabaseId){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings/template';var requestQuery={};var requestBody;if(phoneMetabaseId===undefined||phoneMetabaseId===null){throw new Error('Missing required  parameter: phoneMetabaseId');}requestQuery["phoneMetabaseId"]=phoneMetabaseId;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Phone Base Settings object by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneBaseId - Phone base ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonebasesettingsPhonebaseId=function getProvidersEdgesPhonebasesettingsPhonebaseId(phoneBaseId){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings/{phoneBaseId}';var requestQuery={};var requestBody;if(phoneBaseId===undefined||phoneBaseId===null){throw new Error('Missing required  parameter: phoneBaseId');}requestPath=requestPath.replace('{phoneBaseId}',phoneBaseId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a Phone Base Settings by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneBaseId - Phone base ID
  * @param {} body - Phone base settings
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesPhonebasesettingsPhonebaseId=function putProvidersEdgesPhonebasesettingsPhonebaseId(phoneBaseId,body){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings/{phoneBaseId}';var requestQuery={};var requestBody;if(phoneBaseId===undefined||phoneBaseId===null){throw new Error('Missing required  parameter: phoneBaseId');}requestPath=requestPath.replace('{phoneBaseId}',phoneBaseId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a Phone Base Settings by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneBaseId - Phone base ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesPhonebasesettingsPhonebaseId=function deleteProvidersEdgesPhonebasesettingsPhonebaseId(phoneBaseId){var requestPath='/api/v2/telephony/providers/edges/phonebasesettings/{phoneBaseId}';var requestQuery={};var requestBody;if(phoneBaseId===undefined||phoneBaseId===null){throw new Error('Missing required  parameter: phoneBaseId');}requestPath=requestPath.replace('{phoneBaseId}',phoneBaseId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of Phone Instances
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} sortBy - Value by which to sort
  * @param {string} sortOrder - Sort order
  * @param {string} siteid - Filter by site.id
  * @param {string} webRtcUserid - Filter by webRtcUser.id
  * @param {string} phoneBaseSettingsid - Filter by phoneBaseSettings.id
  * @param {string} linesloggedInUserid - Filter by lines.loggedInUser.id
  * @param {string} linesdefaultForUserid - Filter by lines.defaultForUser.id
  * @param {string} phone_hardwareId - Filter by phone_hardwareId
  * @param {string} linesid - Filter by lines.id
  * @param {string} linesname - Filter by lines.name
  * @param {array} expand - Fields to expand in the response, comma-separated Valid Values: properties, site, status, status.primaryEdgesStatus, status.secondaryEdgesStatus, phoneBaseSettings, lines
  * @param {array} fields - Fields and properties to get, comma-separated Valid Values: webRtcUser, properties.*, lines.loggedInUser, lines.defaultForUser
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhones=function getProvidersEdgesPhones(pageNumber,pageSize,sortBy,sortOrder,siteid,webRtcUserid,phoneBaseSettingsid,linesloggedInUserid,linesdefaultForUserid,phone_hardwareId,linesid,linesname,expand,fields){var requestPath='/api/v2/telephony/providers/edges/phones';var requestQuery={};var requestBody;requestQuery["pageNumber"]=pageNumber;requestQuery["pageSize"]=pageSize;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["site.id"]=siteid;requestQuery["webRtcUser.id"]=webRtcUserid;requestQuery["phoneBaseSettings.id"]=phoneBaseSettingsid;requestQuery["lines.loggedInUser.id"]=linesloggedInUserid;requestQuery["lines.defaultForUser.id"]=linesdefaultForUserid;requestQuery["phone_hardwareId"]=phone_hardwareId;requestQuery["lines.id"]=linesid;requestQuery["lines.name"]=linesname;requestQuery["expand"]=expand;requestQuery["fields"]=fields;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a new Phone
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Phone
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {}
   },
   "secondaryStatus": {
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {}
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "secondaryStatus": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesPhones=function postProvidersEdgesPhones(body){var requestPath='/api/v2/telephony/providers/edges/phones';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Reboot Multiple Phones
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Phones
  * @example
  * Body Example:
  * {
   "phoneIds": [],
   "siteId": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesPhonesReboot=function postProvidersEdgesPhonesReboot(body){var requestPath='/api/v2/telephony/providers/edges/phones/reboot';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Phone instance template based on a Phone Base Settings object. This object can then be modified and saved as a new Phone instance
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneBaseSettingsId - The id of a Phone Base Settings object upon which to base this Phone
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "secondaryStatus": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonesTemplate=function getProvidersEdgesPhonesTemplate(phoneBaseSettingsId){var requestPath='/api/v2/telephony/providers/edges/phones/template';var requestQuery={};var requestBody;if(phoneBaseSettingsId===undefined||phoneBaseSettingsId===null){throw new Error('Missing required  parameter: phoneBaseSettingsId');}requestQuery["phoneBaseSettingsId"]=phoneBaseSettingsId;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Phone by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneId - Phone ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "secondaryStatus": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesPhonesPhoneId=function getProvidersEdgesPhonesPhoneId(phoneId){var requestPath='/api/v2/telephony/providers/edges/phones/{phoneId}';var requestQuery={};var requestBody;if(phoneId===undefined||phoneId===null){throw new Error('Missing required  parameter: phoneId');}requestPath=requestPath.replace('{phoneId}',phoneId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a Phone by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneId - Phone ID
  * @param {} body - Phone
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {}
   },
   "secondaryStatus": {
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {}
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lineBaseSettings": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "phoneMetaBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "lines": [],
   "status": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "secondaryStatus": {
      "id": "",
      "name": "",
      "operationalStatus": "",
      "edgesStatus": "",
      "provision": {},
      "lineStatuses": [],
      "phoneAssignmentToEdgeType": "",
      "edge": {},
      "selfUri": ""
   },
   "properties": {},
   "capabilities": {
      "provisions": true,
      "registers": true,
      "dualRegisters": true,
      "hardwareIdType": "",
      "allowReboot": true,
      "noRebalance": true
   },
   "webRtcUser": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesPhonesPhoneId=function putProvidersEdgesPhonesPhoneId(phoneId,body){var requestPath='/api/v2/telephony/providers/edges/phones/{phoneId}';var requestQuery={};var requestBody;if(phoneId===undefined||phoneId===null){throw new Error('Missing required  parameter: phoneId');}requestPath=requestPath.replace('{phoneId}',phoneId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a Phone by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneId - Phone ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesPhonesPhoneId=function deleteProvidersEdgesPhonesPhoneId(phoneId){var requestPath='/api/v2/telephony/providers/edges/phones/{phoneId}';var requestQuery={};var requestBody;if(phoneId===undefined||phoneId===null){throw new Error('Missing required  parameter: phoneId');}requestPath=requestPath.replace('{phoneId}',phoneId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Reboot a Phone
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} phoneId - Phone Id
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesPhonesPhoneIdReboot=function postProvidersEdgesPhonesPhoneIdReboot(phoneId){var requestPath='/api/v2/telephony/providers/edges/phones/{phoneId}/reboot';var requestQuery={};var requestBody;if(phoneId===undefined||phoneId===null){throw new Error('Missing required  parameter: phoneId');}requestPath=requestPath.replace('{phoneId}',phoneId);return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of Sites.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortBy - Sort by
  * @param {string} sortOrder - Sort order
  * @param {string} name - Name
  * @param {string} locationid - Location Id
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesSites=function getProvidersEdgesSites(pageSize,pageNumber,sortBy,sortOrder,name,locationid){var requestPath='/api/v2/telephony/providers/edges/sites';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["name"]=name;requestQuery["location.id"]=locationid;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a Site.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Site
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "primarySites": [],
   "secondarySites": [],
   "primaryEdges": [],
   "secondaryEdges": [],
   "addresses": [],
   "edges": [],
   "edgeAutoUpdateConfig": {
      "timeZone": "",
      "rrule": "",
      "start": "",
      "end": ""
   },
   "location": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "managed": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "primarySites": [],
   "secondarySites": [],
   "primaryEdges": [],
   "secondaryEdges": [],
   "addresses": [],
   "edges": [],
   "edgeAutoUpdateConfig": {
      "timeZone": "",
      "rrule": "",
      "start": "",
      "end": ""
   },
   "location": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesSites=function postProvidersEdgesSites(body){var requestPath='/api/v2/telephony/providers/edges/sites';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Site by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "primarySites": [],
   "secondarySites": [],
   "primaryEdges": [],
   "secondaryEdges": [],
   "addresses": [],
   "edges": [],
   "edgeAutoUpdateConfig": {
      "timeZone": "",
      "rrule": "",
      "start": "",
      "end": ""
   },
   "location": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesSitesSiteId=function getProvidersEdgesSitesSiteId(siteId){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a Site by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @param {} body - Site
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "primarySites": [],
   "secondarySites": [],
   "primaryEdges": [],
   "secondaryEdges": [],
   "addresses": [],
   "edges": [],
   "edgeAutoUpdateConfig": {
      "timeZone": "",
      "rrule": "",
      "start": "",
      "end": ""
   },
   "location": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "managed": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "primarySites": [],
   "secondarySites": [],
   "primaryEdges": [],
   "secondaryEdges": [],
   "addresses": [],
   "edges": [],
   "edgeAutoUpdateConfig": {
      "timeZone": "",
      "rrule": "",
      "start": "",
      "end": ""
   },
   "location": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesSitesSiteId=function putProvidersEdgesSitesSiteId(siteId,body){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a Site by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesSitesSiteId=function deleteProvidersEdgesSitesSiteId(siteId){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of Number Plans for this Site.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "description": "",
  "version": 0,
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "state": "",
  "modifiedByApp": "",
  "createdByApp": "",
  "match": "",
  "normalizedFormat": "",
  "priority": 0,
  "numbers": [],
  "digitLength": {
   "start": "",
   "end": ""
  },
  "classification": "",
  "matchType": "",
  "selfUri": ""
 }
]
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesSitesSiteIdNumberplans=function getProvidersEdgesSitesSiteIdNumberplans(siteId){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}/numberplans';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update the list of Number Plans.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @param {} body - List of number plans
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "description": "",
  "version": 0,
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "state": "",
  "modifiedByApp": "",
  "createdByApp": "",
  "match": "",
  "normalizedFormat": "",
  "priority": 0,
  "numbers": [],
  "digitLength": {
   "start": "",
   "end": ""
  },
  "classification": "",
  "matchType": ""
 }
]
  * @example
  * 200 Response Example:
  * [
 {
  "id": "",
  "name": "",
  "description": "",
  "version": 0,
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "state": "",
  "modifiedByApp": "",
  "createdByApp": "",
  "match": "",
  "normalizedFormat": "",
  "priority": 0,
  "numbers": [],
  "digitLength": {
   "start": "",
   "end": ""
  },
  "classification": "",
  "matchType": "",
  "selfUri": ""
 }
]
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesSitesSiteIdNumberplans=function putProvidersEdgesSitesSiteIdNumberplans(siteId,body){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}/numberplans';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of Classifications for this Site
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @param {string} classification - Classification
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesSitesSiteIdNumberplansClassifications=function getProvidersEdgesSitesSiteIdNumberplansClassifications(siteId,classification){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}/numberplans/classifications';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);requestQuery["classification"]=classification;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Number Plan by ID.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  * @param {string} numberPlanId - Number Plan ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "match": "",
   "normalizedFormat": "",
   "priority": 0,
   "numbers": [],
   "digitLength": {
      "start": "",
      "end": ""
   },
   "classification": "",
   "matchType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesSitesSiteIdNumberplansNumberplanId=function getProvidersEdgesSitesSiteIdNumberplansNumberplanId(siteId,numberPlanId){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}/numberplans/{numberPlanId}';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);if(numberPlanId===undefined||numberPlanId===null){throw new Error('Missing required  parameter: numberPlanId');}requestPath=requestPath.replace('{numberPlanId}',numberPlanId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Triggers the rebalance operation.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} siteId - Site ID
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesSitesSiteIdRebalance=function postProvidersEdgesSitesSiteIdRebalance(siteId){var requestPath='/api/v2/telephony/providers/edges/sites/{siteId}/rebalance';var requestQuery={};var requestBody;if(siteId===undefined||siteId===null){throw new Error('Missing required  parameter: siteId');}requestPath=requestPath.replace('{siteId}',siteId);return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of Edge-compatible time zones
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTimezones=function getProvidersEdgesTimezones(pageSize,pageNumber){var requestPath='/api/v2/telephony/providers/edges/timezones';var requestQuery={};var requestBody;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get Trunk Base Settings listing
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} sortBy - Value by which to sort
  * @param {string} sortOrder - Sort order
  * @param {boolean} recordingEnabled - Filter trunks by recording enabled
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunkbasesettings=function getProvidersEdgesTrunkbasesettings(pageNumber,pageSize,sortBy,sortOrder,recordingEnabled){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings';var requestQuery={};var requestBody;requestQuery["pageNumber"]=pageNumber;requestQuery["pageSize"]=pageSize;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["recordingEnabled"]=recordingEnabled;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create a Trunk Base Settings object
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {} body - Trunk base settings
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesTrunkbasesettings=function postProvidersEdgesTrunkbasesettings(body){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings';var requestQuery={};var requestBody;if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get a list of available makes and models to create a new Trunk Base Settings
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} type - 
  EXTERNAL,
  PHONE,
  EDGE,
  * @param {integer} pageSize - 
  * @param {integer} pageNumber - 
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunkbasesettingsAvailablemetabases=function getProvidersEdgesTrunkbasesettingsAvailablemetabases(type,pageSize,pageNumber){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings/availablemetabases';var requestQuery={};var requestBody;requestQuery["type"]=type;requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Trunk Base Settings instance template from a given make and model. This object can then be modified and saved as a new Trunk Base Settings instance
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkMetabaseId - The id of a metabase object upon which to base this Trunk Base Settings
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunkbasesettingsTemplate=function getProvidersEdgesTrunkbasesettingsTemplate(trunkMetabaseId){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings/template';var requestQuery={};var requestBody;if(trunkMetabaseId===undefined||trunkMetabaseId===null){throw new Error('Missing required  parameter: trunkMetabaseId');}requestQuery["trunkMetabaseId"]=trunkMetabaseId;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Trunk Base Settings object by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkBaseSettingsId - Trunk Base ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunkbasesettingsTrunkbasesettingsId=function getProvidersEdgesTrunkbasesettingsTrunkbasesettingsId(trunkBaseSettingsId){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings/{trunkBaseSettingsId}';var requestQuery={};var requestBody;if(trunkBaseSettingsId===undefined||trunkBaseSettingsId===null){throw new Error('Missing required  parameter: trunkBaseSettingsId');}requestPath=requestPath.replace('{trunkBaseSettingsId}',trunkBaseSettingsId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a Trunk Base Settings object by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkBaseSettingsId - Trunk Base ID
  * @param {} body - Trunk base settings
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "trunkType": "",
   "managed": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesTrunkbasesettingsTrunkbasesettingsId=function putProvidersEdgesTrunkbasesettingsTrunkbasesettingsId(trunkBaseSettingsId,body){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings/{trunkBaseSettingsId}';var requestQuery={};var requestBody;if(trunkBaseSettingsId===undefined||trunkBaseSettingsId===null){throw new Error('Missing required  parameter: trunkBaseSettingsId');}requestPath=requestPath.replace('{trunkBaseSettingsId}',trunkBaseSettingsId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a Trunk Base Settings object by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkBaseSettingsId - Trunk Base ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesTrunkbasesettingsTrunkbasesettingsId=function deleteProvidersEdgesTrunkbasesettingsTrunkbasesettingsId(trunkBaseSettingsId){var requestPath='/api/v2/telephony/providers/edges/trunkbasesettings/{trunkBaseSettingsId}';var requestQuery={};var requestBody;if(trunkBaseSettingsId===undefined||trunkBaseSettingsId===null){throw new Error('Missing required  parameter: trunkBaseSettingsId');}requestPath=requestPath.replace('{trunkBaseSettingsId}',trunkBaseSettingsId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of available trunks.
  * @description Trunks are created by assigning trunk base settings to an Edge or Edge Group.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {integer} pageNumber - Page number
  * @param {integer} pageSize - Page size
  * @param {string} sortBy - Value by which to sort
  * @param {string} sortOrder - Sort order
  * @param {string} edgeid - Filter by Edge Ids
  * @param {string} trunkBaseid - Filter by Trunk Base Ids
  * @param {string} trunkType - Filter by a Trunk type
  EXTERNAL,
  PHONE,
  EDGE,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunks=function getProvidersEdgesTrunks(pageNumber,pageSize,sortBy,sortOrder,edgeid,trunkBaseid,trunkType){var requestPath='/api/v2/telephony/providers/edges/trunks';var requestQuery={};var requestBody;requestQuery["pageNumber"]=pageNumber;requestQuery["pageSize"]=pageSize;requestQuery["sortBy"]=sortBy;requestQuery["sortOrder"]=sortOrder;requestQuery["edge.id"]=edgeid;requestQuery["trunkBase.id"]=trunkBaseid;requestQuery["trunkType"]=trunkType;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get a Trunk by ID
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkId - Trunk ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "trunkType": "",
   "edge": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "trunkBase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "trunkMetabase": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "enabled": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunksTrunkId=function getProvidersEdgesTrunksTrunkId(trunkId){var requestPath='/api/v2/telephony/providers/edges/trunks/{trunkId}';var requestQuery={};var requestBody;if(trunkId===undefined||trunkId===null){throw new Error('Missing required  parameter: trunkId');}requestPath=requestPath.replace('{trunkId}',trunkId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get Counts of trunks that have recording disabled or enabled
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} trunkType - The type of this trunk base.
  EXTERNAL,
  PHONE,
  EDGE,
  * @example
  * 200 Response Example:
  * {
   "enabledCount": 0,
   "disabledCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesTrunkswithrecording=function getProvidersEdgesTrunkswithrecording(trunkType){var requestPath='/api/v2/telephony/providers/edges/trunkswithrecording';var requestQuery={};var requestBody;requestQuery["trunkType"]=trunkType;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "interfaces": [],
   "make": "",
   "model": "",
   "apiVersion": "",
   "softwareVersion": "",
   "softwareVersionTimestamp": "",
   "softwareVersionPlatform": "",
   "softwareVersionConfiguration": "",
   "fullSoftwareVersion": "",
   "pairingId": "",
   "fingerprint": "",
   "fingerprintHint": "",
   "currentVersion": "",
   "stagedVersion": "",
   "patch": "",
   "statusCode": "",
   "edgeGroup": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": [],
      "selfUri": ""
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "softwareStatus": {
      "version": {},
      "maxDownloadRate": 0,
      "downloadStartTime": "",
      "executeStartTime": "",
      "executeStopTime": "",
      "executeOnIdle": true,
      "status": "",
      "edgeUri": "",
      "current": true
   },
   "onlineStatus": "",
   "serialNumber": "",
   "physicalEdge": true,
   "managed": true,
   "edgeDeploymentType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeId=function getProvidersEdgesEdgeId(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {} body - Edge
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "interfaces": [],
   "make": "",
   "model": "",
   "apiVersion": "",
   "softwareVersion": "",
   "softwareVersionTimestamp": "",
   "softwareVersionPlatform": "",
   "softwareVersionConfiguration": "",
   "fullSoftwareVersion": "",
   "pairingId": "",
   "fingerprint": "",
   "fingerprintHint": "",
   "currentVersion": "",
   "stagedVersion": "",
   "patch": "",
   "statusCode": "",
   "edgeGroup": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": []
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "softwareStatus": {
      "version": {},
      "maxDownloadRate": 0,
      "downloadStartTime": "",
      "executeStartTime": "",
      "executeStopTime": "",
      "executeOnIdle": true,
      "status": "",
      "edgeUri": "",
      "current": true
   },
   "onlineStatus": "",
   "serialNumber": "",
   "physicalEdge": true,
   "managed": true,
   "edgeDeploymentType": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "interfaces": [],
   "make": "",
   "model": "",
   "apiVersion": "",
   "softwareVersion": "",
   "softwareVersionTimestamp": "",
   "softwareVersionPlatform": "",
   "softwareVersionConfiguration": "",
   "fullSoftwareVersion": "",
   "pairingId": "",
   "fingerprint": "",
   "fingerprintHint": "",
   "currentVersion": "",
   "stagedVersion": "",
   "patch": "",
   "statusCode": "",
   "edgeGroup": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": [],
      "selfUri": ""
   },
   "site": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "softwareStatus": {
      "version": {},
      "maxDownloadRate": 0,
      "downloadStartTime": "",
      "executeStartTime": "",
      "executeStopTime": "",
      "executeOnIdle": true,
      "status": "",
      "edgeUri": "",
      "current": true
   },
   "onlineStatus": "",
   "serialNumber": "",
   "physicalEdge": true,
   "managed": true,
   "edgeDeploymentType": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesEdgeId=function putProvidersEdgesEdgeId(edgeId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete a edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesEdgeId=function deleteProvidersEdgesEdgeId(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Get the list of lines.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdLines=function getProvidersEdgesEdgeIdLines(edgeId,pageSize,pageNumber){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/lines';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);requestQuery["pageSize"]=pageSize;requestQuery["pageNumber"]=pageNumber;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get line
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} lineId - Line ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "edge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": [],
      "selfUri": ""
   },
   "lineType": "",
   "endpoint": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "count": 0,
      "properties": {},
      "schema": {},
      "enabled": true,
      "site": {},
      "dids": [],
      "selfUri": ""
   },
   "ipAddress": "",
   "logicalInterfaceId": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdLinesLineId=function getProvidersEdgesEdgeIdLinesLineId(edgeId,lineId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/lines/{lineId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(lineId===undefined||lineId===null){throw new Error('Missing required  parameter: lineId');}requestPath=requestPath.replace('{lineId}',lineId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update a line.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} lineId - Line ID
  * @param {} body - Line
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "edge": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": ""
   },
   "edgeGroup": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": []
   },
   "lineType": "",
   "endpoint": {
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "count": 0,
      "properties": {},
      "schema": {},
      "enabled": true,
      "site": {},
      "dids": []
   },
   "ipAddress": "",
   "logicalInterfaceId": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "schema": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "properties": {},
   "edge": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "interfaces": [],
      "make": "",
      "model": "",
      "apiVersion": "",
      "softwareVersion": "",
      "softwareVersionTimestamp": "",
      "softwareVersionPlatform": "",
      "softwareVersionConfiguration": "",
      "fullSoftwareVersion": "",
      "pairingId": "",
      "fingerprint": "",
      "fingerprintHint": "",
      "currentVersion": "",
      "stagedVersion": "",
      "patch": "",
      "statusCode": "",
      "edgeGroup": {},
      "site": {},
      "softwareStatus": {},
      "onlineStatus": "",
      "serialNumber": "",
      "physicalEdge": true,
      "managed": true,
      "edgeDeploymentType": "",
      "selfUri": ""
   },
   "edgeGroup": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "managed": true,
      "edgeTrunkBaseAssignment": {},
      "phoneTrunkBases": [],
      "selfUri": ""
   },
   "lineType": "",
   "endpoint": {
      "id": "",
      "name": "",
      "description": "",
      "version": 0,
      "dateCreated": "",
      "dateModified": "",
      "modifiedBy": "",
      "createdBy": "",
      "state": "",
      "modifiedByApp": "",
      "createdByApp": "",
      "count": 0,
      "properties": {},
      "schema": {},
      "enabled": true,
      "site": {},
      "dids": [],
      "selfUri": ""
   },
   "ipAddress": "",
   "logicalInterfaceId": "",
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesEdgeIdLinesLineId=function putProvidersEdgesEdgeIdLinesLineId(edgeId,lineId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/lines/{lineId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(lineId===undefined||lineId===null){throw new Error('Missing required  parameter: lineId');}requestPath=requestPath.replace('{lineId}',lineId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Get edge logical interfaces.
  * @description Retrieve a list of all configured logical interfaces from a specific edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {array} expand - Field to expand in the response Valid Values: externalTrunkBaseAssignments, phoneTrunkBaseAssignments
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdLogicalinterfaces=function getProvidersEdgesEdgeIdLogicalinterfaces(edgeId,expand){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logicalinterfaces';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);requestQuery["expand"]=expand;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Create an edge logical interface.
  * @description Create
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {} body - Logical interface
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "edgeAssignedId": "",
   "friendlyName": "",
   "vlanTagId": 0,
   "hardwareAddress": "",
   "physicalAdapterId": "",
   "ifStatus": "",
   "routes": [],
   "addresses": [],
   "ipv4Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true
   },
   "ipv6Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true
   },
   "currentState": "",
   "lastModifiedUserId": "",
   "lastModifiedCorrelationId": "",
   "commandResponses": [],
   "inheritPhoneTrunkBasesIPv4": true,
   "inheritPhoneTrunkBasesIPv6": true,
   "useForInternalEdgeCommunication": true,
   "externalTrunkBaseAssignments": [],
   "phoneTrunkBaseAssignments": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "edgeAssignedId": "",
   "friendlyName": "",
   "vlanTagId": 0,
   "hardwareAddress": "",
   "physicalAdapterId": "",
   "ifStatus": "",
   "interfaceType": "",
   "routes": [],
   "addresses": [],
   "ipv4Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "ipv6Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "currentState": "",
   "lastModifiedUserId": "",
   "lastModifiedCorrelationId": "",
   "commandResponses": [],
   "inheritPhoneTrunkBasesIPv4": true,
   "inheritPhoneTrunkBasesIPv6": true,
   "useForInternalEdgeCommunication": true,
   "externalTrunkBaseAssignments": [],
   "phoneTrunkBaseAssignments": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdLogicalinterfaces=function postProvidersEdgesEdgeIdLogicalinterfaces(edgeId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logicalinterfaces';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get an edge logical interface
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} interfaceId - Interface ID
  * @param {array} expand - Field to expand in the response Valid Values: externalTrunkBaseAssignments, phoneTrunkBaseAssignments
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "edgeAssignedId": "",
   "friendlyName": "",
   "vlanTagId": 0,
   "hardwareAddress": "",
   "physicalAdapterId": "",
   "ifStatus": "",
   "interfaceType": "",
   "routes": [],
   "addresses": [],
   "ipv4Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "ipv6Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "currentState": "",
   "lastModifiedUserId": "",
   "lastModifiedCorrelationId": "",
   "commandResponses": [],
   "inheritPhoneTrunkBasesIPv4": true,
   "inheritPhoneTrunkBasesIPv6": true,
   "useForInternalEdgeCommunication": true,
   "externalTrunkBaseAssignments": [],
   "phoneTrunkBaseAssignments": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdLogicalinterfacesInterfaceId=function getProvidersEdgesEdgeIdLogicalinterfacesInterfaceId(edgeId,interfaceId,expand){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logicalinterfaces/{interfaceId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(interfaceId===undefined||interfaceId===null){throw new Error('Missing required  parameter: interfaceId');}requestPath=requestPath.replace('{interfaceId}',interfaceId);requestQuery["expand"]=expand;return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Update an edge logical interface.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} interfaceId - Interface ID
  * @param {} body - Logical interface
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "edgeAssignedId": "",
   "friendlyName": "",
   "vlanTagId": 0,
   "hardwareAddress": "",
   "physicalAdapterId": "",
   "ifStatus": "",
   "routes": [],
   "addresses": [],
   "ipv4Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true
   },
   "ipv6Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true
   },
   "currentState": "",
   "lastModifiedUserId": "",
   "lastModifiedCorrelationId": "",
   "commandResponses": [],
   "inheritPhoneTrunkBasesIPv4": true,
   "inheritPhoneTrunkBasesIPv6": true,
   "useForInternalEdgeCommunication": true,
   "externalTrunkBaseAssignments": [],
   "phoneTrunkBaseAssignments": []
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "edgeAssignedId": "",
   "friendlyName": "",
   "vlanTagId": 0,
   "hardwareAddress": "",
   "physicalAdapterId": "",
   "ifStatus": "",
   "interfaceType": "",
   "routes": [],
   "addresses": [],
   "ipv4Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "ipv6Capabilities": {
      "enabled": true,
      "dhcp": true,
      "metric": 0,
      "autoMetric": true,
      "supportsMetric": true
   },
   "currentState": "",
   "lastModifiedUserId": "",
   "lastModifiedCorrelationId": "",
   "commandResponses": [],
   "inheritPhoneTrunkBasesIPv4": true,
   "inheritPhoneTrunkBasesIPv6": true,
   "useForInternalEdgeCommunication": true,
   "externalTrunkBaseAssignments": [],
   "phoneTrunkBaseAssignments": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.putProvidersEdgesEdgeIdLogicalinterfacesInterfaceId=function putProvidersEdgesEdgeIdLogicalinterfacesInterfaceId(edgeId,interfaceId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logicalinterfaces/{interfaceId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(interfaceId===undefined||interfaceId===null){throw new Error('Missing required  parameter: interfaceId');}requestPath=requestPath.replace('{interfaceId}',interfaceId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('PUT',requestPath,requestQuery,requestBody);};/**
  * @summary Delete an edge logical interface
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} interfaceId - Interface ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesEdgeIdLogicalinterfacesInterfaceId=function deleteProvidersEdgesEdgeIdLogicalinterfacesInterfaceId(edgeId,interfaceId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logicalinterfaces/{interfaceId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(interfaceId===undefined||interfaceId===null){throw new Error('Missing required  parameter: interfaceId');}requestPath=requestPath.replace('{interfaceId}',interfaceId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Create a job to upload a list of Edge logs.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {} body - EdgeLogsJobRequest
  * @example
  * Body Example:
  * {
   "path": "",
   "query": "",
   "recurse": true
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdLogsJobs=function postProvidersEdgesEdgeIdLogsJobs(edgeId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logs/jobs';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Get an Edge logs job.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} jobId - Job ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "files": [],
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdLogsJobsJobId=function getProvidersEdgesEdgeIdLogsJobsJobId(edgeId,jobId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logs/jobs/{jobId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(jobId===undefined||jobId===null){throw new Error('Missing required  parameter: jobId');}requestPath=requestPath.replace('{jobId}',jobId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Request that the specified fileIds be uploaded from the Edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} jobId - Job ID
  * @param {} body - Log upload request
  * @example
  * Body Example:
  * {
   "fileIds": []
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdLogsJobsJobIdUpload=function postProvidersEdgesEdgeIdLogsJobsJobIdUpload(edgeId,jobId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/logs/jobs/{jobId}/upload';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(jobId===undefined||jobId===null){throw new Error('Missing required  parameter: jobId');}requestPath=requestPath.replace('{jobId}',jobId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Retrieve a list of all configured physical interfaces from a specific edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdPhysicalinterfaces=function getProvidersEdgesEdgeIdPhysicalinterfaces(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/physicalinterfaces';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Get edge physical interface.
  * @description Retrieve a physical interface from a specific edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {string} interfaceId - Interface ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "edgeUri": "",
   "friendlyName": "",
   "hardwareAddress": "",
   "portLabel": "",
   "physicalCapabilities": {
      "vlan": true,
      "team": true
   },
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdPhysicalinterfacesInterfaceId=function getProvidersEdgesEdgeIdPhysicalinterfacesInterfaceId(edgeId,interfaceId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/physicalinterfaces/{interfaceId}';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(interfaceId===undefined||interfaceId===null){throw new Error('Missing required  parameter: interfaceId');}requestPath=requestPath.replace('{interfaceId}',interfaceId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Reboot an Edge
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdReboot=function postProvidersEdgesEdgeIdReboot(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/reboot';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Gets software update status information about any edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @example
  * 200 Response Example:
  * {
   "version": {
      "id": "",
      "name": "",
      "edgeVersion": "",
      "publishDate": "",
      "edgeUri": "",
      "current": true,
      "latestRelease": true,
      "selfUri": ""
   },
   "maxDownloadRate": 0,
   "downloadStartTime": "",
   "executeStartTime": "",
   "executeStopTime": "",
   "executeOnIdle": true,
   "status": "",
   "edgeUri": "",
   "current": true
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdSoftwareupdate=function getProvidersEdgesEdgeIdSoftwareupdate(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/softwareupdate';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Starts a software update for this edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @param {} body - Software update request
  * @example
  * Body Example:
  * {
   "version": {
      "name": "",
      "edgeVersion": "",
      "publishDate": "",
      "edgeUri": "",
      "current": true,
      "latestRelease": true
   },
   "maxDownloadRate": 0,
   "downloadStartTime": "",
   "executeStartTime": "",
   "executeStopTime": "",
   "executeOnIdle": true,
   "status": "",
   "edgeUri": "",
   "current": true
}
  * @example
  * 200 Response Example:
  * {
   "version": {
      "id": "",
      "name": "",
      "edgeVersion": "",
      "publishDate": "",
      "edgeUri": "",
      "current": true,
      "latestRelease": true,
      "selfUri": ""
   },
   "maxDownloadRate": 0,
   "downloadStartTime": "",
   "executeStartTime": "",
   "executeStopTime": "",
   "executeOnIdle": true,
   "status": "",
   "edgeUri": "",
   "current": true
}
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdSoftwareupdate=function postProvidersEdgesEdgeIdSoftwareupdate(edgeId,body){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/softwareupdate';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);if(body===undefined||body===null){throw new Error('Missing required  parameter: body');}if(body!==undefined&&body!==null){requestBody=body;}return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};/**
  * @summary Cancels any in-progress update for this edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  */TelephonyProvidersEdgeApi.prototype.deleteProvidersEdgesEdgeIdSoftwareupdate=function deleteProvidersEdgesEdgeIdSoftwareupdate(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/softwareupdate';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('DELETE',requestPath,requestQuery,requestBody);};/**
  * @summary Gets all the available software versions for this edge.
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "edgeVersion": "",
   "publishDate": "",
   "edgeUri": "",
   "current": true,
   "latestRelease": true,
   "selfUri": ""
}
  */TelephonyProvidersEdgeApi.prototype.getProvidersEdgesEdgeIdSoftwareversions=function getProvidersEdgesEdgeIdSoftwareversions(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/softwareversions';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('GET',requestPath,requestQuery,requestBody);};/**
  * @summary Unpair an Edge
  * @memberOf TelephonyProvidersEdgeApi
  * @instance
  * @param {string} edgeId - Edge Id
  */TelephonyProvidersEdgeApi.prototype.postProvidersEdgesEdgeIdUnpair=function postProvidersEdgesEdgeIdUnpair(edgeId){var requestPath='/api/v2/telephony/providers/edges/{edgeId}/unpair';var requestQuery={};var requestBody;if(edgeId===undefined||edgeId===null){throw new Error('Missing required  parameter: edgeId');}requestPath=requestPath.replace('{edgeId}',edgeId);return this.session.makeRequest('POST',requestPath,requestQuery,requestBody);};module.exports=TelephonyProvidersEdgeApi;

},{}],29:[function(require,module,exports){
'use strict';

/**
* @class TokensApi
* @example
* var api = new purecloud.platform.TokensApi(pureCloudSession);
*/
function TokensApi(session) {
    if (!(this instanceof TokensApi)) {
        return new TokensApi(session);
    }
    if (!(session && session.makeRequest)) {
        throw new Error('TokensApi requires a PureCloudSession');
    }
    this.session = session;
}

/**
  * @summary Delete  auth token used to make the request.
  * @memberOf TokensApi
  * @instance
  */
TokensApi.prototype.deleteMe = function deleteMe() {
    var requestPath = '/api/v2/tokens/me';
    var requestQuery = {};
    var requestBody;

    return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

module.exports = TokensApi;

},{}],30:[function(require,module,exports){
'use strict';

/**
* @class UserRecordingsApi
* @example
* var api = new purecloud.platform.UserRecordingsApi(pureCloudSession);
*/
function UserRecordingsApi(session) {
  if (!(this instanceof UserRecordingsApi)) {
    return new UserRecordingsApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('UserRecordingsApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get a list of user recordings.
  * @memberOf UserRecordingsApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} expand - conversation
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
UserRecordingsApi.prototype.getUserrecordings = function getUserrecordings(pageSize, pageNumber, expand) {
  var requestPath = '/api/v2/userrecordings';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get user recording summary
  * @memberOf UserRecordingsApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "readCount": 0,
   "unreadCount": 0,
   "totalCount": 0
}
  */
UserRecordingsApi.prototype.getSummary = function getSummary() {
  var requestPath = '/api/v2/userrecordings/summary';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user recording.
  * @memberOf UserRecordingsApi
  * @instance
  * @param {string} recordingId - User Recording ID
  * @param {string} expand - conversation
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "contentLength": 0,
   "durationMilliseconds": 0,
   "thumbnails": [],
   "read": true,
   "selfUri": ""
}
  */
UserRecordingsApi.prototype.getRecordingId = function getRecordingId(recordingId, expand) {
  var requestPath = '/api/v2/userrecordings/{recordingId}';
  var requestQuery = {};
  var requestBody;

  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a user recording.
  * @memberOf UserRecordingsApi
  * @instance
  * @param {string} recordingId - User Recording ID
  * @param {} body - UserRecording
  * @param {string} expand - conversation
  * @example
  * Body Example:
  * {
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "contentLength": 0,
   "durationMilliseconds": 0,
   "thumbnails": [],
   "read": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "dateCreated": "",
   "dateModified": "",
   "contentUri": "",
   "workspace": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "createdBy": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "contentLength": 0,
   "durationMilliseconds": 0,
   "thumbnails": [],
   "read": true,
   "selfUri": ""
}
  */
UserRecordingsApi.prototype.putRecordingId = function putRecordingId(recordingId, body, expand) {
  var requestPath = '/api/v2/userrecordings/{recordingId}';
  var requestQuery = {};
  var requestBody;

  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  requestQuery["expand"] = expand;
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a user recording.
  * @memberOf UserRecordingsApi
  * @instance
  * @param {string} recordingId - User Recording ID
  */
UserRecordingsApi.prototype.deleteRecordingId = function deleteRecordingId(recordingId) {
  var requestPath = '/api/v2/userrecordings/{recordingId}';
  var requestQuery = {};
  var requestBody;

  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Download a user recording.
  * @memberOf UserRecordingsApi
  * @instance
  * @param {string} recordingId - User Recording ID
  * @param {string} formatId - The desired media format.
  WAV,
  WEBM,
  WAV_ULAW,
  OGG_VORBIS,
  OGG_OPUS,
  NONE,
  * @example
  * 200 Response Example:
  * {
   "contentLocationUri": "",
   "imageUri": "",
   "thumbnails": []
}
  */
UserRecordingsApi.prototype.getRecordingIdMedia = function getRecordingIdMedia(recordingId, formatId) {
  var requestPath = '/api/v2/userrecordings/{recordingId}/media';
  var requestQuery = {};
  var requestBody;

  if (recordingId === undefined || recordingId === null) {
    throw new Error('Missing required  parameter: recordingId');
  }
  requestPath = requestPath.replace('{recordingId}', recordingId);
  requestQuery["formatId"] = formatId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = UserRecordingsApi;

},{}],31:[function(require,module,exports){
'use strict';

/**
* @class UsersApi
* @example
* var api = new purecloud.platform.UsersApi(pureCloudSession);
*/
function UsersApi(session) {
  if (!(this instanceof UsersApi)) {
    return new UsersApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('UsersApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Query for user aggregates
  * @memberOf UsersApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "interval": "",
   "granularity": "",
   "groupBy": [],
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": [],
   "flattenMultivaluedDimensions": true
}
  * @example
  * 200 Response Example:
  * {
   "systemToOrganizationMappings": {},
   "results": []
}
  */
UsersApi.prototype.postUsersAggregatesQuery = function postUsersAggregatesQuery(body) {
  var requestPath = '/api/v2/analytics/users/aggregates/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Query for user observations
  * @memberOf UsersApi
  * @instance
  * @param {} body - query
  * @example
  * Body Example:
  * {
   "filter": {
      "type": "",
      "clauses": [],
      "predicates": []
   },
   "metrics": []
}
  * @example
  * 200 Response Example:
  * {
   "results": []
}
  */
UsersApi.prototype.postUsersObservationsQuery = function postUsersObservationsQuery(body) {
  var requestPath = '/api/v2/analytics/users/observations/query';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the list of available users.
  * @memberOf UsersApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {array} id - id
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @param {array} expand - Which fields, if any, to expand Valid Values: routingStatus, presence, conversationSummary, outOfOffice, geolocation, station, authorization, profileSkills
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
UsersApi.prototype.getUsers = function getUsers(pageSize, pageNumber, id, sortOrder, expand) {
  var requestPath = '/api/v2/users';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["id"] = id;
  requestQuery["sortOrder"] = sortOrder;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Create user
  * @memberOf UsersApi
  * @instance
  * @param {} body - User
  * @example
  * Body Example:
  * {
   "name": "",
   "department": "",
   "email": "",
   "addresses": [],
   "title": "",
   "password": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "chat": {
      "jabberId": ""
   },
   "department": "",
   "email": "",
   "primaryContactInfo": [],
   "addresses": [],
   "state": "",
   "title": "",
   "username": "",
   "images": [],
   "version": 0,
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   },
   "presence": {
      "id": "",
      "name": "",
      "source": "",
      "primary": true,
      "presenceDefinition": {},
      "message": "",
      "modifiedDate": "",
      "selfUri": ""
   },
   "conversationSummary": {
      "userId": "",
      "call": {},
      "callback": {},
      "email": {},
      "chat": {},
      "socialExpression": {},
      "video": {}
   },
   "outOfOffice": {
      "id": "",
      "name": "",
      "user": {},
      "startDate": "",
      "endDate": "",
      "active": true,
      "selfUri": ""
   },
   "geolocation": {
      "id": "",
      "name": "",
      "type": "",
      "primary": true,
      "latitude": {},
      "longitude": {},
      "country": "",
      "region": "",
      "city": "",
      "selfUri": ""
   },
   "station": {
      "associatedStation": {},
      "effectiveStation": {},
      "defaultStation": {},
      "lastAssociatedStation": {}
   },
   "authorization": {
      "roles": [],
      "permissions": [],
      "permissionPolicies": []
   },
   "profileSkills": [],
   "selfUri": ""
}
  */
UsersApi.prototype.postUsers = function postUsers(body) {
  var requestPath = '/api/v2/users';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get current user details.
  * @description This request is not valid when using the Client Credentials OAuth grant.
  * @memberOf UsersApi
  * @instance
  * @param {array} expand - Which fields, if any, to expand. Valid Values: routingStatus, presence, conversationSummary, outOfOffice, geolocation, station, authorization, profileSkills, date, geolocationsettings, organization, presencedefinitions, locations
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "chat": {
      "jabberId": ""
   },
   "department": "",
   "email": "",
   "primaryContactInfo": [],
   "addresses": [],
   "state": "",
   "title": "",
   "username": "",
   "images": [],
   "version": 0,
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   },
   "presence": {
      "id": "",
      "name": "",
      "source": "",
      "primary": true,
      "presenceDefinition": {},
      "message": "",
      "modifiedDate": "",
      "selfUri": ""
   },
   "conversationSummary": {
      "userId": "",
      "call": {},
      "callback": {},
      "email": {},
      "chat": {},
      "socialExpression": {},
      "video": {}
   },
   "outOfOffice": {
      "id": "",
      "name": "",
      "user": {},
      "startDate": "",
      "endDate": "",
      "active": true,
      "selfUri": ""
   },
   "geolocation": {
      "id": "",
      "name": "",
      "type": "",
      "primary": true,
      "latitude": {},
      "longitude": {},
      "country": "",
      "region": "",
      "city": "",
      "selfUri": ""
   },
   "station": {
      "associatedStation": {},
      "effectiveStation": {},
      "defaultStation": {},
      "lastAssociatedStation": {}
   },
   "authorization": {
      "roles": [],
      "permissions": [],
      "permissionPolicies": []
   },
   "profileSkills": [],
   "date": {
      "currentDate": ""
   },
   "geolocationSettings": {
      "id": "",
      "name": "",
      "enabled": true,
      "selfUri": ""
   },
   "organization": {
      "id": "",
      "name": "",
      "thirdPartyOrgId": "",
      "thirdPartyOrgName": "",
      "thirdPartyURI": "",
      "domain": "",
      "version": 0,
      "state": "",
      "defaultSiteId": "",
      "deletable": true,
      "selfUri": ""
   },
   "presenceDefinitions": [],
   "locations": [],
   "selfUri": ""
}
  */
UsersApi.prototype.getMe = function getMe(expand) {
  var requestPath = '/api/v2/users/me';
  var requestQuery = {};
  var requestBody;

  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search using q64
  * @memberOf UsersApi
  * @instance
  * @param {string} q64 - q64
  * @param {array} expand - expand
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
UsersApi.prototype.getSearch = function getSearch(q64, expand) {
  var requestPath = '/api/v2/users/search';
  var requestQuery = {};
  var requestBody;

  if (q64 === undefined || q64 === null) {
    throw new Error('Missing required  parameter: q64');
  }
  requestQuery["q64"] = q64;
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Search
  * @memberOf UsersApi
  * @instance
  * @param {} body - Search request options
  * @example
  * Body Example:
  * {
   "sortOrder": "",
   "sortBy": "",
   "pageSize": 0,
   "pageNumber": 0,
   "returnFields": [],
   "expand": [],
   "query": []
}
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "pageCount": 0,
   "pageSize": 0,
   "pageNumber": 0,
   "previousPage": "",
   "currentPage": "",
   "nextPage": "",
   "types": [],
   "results": []
}
  */
UsersApi.prototype.postSearch = function postSearch(body) {
  var requestPath = '/api/v2/users/search';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get user.
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {array} expand - Which fields, if any, to expand Valid Values: routingStatus, presence, conversationSummary, outOfOffice, geolocation, station, authorization, profileSkills
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "chat": {
      "jabberId": ""
   },
   "department": "",
   "email": "",
   "primaryContactInfo": [],
   "addresses": [],
   "state": "",
   "title": "",
   "username": "",
   "images": [],
   "version": 0,
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   },
   "presence": {
      "id": "",
      "name": "",
      "source": "",
      "primary": true,
      "presenceDefinition": {},
      "message": "",
      "modifiedDate": "",
      "selfUri": ""
   },
   "conversationSummary": {
      "userId": "",
      "call": {},
      "callback": {},
      "email": {},
      "chat": {},
      "socialExpression": {},
      "video": {}
   },
   "outOfOffice": {
      "id": "",
      "name": "",
      "user": {},
      "startDate": "",
      "endDate": "",
      "active": true,
      "selfUri": ""
   },
   "geolocation": {
      "id": "",
      "name": "",
      "type": "",
      "primary": true,
      "latitude": {},
      "longitude": {},
      "country": "",
      "region": "",
      "city": "",
      "selfUri": ""
   },
   "station": {
      "associatedStation": {},
      "effectiveStation": {},
      "defaultStation": {},
      "lastAssociatedStation": {}
   },
   "authorization": {
      "roles": [],
      "permissions": [],
      "permissionPolicies": []
   },
   "profileSkills": [],
   "selfUri": ""
}
  */
UsersApi.prototype.getUserId = function getUserId(userId, expand) {
  var requestPath = '/api/v2/users/{userId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  requestQuery["expand"] = expand;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  */
UsersApi.prototype.deleteUserId = function deleteUserId(userId) {
  var requestPath = '/api/v2/users/{userId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - User
  * @example
  * Body Example:
  * {
   "name": "",
   "chat": {
      "jabberId": ""
   },
   "department": "",
   "email": "",
   "addresses": [],
   "title": "",
   "username": "",
   "images": [],
   "version": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "chat": {
      "jabberId": ""
   },
   "department": "",
   "email": "",
   "primaryContactInfo": [],
   "addresses": [],
   "state": "",
   "title": "",
   "username": "",
   "images": [],
   "version": 0,
   "routingStatus": {
      "userId": "",
      "status": "",
      "startTime": ""
   },
   "presence": {
      "id": "",
      "name": "",
      "source": "",
      "primary": true,
      "presenceDefinition": {},
      "message": "",
      "modifiedDate": "",
      "selfUri": ""
   },
   "conversationSummary": {
      "userId": "",
      "call": {},
      "callback": {},
      "email": {},
      "chat": {},
      "socialExpression": {},
      "video": {}
   },
   "outOfOffice": {
      "id": "",
      "name": "",
      "user": {},
      "startDate": "",
      "endDate": "",
      "active": true,
      "selfUri": ""
   },
   "geolocation": {
      "id": "",
      "name": "",
      "type": "",
      "primary": true,
      "latitude": {},
      "longitude": {},
      "country": "",
      "region": "",
      "city": "",
      "selfUri": ""
   },
   "station": {
      "associatedStation": {},
      "effectiveStation": {},
      "defaultStation": {},
      "lastAssociatedStation": {}
   },
   "authorization": {
      "roles": [],
      "permissions": [],
      "permissionPolicies": []
   },
   "profileSkills": [],
   "selfUri": ""
}
  */
UsersApi.prototype.patchUserId = function patchUserId(userId, body) {
  var requestPath = '/api/v2/users/{userId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user's CallForwarding
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "enabled": true,
   "phoneNumber": "",
   "modifiedDate": "",
   "selfUri": ""
}
  */
UsersApi.prototype.getUserIdCallforwarding = function getUserIdCallforwarding(userId) {
  var requestPath = '/api/v2/users/{userId}/callforwarding';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a user's CallForwarding
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - Call forwarding
  * @example
  * Body Example:
  * {
   "name": "",
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "enabled": true,
   "phoneNumber": "",
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "enabled": true,
   "phoneNumber": "",
   "modifiedDate": "",
   "selfUri": ""
}
  */
UsersApi.prototype.putUserIdCallforwarding = function putUserIdCallforwarding(userId, body) {
  var requestPath = '/api/v2/users/{userId}/callforwarding';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a user's CallForwarding
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - Call forwarding
  * @example
  * Body Example:
  * {
   "name": "",
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "enabled": true,
   "phoneNumber": "",
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "enabled": true,
   "phoneNumber": "",
   "modifiedDate": "",
   "selfUri": ""
}
  */
UsersApi.prototype.patchUserIdCallforwarding = function patchUserIdCallforwarding(userId, body) {
  var requestPath = '/api/v2/users/{userId}/callforwarding';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user's Geolocation
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} clientId - client Id
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": "",
   "selfUri": ""
}
  */
UsersApi.prototype.getUserIdGeolocationsClientId = function getUserIdGeolocationsClientId(userId, clientId) {
  var requestPath = '/api/v2/users/{userId}/geolocations/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Patch a user's Geolocation
  * @description The geolocation object can be patched one of three ways. Option 1: Set the 'primary' property to true. This will set the client as the user's primary geolocation source.  Option 2: Provide the 'latitude' and 'longitude' values.  This will enqueue an asynchronous update of the 'city', 'region', and 'country', generating a notification. A subsequent GET operation will include the new values for 'city', 'region' and 'country'.  Option 3:  Provide the 'city', 'region', 'country' values.  Option 1 can be combined with Option 2 or Option 3.  For example, update the client as primary and provide latitude and longitude values.
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - user Id
  * @param {string} clientId - client Id
  * @param {} body - Geolocation
  * @example
  * Body Example:
  * {
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "type": "",
   "primary": true,
   "latitude": {},
   "longitude": {},
   "country": "",
   "region": "",
   "city": "",
   "selfUri": ""
}
  */
UsersApi.prototype.patchUserIdGeolocationsClientId = function patchUserIdGeolocationsClientId(userId, clientId, body) {
  var requestPath = '/api/v2/users/{userId}/geolocations/{clientId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (clientId === undefined || clientId === null) {
    throw new Error('Missing required  parameter: clientId');
  }
  requestPath = requestPath.replace('{clientId}', clientId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a OutOfOffice
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "startDate": "",
   "endDate": "",
   "active": true,
   "selfUri": ""
}
  */
UsersApi.prototype.getUserIdOutofoffice = function getUserIdOutofoffice(userId) {
  var requestPath = '/api/v2/users/{userId}/outofoffice';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update an OutOfOffice
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - The updated UserPresence
  * @example
  * Body Example:
  * {
   "name": "",
   "user": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   },
   "startDate": "",
   "endDate": "",
   "active": true
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "user": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "startDate": "",
   "endDate": "",
   "active": true,
   "selfUri": ""
}
  */
UsersApi.prototype.putUserIdOutofoffice = function putUserIdOutofoffice(userId, body) {
  var requestPath = '/api/v2/users/{userId}/outofoffice';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get queues for user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {boolean} joined - Is joined to the queue
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
UsersApi.prototype.getUserIdQueues = function getUserIdQueues(userId, pageSize, pageNumber, joined) {
  var requestPath = '/api/v2/users/{userId}/queues';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["joined"] = joined;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Join or unjoin a set of queues for a user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - User Queues
  * @example
  * Body Example:
  * [
 {
  "name": "",
  "description": "",
  "version": 0,
  "dateCreated": "",
  "dateModified": "",
  "modifiedBy": "",
  "createdBy": "",
  "state": "",
  "modifiedByApp": "",
  "createdByApp": "",
  "mediaSettings": {},
  "bullseye": {
   "rings": []
  },
  "acwSettings": {
   "wrapupPrompt": "",
   "timeoutMs": 0
  },
  "skillEvaluationMethod": "",
  "queueFlow": {
   "id": "",
   "name": "",
   "selfUri": ""
  },
  "callingPartyName": "",
  "callingPartyNumber": "",
  "joined": true,
  "memberCount": 0
 }
]
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "joined": true,
   "memberCount": 0,
   "selfUri": ""
}
  */
UsersApi.prototype.patchUserIdQueues = function patchUserIdQueues(userId, body) {
  var requestPath = '/api/v2/users/{userId}/queues';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Join or unjoin a queue for a user
  * @memberOf UsersApi
  * @instance
  * @param {string} queueId - Queue ID
  * @param {string} userId - User ID
  * @param {} body - Queue Member
  * @example
  * Body Example:
  * {
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "joined": true,
   "memberCount": 0
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "description": "",
   "version": 0,
   "dateCreated": "",
   "dateModified": "",
   "modifiedBy": "",
   "createdBy": "",
   "state": "",
   "modifiedByApp": "",
   "createdByApp": "",
   "mediaSettings": {},
   "bullseye": {
      "rings": []
   },
   "acwSettings": {
      "wrapupPrompt": "",
      "timeoutMs": 0
   },
   "skillEvaluationMethod": "",
   "queueFlow": {
      "id": "",
      "name": "",
      "selfUri": ""
   },
   "callingPartyName": "",
   "callingPartyNumber": "",
   "joined": true,
   "memberCount": 0,
   "selfUri": ""
}
  */
UsersApi.prototype.patchUserIdQueuesQueueId = function patchUserIdQueuesQueueId(queueId, userId, body) {
  var requestPath = '/api/v2/users/{userId}/queues/{queueId}';
  var requestQuery = {};
  var requestBody;

  if (queueId === undefined || queueId === null) {
    throw new Error('Missing required  parameter: queueId');
  }
  requestPath = requestPath.replace('{queueId}', queueId);
  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

/**
  * @summary Returns a listing of roles and permissions for a user.
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "roles": [],
   "permissions": [],
   "permissionPolicies": []
}
  */
UsersApi.prototype.getUserIdRoles = function getUserIdRoles(userId) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Sets the user's roles
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - List of roles
  * @example
  * 200 Response Example:
  * {
   "roles": [],
   "permissions": [],
   "permissionPolicies": []
}
  */
UsersApi.prototype.putUserIdRoles = function putUserIdRoles(userId, body) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Removes all the roles from the user.
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  */
UsersApi.prototype.deleteUserIdRoles = function deleteUserIdRoles(userId) {
  var requestPath = '/api/v2/users/{userId}/roles';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary List routing skills for user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @param {string} sortOrder - Ascending or descending sort order
  ascending,
  descending,
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
UsersApi.prototype.getUserIdRoutingskills = function getUserIdRoutingskills(userId, pageSize, pageNumber, sortOrder) {
  var requestPath = '/api/v2/users/{userId}/routingskills';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  requestQuery["sortOrder"] = sortOrder;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Add routing skill to user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - Skill
  * @example
  * Body Example:
  * {
   "name": "",
   "proficiency": {},
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "proficiency": {},
   "state": "",
   "skillUri": "",
   "selfUri": ""
}
  */
UsersApi.prototype.postUserIdRoutingskills = function postUserIdRoutingskills(userId, body) {
  var requestPath = '/api/v2/users/{userId}/routingskills';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update routing skill proficiency or state.
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} skillId - skillId
  * @param {} body - Skill
  * @example
  * Body Example:
  * {
   "name": "",
   "proficiency": {},
   "state": ""
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "name": "",
   "proficiency": {},
   "state": "",
   "skillUri": "",
   "selfUri": ""
}
  */
UsersApi.prototype.putUserIdRoutingskillsSkillId = function putUserIdRoutingskillsSkillId(userId, skillId, body) {
  var requestPath = '/api/v2/users/{userId}/routingskills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Remove routing skill from user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} skillId - skillId
  */
UsersApi.prototype.deleteUserIdRoutingskillsSkillId = function deleteUserIdRoutingskillsSkillId(userId, skillId) {
  var requestPath = '/api/v2/users/{userId}/routingskills/{skillId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (skillId === undefined || skillId === null) {
    throw new Error('Missing required  parameter: skillId');
  }
  requestPath = requestPath.replace('{skillId}', skillId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Fetch the routing status of a user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "userId": "",
   "status": "",
   "startTime": ""
}
  */
UsersApi.prototype.getUserIdRoutingstatus = function getUserIdRoutingstatus(userId) {
  var requestPath = '/api/v2/users/{userId}/routingstatus';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update the routing status of a user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - Routing Status
  * @example
  * Body Example:
  * {
   "userId": "",
   "status": "",
   "startTime": ""
}
  * @example
  * 200 Response Example:
  * {
   "userId": "",
   "status": "",
   "startTime": ""
}
  */
UsersApi.prototype.putUserIdRoutingstatus = function putUserIdRoutingstatus(userId, body) {
  var requestPath = '/api/v2/users/{userId}/routingstatus';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get station information for user
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "associatedStation": {
      "id": "",
      "associatedUser": {},
      "associatedDate": "",
      "defaultUser": {},
      "providerInfo": {}
   },
   "effectiveStation": {
      "id": "",
      "associatedUser": {},
      "associatedDate": "",
      "defaultUser": {},
      "providerInfo": {}
   },
   "defaultStation": {
      "id": "",
      "associatedUser": {},
      "associatedDate": "",
      "defaultUser": {},
      "providerInfo": {}
   },
   "lastAssociatedStation": {
      "id": "",
      "associatedUser": {},
      "associatedDate": "",
      "defaultUser": {},
      "providerInfo": {}
   }
}
  */
UsersApi.prototype.getUserIdStation = function getUserIdStation(userId) {
  var requestPath = '/api/v2/users/{userId}/station';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Clear associated station
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  */
UsersApi.prototype.deleteUserIdStationAssociatedstation = function deleteUserIdStationAssociatedstation(userId) {
  var requestPath = '/api/v2/users/{userId}/station/associatedstation';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Set associated station
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} stationId - stationId
  */
UsersApi.prototype.putUserIdStationAssociatedstationStationId = function putUserIdStationAssociatedstationStationId(userId, stationId) {
  var requestPath = '/api/v2/users/{userId}/station/associatedstation/{stationId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (stationId === undefined || stationId === null) {
    throw new Error('Missing required  parameter: stationId');
  }
  requestPath = requestPath.replace('{stationId}', stationId);
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Clear default station
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  */
UsersApi.prototype.deleteUserIdStationDefaultstation = function deleteUserIdStationDefaultstation(userId) {
  var requestPath = '/api/v2/users/{userId}/station/defaultstation';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Set default station
  * @memberOf UsersApi
  * @instance
  * @param {string} userId - User ID
  * @param {string} stationId - stationId
  */
UsersApi.prototype.putUserIdStationDefaultstationStationId = function putUserIdStationDefaultstationStationId(userId, stationId) {
  var requestPath = '/api/v2/users/{userId}/station/defaultstation/{stationId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (stationId === undefined || stationId === null) {
    throw new Error('Missing required  parameter: stationId');
  }
  requestPath = requestPath.replace('{stationId}', stationId);
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

module.exports = UsersApi;

},{}],32:[function(require,module,exports){
'use strict';

/**
* @class UtilitiesApi
* @example
* var api = new purecloud.platform.UtilitiesApi(pureCloudSession);
*/
function UtilitiesApi(session) {
  if (!(this instanceof UtilitiesApi)) {
    return new UtilitiesApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('UtilitiesApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Returns the information about an X509 PEM encoded certificate or certificate chain.
  * @memberOf UtilitiesApi
  * @instance
  * @param {} body - Certificate
  * @example
  * Body Example:
  * {
   "certificate": ""
}
  * @example
  * 200 Response Example:
  * {
   "certificateDetails": []
}
  */
UtilitiesApi.prototype.postDetails = function postDetails(body) {
  var requestPath = '/api/v2/certificate/details';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('POST', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get the current system date/time
  * @memberOf UtilitiesApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "currentDate": ""
}
  */
UtilitiesApi.prototype.getDate = function getDate() {
  var requestPath = '/api/v2/date';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get time zones list
  * @memberOf UtilitiesApi
  * @instance
  * @param {integer} pageSize - Page size
  * @param {integer} pageNumber - Page number
  * @example
  * 200 Response Example:
  * {
   "pageSize": 0,
   "pageNumber": 0,
   "total": 0,
   "entities": [],
   "selfUri": "",
   "firstUri": "",
   "previousUri": "",
   "nextUri": "",
   "lastUri": "",
   "pageCount": 0
}
  */
UtilitiesApi.prototype.getTimezones = function getTimezones(pageSize, pageNumber) {
  var requestPath = '/api/v2/timezones';
  var requestQuery = {};
  var requestBody;

  requestQuery["pageSize"] = pageSize;
  requestQuery["pageNumber"] = pageNumber;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

module.exports = UtilitiesApi;

},{}],33:[function(require,module,exports){
'use strict';

/**
* @class VoicemailApi
* @example
* var api = new purecloud.platform.VoicemailApi(pureCloudSession);
*/
function VoicemailApi(session) {
  if (!(this instanceof VoicemailApi)) {
    return new VoicemailApi(session);
  }
  if (!(session && session.makeRequest)) {
    throw new Error('VoicemailApi requires a PureCloudSession');
  }
  this.session = session;
}

/**
  * @summary Get mailbox information
  * @memberOf VoicemailApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "usageSizeBytes": 0,
   "totalCount": 0,
   "unreadCount": 0,
   "voicemailPolicy": {
      "enabled": true,
      "alertTimeoutSeconds": 0,
      "minimumRecordingTimeSeconds": 0,
      "maximumRecordingTimeSeconds": 0,
      "unavailableMessageUri": "",
      "namePromptMessageUri": "",
      "fullMessageUri": "",
      "pin": "",
      "quotaSizeBytes": 0,
      "createdDate": "",
      "modifiedDate": ""
   },
   "createdDate": "",
   "modifiedDate": ""
}
  */
VoicemailApi.prototype.getMailbox = function getMailbox() {
  var requestPath = '/api/v2/voicemail/mailbox';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary List voicemail messages
  * @memberOf VoicemailApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "total": 0,
   "entities": [],
   "selfUri": ""
}
  */
VoicemailApi.prototype.getMessages = function getMessages() {
  var requestPath = '/api/v2/voicemail/messages';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete all voicemail messages
  * @memberOf VoicemailApi
  * @instance
  */
VoicemailApi.prototype.deleteMessages = function deleteMessages() {
  var requestPath = '/api/v2/voicemail/messages';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get message.
  * @memberOf VoicemailApi
  * @instance
  * @param {string} messageId - Message ID
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "read": true,
   "audioRecordingDurationSeconds": 0,
   "audioRecordingSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "callerAddress": "",
   "callerName": "",
   "callerUser": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
VoicemailApi.prototype.getMessagesMessageId = function getMessagesMessageId(messageId) {
  var requestPath = '/api/v2/voicemail/messages/{messageId}';
  var requestQuery = {};
  var requestBody;

  if (messageId === undefined || messageId === null) {
    throw new Error('Missing required  parameter: messageId');
  }
  requestPath = requestPath.replace('{messageId}', messageId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a message.
  * @memberOf VoicemailApi
  * @instance
  * @param {string} messageId - Message ID
  * @param {} body - VoicemailMessage
  * @example
  * Body Example:
  * {
   "conversation": {
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": ""
   },
   "read": true,
   "audioRecordingDurationSeconds": 0,
   "audioRecordingSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "callerAddress": "",
   "callerName": "",
   "callerUser": {
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "addresses": [],
      "title": "",
      "username": "",
      "images": [],
      "version": 0
   }
}
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "conversation": {
      "id": "",
      "name": "",
      "startTime": "",
      "endTime": "",
      "address": "",
      "participants": [],
      "conversationIds": [],
      "maxParticipants": 0,
      "recordingState": "",
      "state": "",
      "selfUri": ""
   },
   "read": true,
   "audioRecordingDurationSeconds": 0,
   "audioRecordingSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "callerAddress": "",
   "callerName": "",
   "callerUser": {
      "id": "",
      "name": "",
      "chat": {},
      "department": "",
      "email": "",
      "primaryContactInfo": [],
      "addresses": [],
      "state": "",
      "title": "",
      "username": "",
      "images": [],
      "version": 0,
      "routingStatus": {},
      "presence": {},
      "conversationSummary": {},
      "outOfOffice": {},
      "geolocation": {},
      "station": {},
      "authorization": {},
      "profileSkills": [],
      "selfUri": ""
   },
   "selfUri": ""
}
  */
VoicemailApi.prototype.putMessagesMessageId = function putMessagesMessageId(messageId, body) {
  var requestPath = '/api/v2/voicemail/messages/{messageId}';
  var requestQuery = {};
  var requestBody;

  if (messageId === undefined || messageId === null) {
    throw new Error('Missing required  parameter: messageId');
  }
  requestPath = requestPath.replace('{messageId}', messageId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Delete a message.
  * @memberOf VoicemailApi
  * @instance
  * @param {string} messageId - Message ID
  */
VoicemailApi.prototype.deleteMessagesMessageId = function deleteMessagesMessageId(messageId) {
  var requestPath = '/api/v2/voicemail/messages/{messageId}';
  var requestQuery = {};
  var requestBody;

  if (messageId === undefined || messageId === null) {
    throw new Error('Missing required  parameter: messageId');
  }
  requestPath = requestPath.replace('{messageId}', messageId);
  return this.session.makeRequest('DELETE', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get media playback URI for this message
  * @memberOf VoicemailApi
  * @instance
  * @param {string} messageId - Message ID
  * @param {string} formatId - The desired media format.
  WAV,
  WEBM,
  WAV_ULAW,
  OGG_VORBIS,
  OGG_OPUS,
  NONE,
  * @example
  * 200 Response Example:
  * {
   "id": "",
   "mediaFileUri": "",
   "mediaImageUri": ""
}
  */
VoicemailApi.prototype.getMessagesMessageIdMedia = function getMessagesMessageIdMedia(messageId, formatId) {
  var requestPath = '/api/v2/voicemail/messages/{messageId}/media';
  var requestQuery = {};
  var requestBody;

  if (messageId === undefined || messageId === null) {
    throw new Error('Missing required  parameter: messageId');
  }
  requestPath = requestPath.replace('{messageId}', messageId);
  requestQuery["formatId"] = formatId;
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a policy
  * @memberOf VoicemailApi
  * @instance
  * @example
  * 200 Response Example:
  * {
   "enabled": true,
   "retentionTimeDays": 0,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "compressSilence": true,
   "pinConfiguration": {
      "minimumLength": 0,
      "maximumLength": 0
   },
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "voicemailExtension": "",
   "pinRequired": true
}
  */
VoicemailApi.prototype.getPolicy = function getPolicy() {
  var requestPath = '/api/v2/voicemail/policy';
  var requestQuery = {};
  var requestBody;

  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a policy
  * @memberOf VoicemailApi
  * @instance
  * @param {} body - Policy
  * @example
  * Body Example:
  * {
   "enabled": true,
   "retentionTimeDays": 0,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "compressSilence": true,
   "pinConfiguration": {
      "minimumLength": 0,
      "maximumLength": 0
   },
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "voicemailExtension": "",
   "pinRequired": true
}
  * @example
  * 200 Response Example:
  * {
   "enabled": true,
   "retentionTimeDays": 0,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "compressSilence": true,
   "pinConfiguration": {
      "minimumLength": 0,
      "maximumLength": 0
   },
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": "",
   "voicemailExtension": "",
   "pinRequired": true
}
  */
VoicemailApi.prototype.putPolicy = function putPolicy(body) {
  var requestPath = '/api/v2/voicemail/policy';
  var requestQuery = {};
  var requestBody;

  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PUT', requestPath, requestQuery, requestBody);
};

/**
  * @summary Get a user's voicemail policy
  * @memberOf VoicemailApi
  * @instance
  * @param {string} userId - User ID
  * @example
  * 200 Response Example:
  * {
   "enabled": true,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "pin": "",
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": ""
}
  */
VoicemailApi.prototype.getUserpoliciesUserId = function getUserpoliciesUserId(userId) {
  var requestPath = '/api/v2/voicemail/userpolicies/{userId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  return this.session.makeRequest('GET', requestPath, requestQuery, requestBody);
};

/**
  * @summary Update a user's voicemail policy
  * @memberOf VoicemailApi
  * @instance
  * @param {string} userId - User ID
  * @param {} body - The user's voicemail policy
  * @example
  * Body Example:
  * {
   "enabled": true,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "pin": "",
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": ""
}
  * @example
  * 200 Response Example:
  * {
   "enabled": true,
   "alertTimeoutSeconds": 0,
   "minimumRecordingTimeSeconds": 0,
   "maximumRecordingTimeSeconds": 0,
   "unavailableMessageUri": "",
   "namePromptMessageUri": "",
   "fullMessageUri": "",
   "pin": "",
   "quotaSizeBytes": 0,
   "createdDate": "",
   "modifiedDate": ""
}
  */
VoicemailApi.prototype.patchUserpoliciesUserId = function patchUserpoliciesUserId(userId, body) {
  var requestPath = '/api/v2/voicemail/userpolicies/{userId}';
  var requestQuery = {};
  var requestBody;

  if (userId === undefined || userId === null) {
    throw new Error('Missing required  parameter: userId');
  }
  requestPath = requestPath.replace('{userId}', userId);
  if (body === undefined || body === null) {
    throw new Error('Missing required  parameter: body');
  }
  if (body !== undefined && body !== null) {
    requestBody = body;
  }
  return this.session.makeRequest('PATCH', requestPath, requestQuery, requestBody);
};

module.exports = VoicemailApi;

},{}],34:[function(require,module,exports){
'use strict';

var superagent = require('superagent');

//API VERSION - 0.61.2
/**
  * @description With the PureCloud Platform API, you can control all aspects of your PureCloud environment. With the APIs you can access the system configuration, manage conversations and more.
  * @class
  * @param {string} options.strategy - Authentication strategy: "token", "implicit", "client-credentials"
  * @param {string} options.environment - (Optional, default "mypurecloud.com") Environment the session use, e.g. mypurecloud.ie, mypurecloud.com.au, etc.
  * @param {string} options.clientId - (Optional) Client identifier for "implicit" or "client-credentials" strategies
  * @param {string} options.clientSecret - (Optional) Client secret key for "client-credentials" strategy
  * @param {string} options.redirectUrl - (Optional) Callback URL for "implicit" strategy
  * @param {string} options.token - (Optional) Existing token for "token" strategy
  * @param {string} options.storageKey - (Optional) Key to set in localStorage with the authentication token
  * @param {number} options.timeout - (Optional) Request timeout in millisecondw
  **/
function PureCloudSession(options) {
    if (!(this instanceof PureCloudSession)) {
        return new PureCloudSession(options);
    }

    if (!options.timeout) {
        options.timeout = 2000;
    }

    this.options = options;

    this._setValuesFromUrlHash();

    this.options.token = this._getToken();
    this.setEnvironment(this.options.environment);
}

/**
  * @description Sets the environment used by the session
  * @param {string} environment - (Optional, default "mypurecloud.com") Environment the session use, e.g. mypurecloud.ie, mypurecloud.com.au, etc.
  **/
PureCloudSession.prototype.setEnvironment = function setEnvironment(environment) {
    this.options.environment = environment || 'mypurecloud.com';
    this.apiUrl = 'https://api.' + this.options.environment;
    this.authUrl = 'https://login.' + this.options.environment;
};

/**
  * @description Sets an error handler to be called any time there is a 401 Unauthenticated error returned by the api
  * @param {function} errorHandler - The function to call.
  **/
PureCloudSession.prototype.setUnauthenticatedErrorHandler = function setEnvironment(errorHandler) {
    this.unauthenticatedErrorHandler = errorHandler;
};

/**
  * @description Attempts to login with the appropriate authentication strategy
  * @returns Promise which resolves on successful authentication, otherwise rejects with an error
  **/
PureCloudSession.prototype.login = function login() {
    var self = this;
    return this.options.token ? this._testTokenAccess().catch(function () {
        self._authenticate();
    }) : this._authenticate();
};

PureCloudSession.prototype._authenticate = function _authenticate() {
    var strategy = this.options.strategy;
    switch (strategy) {
        case 'token':
            var token = this.options.token;
            return this._loginWithToken(token);
        case 'implicit':
            var implicitclientId = this.options.clientId;
            var redirectUrl = this.options.redirectUrl;
            var state = this.options.state;
            return this._loginWithImplicitGrant(implicitclientId, redirectUrl, state);
        case 'client-credentials':
            var clientId = this.options.clientId;
            var clientSecret = this.options.clientSecret;
            return this._loginWithClientCredentials(clientId, clientSecret);
        default:
            throw new Error('Authentication strategy "' + strategy + '" is not supported.');
    }
};

PureCloudSession.prototype._testTokenAccess = function _testTokenAccess() {
    if (this.options.strategy === 'implicit') {
        var checkUrl = this.apiUrl + "/api/v2/users/me";
        return this._makeRequest('get', checkUrl);
    }
    return Promise.resolve();
};

PureCloudSession.prototype._loginWithToken = function _loginWithToken(token) {
    if (!token) {
        throw new Error('Options requires a "token" key for the "token" strategy');
    }
    return Promise.resolve();
};

PureCloudSession.prototype._loginWithImplicitGrant = function (clientId, redirectUrl, state) {
    var query = {
        response_type: 'token',
        client_id: encodeURIComponent(clientId),
        redirect_uri: encodeURI(redirectUrl),
        state: state
    };

    function qs(url, key) {
        var val = query[key];
        if (!val) return url;
        return url + '&' + key + '=' + val;
    }

    var url = Object.keys(query).reduce(qs, this.authUrl + '/authorize?');
    window.location.replace(url);
};

PureCloudSession.prototype._setValuesFromUrlHash = function setValuesFromUrlHash() {
    if (!(typeof window !== 'undefined' && window.location.hash)) return;
    var hash = window.location.hash.slice(1).split('&').reduce(function (obj, pair) {
        var keyValue = pair.split('=');
        obj[keyValue[0]] = keyValue[1];
        return obj;
    }, {});

    if (hash.access_token) this._setToken(hash.access_token);
    if (hash.state) this.options.state = hash.state;
};

PureCloudSession.prototype._loginWithClientCredentials = function (clientId, clientSecret) {
    var self = this;
    var url = this.authUrl + '/token';
    var data = { grant_type: 'client_credentials' };
    var request = this._baseRequest('post', url).set('Content-Type', 'application/x-www-form-urlencoded').auth(clientId, clientSecret).send(data);
    return this._sendRequest(request).then(function (body) {
        self._setToken(body.access_token);
    });
};

PureCloudSession.prototype._getToken = function _getToken() {
    if (this.options.token) return this.options.token;
    if (this.options.storageKey && PureCloudSession.hasLocalStorage) {
        return localStorage.getItem(this.options.storageKey);
    }
};

PureCloudSession.prototype._setToken = function _setToken(token) {
    this.options.token = token;
    if (this.options.storageKey && PureCloudSession.hasLocalStorage) {
        localStorage.setItem(this.options.storageKey, token);
    }
};

PureCloudSession.hasLocalStorage = function () {
    try {
        localStorage.setItem("mod", "mod");
        localStorage.removeItem("mod");
        return true;
    } catch (e) {
        return false;
    }
}.call(undefined);

/**
  * @description Deauthenticates the session and removes any stored token
  **/
PureCloudSession.prototype.logout = function logout() {
    if (PureCloudSession.hasLocalStorage) {
        this._setToken(null);
    }
    window.location.replace(this.authUrl + "/logout");
};

/**
  * @description Makes authenticated requests to PureCloud
  * @param {string} method - HTTP method verb, e.g. "get", "post"
  * @param {string} url - URL to request
  * @param {object} query - (Optional) query parameters
  * @param {object} body - (Optional) request body payload
  * @returns Promise resolving to the response body, otherwise rejects with an error
  */
PureCloudSession.prototype.makeRequest = function makeRequest(method, url, query, body) {
    return this._makeRequest(method, url, query, body);
};

PureCloudSession.prototype._makeRequest = function _makeRequest(method, url, query, body) {
    var bearer = 'bearer ' + this.options.token;

    if (this.debugLog) {
        var trace = method + " " + url;
        if (query && Object.keys(query).count > 0 && query[Object.keys(query)[0]]) {
            trace += "\nQuery Params: " + JSON.stringify(query);
        }

        if (body) {
            trace += "\nBody: " + JSON.stringify(body);
        }

        this.debugLog(trace);
    }

    var request = this._baseRequest(method, url).set('Authorization', bearer).query(query).send(body);
    return this._sendRequest(request);
};

PureCloudSession.prototype._baseRequest = function _baseRequest(method, url) {
    method = method.toLowerCase();
    if (url.charAt(0) === '/') url = this.apiUrl + url;

    var request = superagent[method](url).type('json').accept('json').timeout(this.options.timeout);

    if (typeof window === 'undefined') {
        var userAgent = 'PureCloud SDK/Javascript 0.61.2';
        request = request.set('User-Agent', userAgent);
    }

    return request;
};

PureCloudSession.prototype._sendRequest = function _sendRequest(request) {
    var self = this;
    return new Promise(function (resolve, reject) {
        request.end(function (error, res) {
            if (self.debugLog) {
                if (res) {
                    self.debugLog(res.headers);
                }

                self.debugLog(error || res.error || res.body);
            }

            if (res && res.unauthorized && self.unauthenticatedErrorHandler) {
                self.unauthenticatedErrorHandler(error);
            }

            if (error) {
                return reject(error);
            }
            if (res.error) {
                return reject(res);
            }
            resolve(res.body);
        });
    });
};

/**
  * @description Conveinence method for making GET requests
  * @param {string} url - URL to request
  * @param {object} query - (Optional) query parameters
  * @returns Promise resolving to the response body, otherwise rejects with an error
  */
PureCloudSession.prototype.get = function get(url, query) {
    return this.makeRequest('get', url, query);
};

module.exports = PureCloudSession;

},{"superagent":37}],35:[function(require,module,exports){

/**
 * Expose `Emitter`.
 */

if (typeof module !== 'undefined') {
  module.exports = Emitter;
}

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  function on() {
    this.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks['$' + event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks['$' + event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }
  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};
  var args = [].slice.call(arguments, 1)
    , callbacks = this._callbacks['$' + event];

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks['$' + event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};

},{}],36:[function(require,module,exports){

/**
 * Reduce `arr` with `fn`.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Mixed} initial
 *
 * TODO: combatible error handling?
 */

module.exports = function(arr, fn, initial){  
  var idx = 0;
  var len = arr.length;
  var curr = arguments.length == 3
    ? initial
    : arr[idx++];

  while (idx < len) {
    curr = fn.call(null, curr, arr[idx], ++idx, arr);
  }
  
  return curr;
};
},{}],37:[function(require,module,exports){
/**
 * Module dependencies.
 */

var Emitter = require('emitter');
var reduce = require('reduce');
var requestBase = require('./request-base');
var isObject = require('./is-object');

/**
 * Root reference for iframes.
 */

var root;
if (typeof window !== 'undefined') { // Browser window
  root = window;
} else if (typeof self !== 'undefined') { // Web Worker
  root = self;
} else { // Other environments
  root = this;
}

/**
 * Noop.
 */

function noop(){};

/**
 * Check if `obj` is a host object,
 * we don't want to serialize these :)
 *
 * TODO: future proof, move to compoent land
 *
 * @param {Object} obj
 * @return {Boolean}
 * @api private
 */

function isHost(obj) {
  var str = {}.toString.call(obj);

  switch (str) {
    case '[object File]':
    case '[object Blob]':
    case '[object FormData]':
      return true;
    default:
      return false;
  }
}

/**
 * Expose `request`.
 */

var request = module.exports = require('./request').bind(null, Request);

/**
 * Determine XHR.
 */

request.getXHR = function () {
  if (root.XMLHttpRequest
      && (!root.location || 'file:' != root.location.protocol
          || !root.ActiveXObject)) {
    return new XMLHttpRequest;
  } else {
    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}
    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}
    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}
    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}
  }
  return false;
};

/**
 * Removes leading and trailing whitespace, added to support IE.
 *
 * @param {String} s
 * @return {String}
 * @api private
 */

var trim = ''.trim
  ? function(s) { return s.trim(); }
  : function(s) { return s.replace(/(^\s*|\s*$)/g, ''); };

/**
 * Serialize the given `obj`.
 *
 * @param {Object} obj
 * @return {String}
 * @api private
 */

function serialize(obj) {
  if (!isObject(obj)) return obj;
  var pairs = [];
  for (var key in obj) {
    if (null != obj[key]) {
      pushEncodedKeyValuePair(pairs, key, obj[key]);
        }
      }
  return pairs.join('&');
}

/**
 * Helps 'serialize' with serializing arrays.
 * Mutates the pairs array.
 *
 * @param {Array} pairs
 * @param {String} key
 * @param {Mixed} val
 */

function pushEncodedKeyValuePair(pairs, key, val) {
  if (Array.isArray(val)) {
    return val.forEach(function(v) {
      pushEncodedKeyValuePair(pairs, key, v);
    });
  }
  pairs.push(encodeURIComponent(key)
    + '=' + encodeURIComponent(val));
}

/**
 * Expose serialization method.
 */

 request.serializeObject = serialize;

 /**
  * Parse the given x-www-form-urlencoded `str`.
  *
  * @param {String} str
  * @return {Object}
  * @api private
  */

function parseString(str) {
  var obj = {};
  var pairs = str.split('&');
  var parts;
  var pair;

  for (var i = 0, len = pairs.length; i < len; ++i) {
    pair = pairs[i];
    parts = pair.split('=');
    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);
  }

  return obj;
}

/**
 * Expose parser.
 */

request.parseString = parseString;

/**
 * Default MIME type map.
 *
 *     superagent.types.xml = 'application/xml';
 *
 */

request.types = {
  html: 'text/html',
  json: 'application/json',
  xml: 'application/xml',
  urlencoded: 'application/x-www-form-urlencoded',
  'form': 'application/x-www-form-urlencoded',
  'form-data': 'application/x-www-form-urlencoded'
};

/**
 * Default serialization map.
 *
 *     superagent.serialize['application/xml'] = function(obj){
 *       return 'generated xml here';
 *     };
 *
 */

 request.serialize = {
   'application/x-www-form-urlencoded': serialize,
   'application/json': JSON.stringify
 };

 /**
  * Default parsers.
  *
  *     superagent.parse['application/xml'] = function(str){
  *       return { object parsed from str };
  *     };
  *
  */

request.parse = {
  'application/x-www-form-urlencoded': parseString,
  'application/json': JSON.parse
};

/**
 * Parse the given header `str` into
 * an object containing the mapped fields.
 *
 * @param {String} str
 * @return {Object}
 * @api private
 */

function parseHeader(str) {
  var lines = str.split(/\r?\n/);
  var fields = {};
  var index;
  var line;
  var field;
  var val;

  lines.pop(); // trailing CRLF

  for (var i = 0, len = lines.length; i < len; ++i) {
    line = lines[i];
    index = line.indexOf(':');
    field = line.slice(0, index).toLowerCase();
    val = trim(line.slice(index + 1));
    fields[field] = val;
  }

  return fields;
}

/**
 * Check if `mime` is json or has +json structured syntax suffix.
 *
 * @param {String} mime
 * @return {Boolean}
 * @api private
 */

function isJSON(mime) {
  return /[\/+]json\b/.test(mime);
}

/**
 * Return the mime type for the given `str`.
 *
 * @param {String} str
 * @return {String}
 * @api private
 */

function type(str){
  return str.split(/ *; */).shift();
};

/**
 * Return header field parameters.
 *
 * @param {String} str
 * @return {Object}
 * @api private
 */

function params(str){
  return reduce(str.split(/ *; */), function(obj, str){
    var parts = str.split(/ *= */)
      , key = parts.shift()
      , val = parts.shift();

    if (key && val) obj[key] = val;
    return obj;
  }, {});
};

/**
 * Initialize a new `Response` with the given `xhr`.
 *
 *  - set flags (.ok, .error, etc)
 *  - parse header
 *
 * Examples:
 *
 *  Aliasing `superagent` as `request` is nice:
 *
 *      request = superagent;
 *
 *  We can use the promise-like API, or pass callbacks:
 *
 *      request.get('/').end(function(res){});
 *      request.get('/', function(res){});
 *
 *  Sending data can be chained:
 *
 *      request
 *        .post('/user')
 *        .send({ name: 'tj' })
 *        .end(function(res){});
 *
 *  Or passed to `.send()`:
 *
 *      request
 *        .post('/user')
 *        .send({ name: 'tj' }, function(res){});
 *
 *  Or passed to `.post()`:
 *
 *      request
 *        .post('/user', { name: 'tj' })
 *        .end(function(res){});
 *
 * Or further reduced to a single call for simple cases:
 *
 *      request
 *        .post('/user', { name: 'tj' }, function(res){});
 *
 * @param {XMLHTTPRequest} xhr
 * @param {Object} options
 * @api private
 */

function Response(req, options) {
  options = options || {};
  this.req = req;
  this.xhr = this.req.xhr;
  // responseText is accessible only if responseType is '' or 'text' and on older browsers
  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')
     ? this.xhr.responseText
     : null;
  this.statusText = this.req.xhr.statusText;
  this.setStatusProperties(this.xhr.status);
  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());
  // getAllResponseHeaders sometimes falsely returns "" for CORS requests, but
  // getResponseHeader still works. so we get content-type even if getting
  // other headers fails.
  this.header['content-type'] = this.xhr.getResponseHeader('content-type');
  this.setHeaderProperties(this.header);
  this.body = this.req.method != 'HEAD'
    ? this.parseBody(this.text ? this.text : this.xhr.response)
    : null;
}

/**
 * Get case-insensitive `field` value.
 *
 * @param {String} field
 * @return {String}
 * @api public
 */

Response.prototype.get = function(field){
  return this.header[field.toLowerCase()];
};

/**
 * Set header related properties:
 *
 *   - `.type` the content type without params
 *
 * A response of "Content-Type: text/plain; charset=utf-8"
 * will provide you with a `.type` of "text/plain".
 *
 * @param {Object} header
 * @api private
 */

Response.prototype.setHeaderProperties = function(header){
  // content-type
  var ct = this.header['content-type'] || '';
  this.type = type(ct);

  // params
  var obj = params(ct);
  for (var key in obj) this[key] = obj[key];
};

/**
 * Parse the given body `str`.
 *
 * Used for auto-parsing of bodies. Parsers
 * are defined on the `superagent.parse` object.
 *
 * @param {String} str
 * @return {Mixed}
 * @api private
 */

Response.prototype.parseBody = function(str){
  var parse = request.parse[this.type];
  if (!parse && isJSON(this.type)) {
    parse = request.parse['application/json'];
  }
  return parse && str && (str.length || str instanceof Object)
    ? parse(str)
    : null;
};

/**
 * Set flags such as `.ok` based on `status`.
 *
 * For example a 2xx response will give you a `.ok` of __true__
 * whereas 5xx will be __false__ and `.error` will be __true__. The
 * `.clientError` and `.serverError` are also available to be more
 * specific, and `.statusType` is the class of error ranging from 1..5
 * sometimes useful for mapping respond colors etc.
 *
 * "sugar" properties are also defined for common cases. Currently providing:
 *
 *   - .noContent
 *   - .badRequest
 *   - .unauthorized
 *   - .notAcceptable
 *   - .notFound
 *
 * @param {Number} status
 * @api private
 */

Response.prototype.setStatusProperties = function(status){
  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request
  if (status === 1223) {
    status = 204;
  }

  var type = status / 100 | 0;

  // status / class
  this.status = this.statusCode = status;
  this.statusType = type;

  // basics
  this.info = 1 == type;
  this.ok = 2 == type;
  this.clientError = 4 == type;
  this.serverError = 5 == type;
  this.error = (4 == type || 5 == type)
    ? this.toError()
    : false;

  // sugar
  this.accepted = 202 == status;
  this.noContent = 204 == status;
  this.badRequest = 400 == status;
  this.unauthorized = 401 == status;
  this.notAcceptable = 406 == status;
  this.notFound = 404 == status;
  this.forbidden = 403 == status;
};

/**
 * Return an `Error` representative of this response.
 *
 * @return {Error}
 * @api public
 */

Response.prototype.toError = function(){
  var req = this.req;
  var method = req.method;
  var url = req.url;

  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';
  var err = new Error(msg);
  err.status = this.status;
  err.method = method;
  err.url = url;

  return err;
};

/**
 * Expose `Response`.
 */

request.Response = Response;

/**
 * Initialize a new `Request` with the given `method` and `url`.
 *
 * @param {String} method
 * @param {String} url
 * @api public
 */

function Request(method, url) {
  var self = this;
  this._query = this._query || [];
  this.method = method;
  this.url = url;
  this.header = {}; // preserves header name case
  this._header = {}; // coerces header names to lowercase
  this.on('end', function(){
    var err = null;
    var res = null;

    try {
      res = new Response(self);
    } catch(e) {
      err = new Error('Parser is unable to parse the response');
      err.parse = true;
      err.original = e;
      // issue #675: return the raw response if the response parsing fails
      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;
      // issue #876: return the http status code if the response parsing fails
      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;
      return self.callback(err);
    }

    self.emit('response', res);

    if (err) {
      return self.callback(err, res);
    }

    if (res.status >= 200 && res.status < 300) {
      return self.callback(err, res);
    }

    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');
    new_err.original = err;
    new_err.response = res;
    new_err.status = res.status;

    self.callback(new_err, res);
  });
}

/**
 * Mixin `Emitter` and `requestBase`.
 */

Emitter(Request.prototype);
for (var key in requestBase) {
  Request.prototype[key] = requestBase[key];
}

/**
 * Abort the request, and clear potential timeout.
 *
 * @return {Request}
 * @api public
 */

Request.prototype.abort = function(){
  if (this.aborted) return;
  this.aborted = true;
  this.xhr && this.xhr.abort();
  this.clearTimeout();
  this.emit('abort');
  return this;
};

/**
 * Set Content-Type to `type`, mapping values from `request.types`.
 *
 * Examples:
 *
 *      superagent.types.xml = 'application/xml';
 *
 *      request.post('/')
 *        .type('xml')
 *        .send(xmlstring)
 *        .end(callback);
 *
 *      request.post('/')
 *        .type('application/xml')
 *        .send(xmlstring)
 *        .end(callback);
 *
 * @param {String} type
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.type = function(type){
  this.set('Content-Type', request.types[type] || type);
  return this;
};

/**
 * Set responseType to `val`. Presently valid responseTypes are 'blob' and 
 * 'arraybuffer'.
 *
 * Examples:
 *
 *      req.get('/')
 *        .responseType('blob')
 *        .end(callback);
 *
 * @param {String} val
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.responseType = function(val){
  this._responseType = val;
  return this;
};

/**
 * Set Accept to `type`, mapping values from `request.types`.
 *
 * Examples:
 *
 *      superagent.types.json = 'application/json';
 *
 *      request.get('/agent')
 *        .accept('json')
 *        .end(callback);
 *
 *      request.get('/agent')
 *        .accept('application/json')
 *        .end(callback);
 *
 * @param {String} accept
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.accept = function(type){
  this.set('Accept', request.types[type] || type);
  return this;
};

/**
 * Set Authorization field value with `user` and `pass`.
 *
 * @param {String} user
 * @param {String} pass
 * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.auth = function(user, pass, options){
  if (!options) {
    options = {
      type: 'basic'
    }
  }

  switch (options.type) {
    case 'basic':
      var str = btoa(user + ':' + pass);
      this.set('Authorization', 'Basic ' + str);
    break;

    case 'auto':
      this.username = user;
      this.password = pass;
    break;
  }
  return this;
};

/**
* Add query-string `val`.
*
* Examples:
*
*   request.get('/shoes')
*     .query('size=10')
*     .query({ color: 'blue' })
*
* @param {Object|String} val
* @return {Request} for chaining
* @api public
*/

Request.prototype.query = function(val){
  if ('string' != typeof val) val = serialize(val);
  if (val) this._query.push(val);
  return this;
};

/**
 * Queue the given `file` as an attachment to the specified `field`,
 * with optional `filename`.
 *
 * ``` js
 * request.post('/upload')
 *   .attach(new Blob(['<a id="a"><b id="b">hey!</b></a>'], { type: "text/html"}))
 *   .end(callback);
 * ```
 *
 * @param {String} field
 * @param {Blob|File} file
 * @param {String} filename
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.attach = function(field, file, filename){
  this._getFormData().append(field, file, filename || file.name);
  return this;
};

Request.prototype._getFormData = function(){
  if (!this._formData) {
    this._formData = new root.FormData();
  }
  return this._formData;
};

/**
 * Send `data` as the request body, defaulting the `.type()` to "json" when
 * an object is given.
 *
 * Examples:
 *
 *       // manual json
 *       request.post('/user')
 *         .type('json')
 *         .send('{"name":"tj"}')
 *         .end(callback)
 *
 *       // auto json
 *       request.post('/user')
 *         .send({ name: 'tj' })
 *         .end(callback)
 *
 *       // manual x-www-form-urlencoded
 *       request.post('/user')
 *         .type('form')
 *         .send('name=tj')
 *         .end(callback)
 *
 *       // auto x-www-form-urlencoded
 *       request.post('/user')
 *         .type('form')
 *         .send({ name: 'tj' })
 *         .end(callback)
 *
 *       // defaults to x-www-form-urlencoded
  *      request.post('/user')
  *        .send('name=tobi')
  *        .send('species=ferret')
  *        .end(callback)
 *
 * @param {String|Object} data
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.send = function(data){
  var obj = isObject(data);
  var type = this._header['content-type'];

  // merge
  if (obj && isObject(this._data)) {
    for (var key in data) {
      this._data[key] = data[key];
    }
  } else if ('string' == typeof data) {
    if (!type) this.type('form');
    type = this._header['content-type'];
    if ('application/x-www-form-urlencoded' == type) {
      this._data = this._data
        ? this._data + '&' + data
        : data;
    } else {
      this._data = (this._data || '') + data;
    }
  } else {
    this._data = data;
  }

  if (!obj || isHost(data)) return this;
  if (!type) this.type('json');
  return this;
};

/**
 * @deprecated
 */
Response.prototype.parse = function serialize(fn){
  if (root.console) {
    console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0");
  }
  this.serialize(fn);
  return this;
};

Response.prototype.serialize = function serialize(fn){
  this._parser = fn;
  return this;
};

/**
 * Invoke the callback with `err` and `res`
 * and handle arity check.
 *
 * @param {Error} err
 * @param {Response} res
 * @api private
 */

Request.prototype.callback = function(err, res){
  var fn = this._callback;
  this.clearTimeout();
  fn(err, res);
};

/**
 * Invoke callback with x-domain error.
 *
 * @api private
 */

Request.prototype.crossDomainError = function(){
  var err = new Error('Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');
  err.crossDomain = true;

  err.status = this.status;
  err.method = this.method;
  err.url = this.url;

  this.callback(err);
};

/**
 * Invoke callback with timeout error.
 *
 * @api private
 */

Request.prototype.timeoutError = function(){
  var timeout = this._timeout;
  var err = new Error('timeout of ' + timeout + 'ms exceeded');
  err.timeout = timeout;
  this.callback(err);
};

/**
 * Enable transmission of cookies with x-domain requests.
 *
 * Note that for this to work the origin must not be
 * using "Access-Control-Allow-Origin" with a wildcard,
 * and also must set "Access-Control-Allow-Credentials"
 * to "true".
 *
 * @api public
 */

Request.prototype.withCredentials = function(){
  this._withCredentials = true;
  return this;
};

/**
 * Initiate request, invoking callback `fn(res)`
 * with an instanceof `Response`.
 *
 * @param {Function} fn
 * @return {Request} for chaining
 * @api public
 */

Request.prototype.end = function(fn){
  var self = this;
  var xhr = this.xhr = request.getXHR();
  var query = this._query.join('&');
  var timeout = this._timeout;
  var data = this._formData || this._data;

  // store callback
  this._callback = fn || noop;

  // state change
  xhr.onreadystatechange = function(){
    if (4 != xhr.readyState) return;

    // In IE9, reads to any property (e.g. status) off of an aborted XHR will
    // result in the error "Could not complete the operation due to error c00c023f"
    var status;
    try { status = xhr.status } catch(e) { status = 0; }

    if (0 == status) {
      if (self.timedout) return self.timeoutError();
      if (self.aborted) return;
      return self.crossDomainError();
    }
    self.emit('end');
  };

  // progress
  var handleProgress = function(e){
    if (e.total > 0) {
      e.percent = e.loaded / e.total * 100;
    }
    e.direction = 'download';
    self.emit('progress', e);
  };
  if (this.hasListeners('progress')) {
    xhr.onprogress = handleProgress;
  }
  try {
    if (xhr.upload && this.hasListeners('progress')) {
      xhr.upload.onprogress = handleProgress;
    }
  } catch(e) {
    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.
    // Reported here:
    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context
  }

  // timeout
  if (timeout && !this._timer) {
    this._timer = setTimeout(function(){
      self.timedout = true;
      self.abort();
    }, timeout);
  }

  // querystring
  if (query) {
    query = request.serializeObject(query);
    this.url += ~this.url.indexOf('?')
      ? '&' + query
      : '?' + query;
  }

  // initiate request
  if (this.username && this.password) {
    xhr.open(this.method, this.url, true, this.username, this.password);
  } else {
    xhr.open(this.method, this.url, true);
  }

  // CORS
  if (this._withCredentials) xhr.withCredentials = true;

  // body
  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {
    // serialize stuff
    var contentType = this._header['content-type'];
    var serialize = this._parser || request.serialize[contentType ? contentType.split(';')[0] : ''];
    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];
    if (serialize) data = serialize(data);
  }

  // set header fields
  for (var field in this.header) {
    if (null == this.header[field]) continue;
    xhr.setRequestHeader(field, this.header[field]);
  }

  if (this._responseType) {
    xhr.responseType = this._responseType;
  }

  // send stuff
  this.emit('request', this);

  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)
  // We need null here if data is undefined
  xhr.send(typeof data !== 'undefined' ? data : null);
  return this;
};


/**
 * Expose `Request`.
 */

request.Request = Request;

/**
 * GET `url` with optional callback `fn(res)`.
 *
 * @param {String} url
 * @param {Mixed|Function} data or fn
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

request.get = function(url, data, fn){
  var req = request('GET', url);
  if ('function' == typeof data) fn = data, data = null;
  if (data) req.query(data);
  if (fn) req.end(fn);
  return req;
};

/**
 * HEAD `url` with optional callback `fn(res)`.
 *
 * @param {String} url
 * @param {Mixed|Function} data or fn
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

request.head = function(url, data, fn){
  var req = request('HEAD', url);
  if ('function' == typeof data) fn = data, data = null;
  if (data) req.send(data);
  if (fn) req.end(fn);
  return req;
};

/**
 * DELETE `url` with optional callback `fn(res)`.
 *
 * @param {String} url
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

function del(url, fn){
  var req = request('DELETE', url);
  if (fn) req.end(fn);
  return req;
};

request['del'] = del;
request['delete'] = del;

/**
 * PATCH `url` with optional `data` and callback `fn(res)`.
 *
 * @param {String} url
 * @param {Mixed} data
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

request.patch = function(url, data, fn){
  var req = request('PATCH', url);
  if ('function' == typeof data) fn = data, data = null;
  if (data) req.send(data);
  if (fn) req.end(fn);
  return req;
};

/**
 * POST `url` with optional `data` and callback `fn(res)`.
 *
 * @param {String} url
 * @param {Mixed} data
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

request.post = function(url, data, fn){
  var req = request('POST', url);
  if ('function' == typeof data) fn = data, data = null;
  if (data) req.send(data);
  if (fn) req.end(fn);
  return req;
};

/**
 * PUT `url` with optional `data` and callback `fn(res)`.
 *
 * @param {String} url
 * @param {Mixed|Function} data or fn
 * @param {Function} fn
 * @return {Request}
 * @api public
 */

request.put = function(url, data, fn){
  var req = request('PUT', url);
  if ('function' == typeof data) fn = data, data = null;
  if (data) req.send(data);
  if (fn) req.end(fn);
  return req;
};

},{"./is-object":38,"./request":40,"./request-base":39,"emitter":35,"reduce":36}],38:[function(require,module,exports){
/**
 * Check if `obj` is an object.
 *
 * @param {Object} obj
 * @return {Boolean}
 * @api private
 */

function isObject(obj) {
  return null != obj && 'object' == typeof obj;
}

module.exports = isObject;

},{}],39:[function(require,module,exports){
/**
 * Module of mixed-in functions shared between node and client code
 */
var isObject = require('./is-object');

/**
 * Clear previous timeout.
 *
 * @return {Request} for chaining
 * @api public
 */

exports.clearTimeout = function _clearTimeout(){
  this._timeout = 0;
  clearTimeout(this._timer);
  return this;
};

/**
 * Force given parser
 *
 * Sets the body parser no matter type.
 *
 * @param {Function}
 * @api public
 */

exports.parse = function parse(fn){
  this._parser = fn;
  return this;
};

/**
 * Set timeout to `ms`.
 *
 * @param {Number} ms
 * @return {Request} for chaining
 * @api public
 */

exports.timeout = function timeout(ms){
  this._timeout = ms;
  return this;
};

/**
 * Faux promise support
 *
 * @param {Function} fulfill
 * @param {Function} reject
 * @return {Request}
 */

exports.then = function then(fulfill, reject) {
  return this.end(function(err, res) {
    err ? reject(err) : fulfill(res);
  });
}

/**
 * Allow for extension
 */

exports.use = function use(fn) {
  fn(this);
  return this;
}


/**
 * Get request header `field`.
 * Case-insensitive.
 *
 * @param {String} field
 * @return {String}
 * @api public
 */

exports.get = function(field){
  return this._header[field.toLowerCase()];
};

/**
 * Get case-insensitive header `field` value.
 * This is a deprecated internal API. Use `.get(field)` instead.
 *
 * (getHeader is no longer used internally by the superagent code base)
 *
 * @param {String} field
 * @return {String}
 * @api private
 * @deprecated
 */

exports.getHeader = exports.get;

/**
 * Set header `field` to `val`, or multiple fields with one object.
 * Case-insensitive.
 *
 * Examples:
 *
 *      req.get('/')
 *        .set('Accept', 'application/json')
 *        .set('X-API-Key', 'foobar')
 *        .end(callback);
 *
 *      req.get('/')
 *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })
 *        .end(callback);
 *
 * @param {String|Object} field
 * @param {String} val
 * @return {Request} for chaining
 * @api public
 */

exports.set = function(field, val){
  if (isObject(field)) {
    for (var key in field) {
      this.set(key, field[key]);
    }
    return this;
  }
  this._header[field.toLowerCase()] = val;
  this.header[field] = val;
  return this;
};

/**
 * Remove header `field`.
 * Case-insensitive.
 *
 * Example:
 *
 *      req.get('/')
 *        .unset('User-Agent')
 *        .end(callback);
 *
 * @param {String} field
 */
exports.unset = function(field){
  delete this._header[field.toLowerCase()];
  delete this.header[field];
  return this;
};

/**
 * Write the field `name` and `val` for "multipart/form-data"
 * request bodies.
 *
 * ``` js
 * request.post('/upload')
 *   .field('foo', 'bar')
 *   .end(callback);
 * ```
 *
 * @param {String} name
 * @param {String|Blob|File|Buffer|fs.ReadStream} val
 * @return {Request} for chaining
 * @api public
 */
exports.field = function(name, val) {
  this._getFormData().append(name, val);
  return this;
};

},{"./is-object":38}],40:[function(require,module,exports){
// The node and browser modules expose versions of this with the
// appropriate constructor function bound as first argument
/**
 * Issue a request:
 *
 * Examples:
 *
 *    request('GET', '/users').end(callback)
 *    request('/users').end(callback)
 *    request('/users', callback)
 *
 * @param {String} method
 * @param {String|Function} url or callback
 * @return {Request}
 * @api public
 */

function request(RequestConstructor, method, url) {
  // callback
  if ('function' == typeof url) {
    return new RequestConstructor('GET', method).end(url);
  }

  // url first
  if (2 == arguments.length) {
    return new RequestConstructor('GET', method);
  }

  return new RequestConstructor(method, url);
}

module.exports = request;

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJnZW4vaW5kZXguanMiLCJnZW4vcGFydGlhbHMvQWxlcnRpbmdBcGkuanMiLCJnZW4vcGFydGlhbHMvQW5hbHl0aWNzQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL0F0dHJpYnV0ZXNBcGkuanMiLCJnZW4vcGFydGlhbHMvQXV0aG9yaXphdGlvbkFwaS5qcyIsImdlbi9wYXJ0aWFscy9Db25maWd1cmF0aW9uQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL0NvbnRlbnRNYW5hZ2VtZW50QXBpLmpzIiwiZ2VuL3BhcnRpYWxzL0NvbnZlcnNhdGlvbnNBcGkuanMiLCJnZW4vcGFydGlhbHMvRmF4QXBpLmpzIiwiZ2VuL3BhcnRpYWxzL0dlb2xvY2F0aW9uQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL0dyZWV0aW5nc0FwaS5qcyIsImdlbi9wYXJ0aWFscy9Hcm91cHNBcGkuanMiLCJnZW4vcGFydGlhbHMvSWRlbnRpdHlQcm92aWRlckFwaS5qcyIsImdlbi9wYXJ0aWFscy9MYW5ndWFnZXNBcGkuanMiLCJnZW4vcGFydGlhbHMvTG9jYXRpb25zQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL05vdGlmaWNhdGlvbnNBcGkuanMiLCJnZW4vcGFydGlhbHMvT0F1dGhBcGkuanMiLCJnZW4vcGFydGlhbHMvT3JnYW5pemF0aW9uQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL091dGJvdW5kQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1ByZXNlbmNlQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1F1YWxpdHlBcGkuanMiLCJnZW4vcGFydGlhbHMvUmVjb3JkaW5nQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1Jlc3BvbnNlTWFuYWdlbWVudEFwaS5qcyIsImdlbi9wYXJ0aWFscy9Sb3V0aW5nQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1NlYXJjaEFwaS5qcyIsImdlbi9wYXJ0aWFscy9TdGF0aW9uc0FwaS5qcyIsImdlbi9wYXJ0aWFscy9TdWdnZXN0QXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1RlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkuanMiLCJnZW4vcGFydGlhbHMvVG9rZW5zQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1VzZXJSZWNvcmRpbmdzQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1VzZXJzQXBpLmpzIiwiZ2VuL3BhcnRpYWxzL1V0aWxpdGllc0FwaS5qcyIsImdlbi9wYXJ0aWFscy9Wb2ljZW1haWxBcGkuanMiLCJnZW4vcGFydGlhbHMvcHVyZWNsb3Vkc2Vzc2lvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1Y2UtY29tcG9uZW50L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2NsaWVudC5qcyIsIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvcmVxdWVzdC1iYXNlLmpzIiwibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3JlcXVlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQTs7QUFFQSxRQUFRLFdBQVIsR0FBc0IsUUFBUSx3QkFBUixDQUF0QjtBQUNBLFFBQVEsZ0JBQVIsR0FBMkIsUUFBUSw2QkFBUixDQUEzQjtBQUNBLFFBQVEsWUFBUixHQUF1QixRQUFRLHlCQUFSLENBQXZCO0FBQ0EsUUFBUSxVQUFSLEdBQXFCLFFBQVEsdUJBQVIsQ0FBckI7QUFDQSxRQUFRLFVBQVIsR0FBcUIsUUFBUSx1QkFBUixDQUFyQjtBQUNBLFFBQVEsUUFBUixHQUFtQixRQUFRLHFCQUFSLENBQW5CO0FBQ0EsUUFBUSxhQUFSLEdBQXdCLFFBQVEsMEJBQVIsQ0FBeEI7QUFDQSxRQUFRLGdCQUFSLEdBQTJCLFFBQVEsNkJBQVIsQ0FBM0I7QUFDQSxRQUFRLFlBQVIsR0FBdUIsUUFBUSx5QkFBUixDQUF2QjtBQUNBLFFBQVEseUJBQVIsR0FBb0MsUUFB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcmpDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBqc2hpbnQgbm9kZTogdHJ1ZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuQWxlcnRpbmdBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL0FsZXJ0aW5nQXBpJyk7XG5leHBvcnRzLkNvbnZlcnNhdGlvbnNBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL0NvbnZlcnNhdGlvbnNBcGknKTtcbmV4cG9ydHMuQW5hbHl0aWNzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9BbmFseXRpY3NBcGknKTtcbmV4cG9ydHMuUXVhbGl0eUFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvUXVhbGl0eUFwaScpO1xuZXhwb3J0cy5Sb3V0aW5nQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Sb3V0aW5nQXBpJyk7XG5leHBvcnRzLlVzZXJzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Vc2Vyc0FwaScpO1xuZXhwb3J0cy5BdHRyaWJ1dGVzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9BdHRyaWJ1dGVzQXBpJyk7XG5leHBvcnRzLkF1dGhvcml6YXRpb25BcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL0F1dGhvcml6YXRpb25BcGknKTtcbmV4cG9ydHMuVXRpbGl0aWVzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9VdGlsaXRpZXNBcGknKTtcbmV4cG9ydHMuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaScpO1xuZXhwb3J0cy5Db250ZW50TWFuYWdlbWVudEFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvQ29udGVudE1hbmFnZW1lbnRBcGknKTtcbmV4cG9ydHMuUmVjb3JkaW5nQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9SZWNvcmRpbmdBcGknKTtcbmV4cG9ydHMuRmF4QXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9GYXhBcGknKTtcbmV4cG9ydHMuR2VvbG9jYXRpb25BcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL0dlb2xvY2F0aW9uQXBpJyk7XG5leHBvcnRzLkdyZWV0aW5nc0FwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvR3JlZXRpbmdzQXBpJyk7XG5leHBvcnRzLkdyb3Vwc0FwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvR3JvdXBzQXBpJyk7XG5leHBvcnRzLlNlYXJjaEFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvU2VhcmNoQXBpJyk7XG5leHBvcnRzLklkZW50aXR5UHJvdmlkZXJBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL0lkZW50aXR5UHJvdmlkZXJBcGknKTtcbmV4cG9ydHMuTGFuZ3VhZ2VzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9MYW5ndWFnZXNBcGknKTtcbmV4cG9ydHMuTG9jYXRpb25zQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Mb2NhdGlvbnNBcGknKTtcbmV4cG9ydHMuTm90aWZpY2F0aW9uc0FwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvTm90aWZpY2F0aW9uc0FwaScpO1xuZXhwb3J0cy5PQXV0aEFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvT0F1dGhBcGknKTtcbmV4cG9ydHMuT3JnYW5pemF0aW9uQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Pcmdhbml6YXRpb25BcGknKTtcbmV4cG9ydHMuT3V0Ym91bmRBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL091dGJvdW5kQXBpJyk7XG5leHBvcnRzLlByZXNlbmNlQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9QcmVzZW5jZUFwaScpO1xuZXhwb3J0cy5Db25maWd1cmF0aW9uQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Db25maWd1cmF0aW9uQXBpJyk7XG5leHBvcnRzLlJlc3BvbnNlTWFuYWdlbWVudEFwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvUmVzcG9uc2VNYW5hZ2VtZW50QXBpJyk7XG5leHBvcnRzLlN1Z2dlc3RBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL1N1Z2dlc3RBcGknKTtcbmV4cG9ydHMuU3RhdGlvbnNBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL1N0YXRpb25zQXBpJyk7XG5leHBvcnRzLlRva2Vuc0FwaSA9IHJlcXVpcmUoJy4vcGFydGlhbHMvVG9rZW5zQXBpJyk7XG5leHBvcnRzLlVzZXJSZWNvcmRpbmdzQXBpID0gcmVxdWlyZSgnLi9wYXJ0aWFscy9Vc2VyUmVjb3JkaW5nc0FwaScpO1xuZXhwb3J0cy5Wb2ljZW1haWxBcGkgPSByZXF1aXJlKCcuL3BhcnRpYWxzL1ZvaWNlbWFpbEFwaScpO1xuZXhwb3J0cy5QdXJlQ2xvdWRTZXNzaW9uPSByZXF1aXJlKCcuL3BhcnRpYWxzL3B1cmVjbG91ZHNlc3Npb24nKTtcbiIsIi8qKlxuKiBAY2xhc3MgQWxlcnRpbmdBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uQWxlcnRpbmdBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gQWxlcnRpbmdBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIEFsZXJ0aW5nQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IEFsZXJ0aW5nQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGVydGluZ0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGhlYXJ0IGJlYXQgYWxlcnQgbGlzdC5cbiAgKiBAbWVtYmVyT2YgQWxlcnRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5nZXRIZWFydGJlYXRBbGVydHMgPSBmdW5jdGlvbiBnZXRIZWFydGJlYXRBbGVydHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9oZWFydGJlYXQvYWxlcnRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgaGVhcnQgYmVhdCBhbGVydFxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydElkIC0gQWxlcnQgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzZW5kZXJJZFwiOiBcIlwiLFxuICAgXCJoZWFydEJlYXRUaW1lb3V0SW5NaW51dGVzXCI6IDAsXG4gICBcInJ1bGVJZFwiOiBcIlwiLFxuICAgXCJzdGFydERhdGVcIjogXCJcIixcbiAgIFwiZW5kRGF0ZVwiOiBcIlwiLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXSxcbiAgIFwicnVsZVR5cGVcIjogXCJcIixcbiAgIFwicnVsZVVyaVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5nZXRIZWFydGJlYXRBbGVydHNBbGVydElkID0gZnVuY3Rpb24gZ2V0SGVhcnRiZWF0QWxlcnRzQWxlcnRJZChhbGVydElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9oZWFydGJlYXQvYWxlcnRzL3thbGVydElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGFsZXJ0SWQgPT09IHVuZGVmaW5lZCB8fCBhbGVydElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbGVydElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2FsZXJ0SWR9JywgYWxlcnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgaGVhcnQgYmVhdCBhbGVydFxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydElkIC0gQWxlcnQgSURcbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5kZWxldGVIZWFydGJlYXRBbGVydHNBbGVydElkID0gZnVuY3Rpb24gZGVsZXRlSGVhcnRiZWF0QWxlcnRzQWxlcnRJZChhbGVydElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9oZWFydGJlYXQvYWxlcnRzL3thbGVydElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGFsZXJ0SWQgPT09IHVuZGVmaW5lZCB8fCBhbGVydElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbGVydElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2FsZXJ0SWR9JywgYWxlcnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgaGVhcnQgYmVhdCBydWxlIGxpc3QuXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUuZ2V0SGVhcnRiZWF0UnVsZXMgPSBmdW5jdGlvbiBnZXRIZWFydGJlYXRSdWxlcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FsZXJ0aW5nL2hlYXJ0YmVhdC9ydWxlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIGhlYXJ0IGJlYXQgcnVsZS5cbiAgKiBAbWVtYmVyT2YgQWxlcnRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEhlYXJ0QmVhdFJ1bGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VuZGVySWRcIjogXCJcIixcbiAgIFwiaGVhcnRCZWF0VGltZW91dEluTWludXRlc1wiOiAwLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcIm5vdGlmaWNhdGlvblVzZXJzXCI6IFtdLFxuICAgXCJhbGVydFR5cGVzXCI6IFtdLFxuICAgXCJydWxlVHlwZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VuZGVySWRcIjogXCJcIixcbiAgIFwiaGVhcnRCZWF0VGltZW91dEluTWludXRlc1wiOiAwLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImluQWxhcm1cIjogdHJ1ZSxcbiAgIFwibm90aWZpY2F0aW9uVXNlcnNcIjogW10sXG4gICBcImFsZXJ0VHlwZXNcIjogW10sXG4gICBcInJ1bGVUeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQWxlcnRpbmdBcGkucHJvdG90eXBlLnBvc3RIZWFydGJlYXRSdWxlcyA9IGZ1bmN0aW9uIHBvc3RIZWFydGJlYXRSdWxlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9oZWFydGJlYXQvcnVsZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBoZWFydCBiZWF0IHJ1bGUuXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVJZCAtIFJ1bGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzZW5kZXJJZFwiOiBcIlwiLFxuICAgXCJoZWFydEJlYXRUaW1lb3V0SW5NaW51dGVzXCI6IDAsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwiaW5BbGFybVwiOiB0cnVlLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXSxcbiAgIFwicnVsZVR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUuZ2V0SGVhcnRiZWF0UnVsZXNSdWxlSWQgPSBmdW5jdGlvbiBnZXRIZWFydGJlYXRSdWxlc1J1bGVJZChydWxlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FsZXJ0aW5nL2hlYXJ0YmVhdC9ydWxlcy97cnVsZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJ1bGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJ1bGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcnVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3J1bGVJZH0nLCBydWxlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIGhlYXJ0IGJlYXQgcnVsZVxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlSWQgLSBSdWxlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBIZWFydEJlYXRSdWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInNlbmRlcklkXCI6IFwiXCIsXG4gICBcImhlYXJ0QmVhdFRpbWVvdXRJbk1pbnV0ZXNcIjogMCxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXSxcbiAgIFwicnVsZVR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInNlbmRlcklkXCI6IFwiXCIsXG4gICBcImhlYXJ0QmVhdFRpbWVvdXRJbk1pbnV0ZXNcIjogMCxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJpbkFsYXJtXCI6IHRydWUsXG4gICBcIm5vdGlmaWNhdGlvblVzZXJzXCI6IFtdLFxuICAgXCJhbGVydFR5cGVzXCI6IFtdLFxuICAgXCJydWxlVHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5wdXRIZWFydGJlYXRSdWxlc1J1bGVJZCA9IGZ1bmN0aW9uIHB1dEhlYXJ0YmVhdFJ1bGVzUnVsZUlkKHJ1bGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYWxlcnRpbmcvaGVhcnRiZWF0L3J1bGVzL3tydWxlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocnVsZUlkID09PSB1bmRlZmluZWQgfHwgcnVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBydWxlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cnVsZUlkfScsIHJ1bGVJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBoZWFydCBiZWF0IHJ1bGUuXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHJ1bGVJZCAtIFJ1bGUgSURcbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5kZWxldGVIZWFydGJlYXRSdWxlc1J1bGVJZCA9IGZ1bmN0aW9uIGRlbGV0ZUhlYXJ0YmVhdFJ1bGVzUnVsZUlkKHJ1bGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYWxlcnRpbmcvaGVhcnRiZWF0L3J1bGVzL3tydWxlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocnVsZUlkID09PSB1bmRlZmluZWQgfHwgcnVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBydWxlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cnVsZUlkfScsIHJ1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGludGVyYWN0aW9uIHN0YXRzIGFsZXJ0IGxpc3QuXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25zdGF0c0FsZXJ0cyA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uc3RhdHNBbGVydHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9pbnRlcmFjdGlvbnN0YXRzL2FsZXJ0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgdXNlciB1bnJlYWQgY291bnQgb2YgaW50ZXJhY3Rpb24gc3RhdHMgYWxlcnRzLlxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb3VudFwiOiAwXG59XG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25zdGF0c0FsZXJ0c1VucmVhZCA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uc3RhdHNBbGVydHNVbnJlYWQoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9pbnRlcmFjdGlvbnN0YXRzL2FsZXJ0cy91bnJlYWQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gaW50ZXJhY3Rpb24gc3RhdHMgYWxlcnRcbiAgKiBAbWVtYmVyT2YgQWxlcnRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gYWxlcnRJZCAtIEFsZXJ0IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGltZW5zaW9uXCI6IFwiXCIsXG4gICBcImRpbWVuc2lvblZhbHVlXCI6IFwiXCIsXG4gICBcIm1ldHJpY1wiOiBcIlwiLFxuICAgXCJtZWRpYVR5cGVcIjogXCJcIixcbiAgIFwibnVtZXJpY1JhbmdlXCI6IFwiXCIsXG4gICBcInN0YXRpc3RpY1wiOiBcIlwiLFxuICAgXCJ2YWx1ZVwiOiB7fSxcbiAgIFwicnVsZUlkXCI6IFwiXCIsXG4gICBcInVucmVhZFwiOiB0cnVlLFxuICAgXCJzdGFydERhdGVcIjogXCJcIixcbiAgIFwiZW5kRGF0ZVwiOiBcIlwiLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXSxcbiAgIFwicnVsZVVyaVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnN0YXRzQWxlcnRzQWxlcnRJZCA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uc3RhdHNBbGVydHNBbGVydElkKGFsZXJ0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FsZXJ0aW5nL2ludGVyYWN0aW9uc3RhdHMvYWxlcnRzL3thbGVydElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGFsZXJ0SWQgPT09IHVuZGVmaW5lZCB8fCBhbGVydElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbGVydElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2FsZXJ0SWR9JywgYWxlcnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGFuIGludGVyYWN0aW9uIHN0YXRzIGFsZXJ0IHJlYWQgc3RhdHVzXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGFsZXJ0SWQgLSBBbGVydCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gSW50ZXJhY3Rpb25TdGF0c0FsZXJ0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ1bnJlYWRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ1bnJlYWRcIjogdHJ1ZVxufVxuICAqL1xuQWxlcnRpbmdBcGkucHJvdG90eXBlLnB1dEludGVyYWN0aW9uc3RhdHNBbGVydHNBbGVydElkID0gZnVuY3Rpb24gcHV0SW50ZXJhY3Rpb25zdGF0c0FsZXJ0c0FsZXJ0SWQoYWxlcnRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYWxlcnRpbmcvaW50ZXJhY3Rpb25zdGF0cy9hbGVydHMve2FsZXJ0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYWxlcnRJZCA9PT0gdW5kZWZpbmVkIHx8IGFsZXJ0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGFsZXJ0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7YWxlcnRJZH0nLCBhbGVydElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhbiBpbnRlcmFjdGlvbiBzdGF0cyBhbGVydFxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBhbGVydElkIC0gQWxlcnQgSURcbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5kZWxldGVJbnRlcmFjdGlvbnN0YXRzQWxlcnRzQWxlcnRJZCA9IGZ1bmN0aW9uIGRlbGV0ZUludGVyYWN0aW9uc3RhdHNBbGVydHNBbGVydElkKGFsZXJ0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FsZXJ0aW5nL2ludGVyYWN0aW9uc3RhdHMvYWxlcnRzL3thbGVydElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGFsZXJ0SWQgPT09IHVuZGVmaW5lZCB8fCBhbGVydElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbGVydElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2FsZXJ0SWR9JywgYWxlcnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFuIGludGVyYWN0aW9uIHN0YXRzIHJ1bGUgbGlzdC5cbiAgKiBAbWVtYmVyT2YgQWxlcnRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnN0YXRzUnVsZXMgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbnN0YXRzUnVsZXMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9pbnRlcmFjdGlvbnN0YXRzL3J1bGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGFuIGludGVyYWN0aW9uIHN0YXRzIHJ1bGUuXG4gICogQG1lbWJlck9mIEFsZXJ0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBBbGVydGluZ1J1bGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGltZW5zaW9uXCI6IFwiXCIsXG4gICBcImRpbWVuc2lvblZhbHVlXCI6IFwiXCIsXG4gICBcIm1ldHJpY1wiOiBcIlwiLFxuICAgXCJtZWRpYVR5cGVcIjogXCJcIixcbiAgIFwibnVtZXJpY1JhbmdlXCI6IFwiXCIsXG4gICBcInN0YXRpc3RpY1wiOiBcIlwiLFxuICAgXCJ2YWx1ZVwiOiB7fSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRpbWVuc2lvblwiOiBcIlwiLFxuICAgXCJkaW1lbnNpb25WYWx1ZVwiOiBcIlwiLFxuICAgXCJtZXRyaWNcIjogXCJcIixcbiAgIFwibWVkaWFUeXBlXCI6IFwiXCIsXG4gICBcIm51bWVyaWNSYW5nZVwiOiBcIlwiLFxuICAgXCJzdGF0aXN0aWNcIjogXCJcIixcbiAgIFwidmFsdWVcIjoge30sXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwiaW5BbGFybVwiOiB0cnVlLFxuICAgXCJub3RpZmljYXRpb25Vc2Vyc1wiOiBbXSxcbiAgIFwiYWxlcnRUeXBlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUucG9zdEludGVyYWN0aW9uc3RhdHNSdWxlcyA9IGZ1bmN0aW9uIHBvc3RJbnRlcmFjdGlvbnN0YXRzUnVsZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYWxlcnRpbmcvaW50ZXJhY3Rpb25zdGF0cy9ydWxlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhbiBpbnRlcmFjdGlvbiBzdGF0cyBydWxlLlxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlSWQgLSBSdWxlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGltZW5zaW9uXCI6IFwiXCIsXG4gICBcImRpbWVuc2lvblZhbHVlXCI6IFwiXCIsXG4gICBcIm1ldHJpY1wiOiBcIlwiLFxuICAgXCJtZWRpYVR5cGVcIjogXCJcIixcbiAgIFwibnVtZXJpY1JhbmdlXCI6IFwiXCIsXG4gICBcInN0YXRpc3RpY1wiOiBcIlwiLFxuICAgXCJ2YWx1ZVwiOiB7fSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJpbkFsYXJtXCI6IHRydWUsXG4gICBcIm5vdGlmaWNhdGlvblVzZXJzXCI6IFtdLFxuICAgXCJhbGVydFR5cGVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkFsZXJ0aW5nQXBpLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnN0YXRzUnVsZXNSdWxlSWQgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbnN0YXRzUnVsZXNSdWxlSWQocnVsZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbGVydGluZy9pbnRlcmFjdGlvbnN0YXRzL3J1bGVzL3tydWxlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocnVsZUlkID09PSB1bmRlZmluZWQgfHwgcnVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBydWxlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cnVsZUlkfScsIHJ1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGFuIGludGVyYWN0aW9uIHN0YXRzIHJ1bGVcbiAgKiBAbWVtYmVyT2YgQWxlcnRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcnVsZUlkIC0gUnVsZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQWxlcnRpbmdSdWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRpbWVuc2lvblwiOiBcIlwiLFxuICAgXCJkaW1lbnNpb25WYWx1ZVwiOiBcIlwiLFxuICAgXCJtZXRyaWNcIjogXCJcIixcbiAgIFwibWVkaWFUeXBlXCI6IFwiXCIsXG4gICBcIm51bWVyaWNSYW5nZVwiOiBcIlwiLFxuICAgXCJzdGF0aXN0aWNcIjogXCJcIixcbiAgIFwidmFsdWVcIjoge30sXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwibm90aWZpY2F0aW9uVXNlcnNcIjogW10sXG4gICBcImFsZXJ0VHlwZXNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkaW1lbnNpb25cIjogXCJcIixcbiAgIFwiZGltZW5zaW9uVmFsdWVcIjogXCJcIixcbiAgIFwibWV0cmljXCI6IFwiXCIsXG4gICBcIm1lZGlhVHlwZVwiOiBcIlwiLFxuICAgXCJudW1lcmljUmFuZ2VcIjogXCJcIixcbiAgIFwic3RhdGlzdGljXCI6IFwiXCIsXG4gICBcInZhbHVlXCI6IHt9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImluQWxhcm1cIjogdHJ1ZSxcbiAgIFwibm90aWZpY2F0aW9uVXNlcnNcIjogW10sXG4gICBcImFsZXJ0VHlwZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQWxlcnRpbmdBcGkucHJvdG90eXBlLnB1dEludGVyYWN0aW9uc3RhdHNSdWxlc1J1bGVJZCA9IGZ1bmN0aW9uIHB1dEludGVyYWN0aW9uc3RhdHNSdWxlc1J1bGVJZChydWxlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FsZXJ0aW5nL2ludGVyYWN0aW9uc3RhdHMvcnVsZXMve3J1bGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihydWxlSWQgPT09IHVuZGVmaW5lZCB8fCBydWxlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJ1bGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tydWxlSWR9JywgcnVsZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhbiBpbnRlcmFjdGlvbiBzdGF0cyBydWxlLlxuICAqIEBtZW1iZXJPZiBBbGVydGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlSWQgLSBSdWxlIElEXG4gICovXG5BbGVydGluZ0FwaS5wcm90b3R5cGUuZGVsZXRlSW50ZXJhY3Rpb25zdGF0c1J1bGVzUnVsZUlkID0gZnVuY3Rpb24gZGVsZXRlSW50ZXJhY3Rpb25zdGF0c1J1bGVzUnVsZUlkKHJ1bGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYWxlcnRpbmcvaW50ZXJhY3Rpb25zdGF0cy9ydWxlcy97cnVsZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJ1bGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJ1bGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcnVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3J1bGVJZH0nLCBydWxlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBBbGVydGluZ0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgQW5hbHl0aWNzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLkFuYWx5dGljc0FwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBBbmFseXRpY3NBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIEFuYWx5dGljc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbmFseXRpY3NBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuYWx5dGljc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIGNvbnZlcnNhdGlvbiBhZ2dyZWdhdGVzXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gcXVlcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImludGVydmFsXCI6IFwiXCIsXG4gICBcImdyYW51bGFyaXR5XCI6IFwiXCIsXG4gICBcImdyb3VwQnlcIjogW10sXG4gICBcImZpbHRlclwiOiB7XG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwiY2xhdXNlc1wiOiBbXSxcbiAgICAgIFwicHJlZGljYXRlc1wiOiBbXVxuICAgfSxcbiAgIFwibWV0cmljc1wiOiBbXSxcbiAgIFwiZmxhdHRlbk11bHRpdmFsdWVkRGltZW5zaW9uc1wiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUucG9zdENvbnZlcnNhdGlvbnNBZ2dyZWdhdGVzUXVlcnkgPSBmdW5jdGlvbiBwb3N0Q29udmVyc2F0aW9uc0FnZ3JlZ2F0ZXNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvY29udmVyc2F0aW9ucy9hZ2dyZWdhdGVzL3F1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIGNvbnZlcnNhdGlvbiBkZXRhaWxzXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gcXVlcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImludGVydmFsXCI6IFwiXCIsXG4gICBcImNvbnZlcnNhdGlvbkZpbHRlcnNcIjogW10sXG4gICBcImV2YWx1YXRpb25GaWx0ZXJzXCI6IFtdLFxuICAgXCJzZWdtZW50RmlsdGVyc1wiOiBbXSxcbiAgIFwiYWdncmVnYXRpb25zXCI6IFtdLFxuICAgXCJwYWdpbmdcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDBcbiAgIH0sXG4gICBcIm9yZGVyXCI6IFwiXCIsXG4gICBcIm9yZGVyQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb252ZXJzYXRpb25zXCI6IFtdLFxuICAgXCJhZ2dyZWdhdGlvbnNcIjogW11cbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUucG9zdENvbnZlcnNhdGlvbnNEZXRhaWxzUXVlcnkgPSBmdW5jdGlvbiBwb3N0Q29udmVyc2F0aW9uc0RldGFpbHNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvY29udmVyc2F0aW9ucy9kZXRhaWxzL3F1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgY29udmVyc2F0aW9uIGJ5IGlkXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIGNvbnZlcnNhdGlvbklkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNvbnZlcnNhdGlvbklkXCI6IFwiXCIsXG4gICBcImNvbnZlcnNhdGlvblN0YXJ0XCI6IFwiXCIsXG4gICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgIFwiZXZhbHVhdGlvbnNcIjogW11cbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRGV0YWlscyA9IGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZERldGFpbHMoY29udmVyc2F0aW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vZGV0YWlscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBJbmRleCBjb252ZXJzYXRpb24gcHJvcGVydGllc1xuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb25JZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gcmVxdWVzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwic2Vzc2lvbklkXCI6IFwiXCIsXG4gICBcInRpbWVzdGFtcFwiOiAwLFxuICAgXCJwcm9wZXJ0aWVzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNlc3Npb25JZFwiOiBcIlwiLFxuICAgXCJ0aW1lc3RhbXBcIjogMCxcbiAgIFwicHJvcGVydGllc1wiOiBbXVxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5wb3N0Q29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRGV0YWlsc1Byb3BlcnRpZXMgPSBmdW5jdGlvbiBwb3N0Q29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRGV0YWlsc1Byb3BlcnRpZXMoY29udmVyc2F0aW9uSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vZGV0YWlscy9wcm9wZXJ0aWVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGZvciBldmFsdWF0aW9uIGFnZ3JlZ2F0ZXNcbiAgKiBAbWVtYmVyT2YgQW5hbHl0aWNzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBxdWVyeVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaW50ZXJ2YWxcIjogXCJcIixcbiAgIFwiZ3JhbnVsYXJpdHlcIjogXCJcIixcbiAgIFwiZ3JvdXBCeVwiOiBbXSxcbiAgIFwiZmlsdGVyXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJjbGF1c2VzXCI6IFtdLFxuICAgICAgXCJwcmVkaWNhdGVzXCI6IFtdXG4gICB9LFxuICAgXCJtZXRyaWNzXCI6IFtdLFxuICAgXCJmbGF0dGVuTXVsdGl2YWx1ZWREaW1lbnNpb25zXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5wb3N0RXZhbHVhdGlvbnNBZ2dyZWdhdGVzUXVlcnkgPSBmdW5jdGlvbiBwb3N0RXZhbHVhdGlvbnNBZ2dyZWdhdGVzUXVlcnkoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL2V2YWx1YXRpb25zL2FnZ3JlZ2F0ZXMvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBmb3IgcXVldWUgb2JzZXJ2YXRpb25zXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gcXVlcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImZpbHRlclwiOiB7XG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwiY2xhdXNlc1wiOiBbXSxcbiAgICAgIFwicHJlZGljYXRlc1wiOiBbXVxuICAgfSxcbiAgIFwibWV0cmljc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJzeXN0ZW1Ub09yZ2FuaXphdGlvbk1hcHBpbmdzXCI6IHt9LFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLnBvc3RRdWV1ZXNPYnNlcnZhdGlvbnNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RRdWV1ZXNPYnNlcnZhdGlvbnNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcXVldWVzL29ic2VydmF0aW9ucy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBsaXN0IG9mIHJlcG9ydGluZyBtZXRhZGF0YS5cbiAgKiBAbWVtYmVyT2YgQW5hbHl0aWNzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSAtIExvY2FsZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5nZXRSZXBvcnRpbmdNZXRhZGF0YSA9IGZ1bmN0aW9uIGdldFJlcG9ydGluZ01ldGFkYXRhKHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBsb2NhbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcvbWV0YWRhdGEnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcImxvY2FsZVwiXSA9IGxvY2FsZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIHJlcG9ydCBmb3JtYXRzXG4gICogQGRlc2NyaXB0aW9uIEdldCBhIGxpc3Qgb2YgcmVwb3J0IGZvcm1hdHMuXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5nZXRSZXBvcnRpbmdSZXBvcnRmb3JtYXRzID0gZnVuY3Rpb24gZ2V0UmVwb3J0aW5nUmVwb3J0Zm9ybWF0cygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcvcmVwb3J0Zm9ybWF0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2Ygc2NoZWR1bGVkIHJlcG9ydCBqb2JzXG4gICogQGRlc2NyaXB0aW9uIEdldCBhIGxpc3Qgb2Ygc2NoZWR1bGVkIHJlcG9ydCBqb2JzLlxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUuZ2V0UmVwb3J0aW5nU2NoZWR1bGVzID0gZnVuY3Rpb24gZ2V0UmVwb3J0aW5nU2NoZWR1bGVzKHBhZ2VOdW1iZXIsIHBhZ2VTaXplKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcmVwb3J0aW5nL3NjaGVkdWxlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgc2NoZWR1bGVkIHJlcG9ydCBqb2JcbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIGEgc2NoZWR1bGVkIHJlcG9ydCBqb2IuXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUmVwb3J0U2NoZWR1bGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicXVhcnR6Q3JvbkV4cHJlc3Npb25cIjogXCJcIixcbiAgIFwibmV4dEZpcmVUaW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgXCJ0aW1lUGVyaW9kXCI6IFwiXCIsXG4gICBcImludGVydmFsXCI6IFwiXCIsXG4gICBcInJlcG9ydEZvcm1hdFwiOiBcIlwiLFxuICAgXCJsb2NhbGVcIjogXCJcIixcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJyZXBvcnRJZFwiOiBcIlwiLFxuICAgXCJwYXJhbWV0ZXJzXCI6IHt9LFxuICAgXCJsYXN0UnVuXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJyZXBvcnRJZFwiOiBcIlwiLFxuICAgICAgXCJydW5UaW1lXCI6IFwiXCIsXG4gICAgICBcInJ1blN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlcnJvck1lc3NhZ2VcIjogXCJcIixcbiAgICAgIFwicnVuRHVyYXRpb25Nc2VjXCI6IDAsXG4gICAgICBcInJlcG9ydFVybFwiOiBcIlwiLFxuICAgICAgXCJyZXBvcnRGb3JtYXRcIjogXCJcIixcbiAgICAgIFwic2NoZWR1bGVVcmlcIjogXCJcIlxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInF1YXJ0ekNyb25FeHByZXNzaW9uXCI6IFwiXCIsXG4gICBcIm5leHRGaXJlVGltZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidGltZVpvbmVcIjogXCJcIixcbiAgIFwidGltZVBlcmlvZFwiOiBcIlwiLFxuICAgXCJpbnRlcnZhbFwiOiBcIlwiLFxuICAgXCJyZXBvcnRGb3JtYXRcIjogXCJcIixcbiAgIFwibG9jYWxlXCI6IFwiXCIsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwicmVwb3J0SWRcIjogXCJcIixcbiAgIFwicGFyYW1ldGVyc1wiOiB7fSxcbiAgIFwibGFzdFJ1blwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwicmVwb3J0SWRcIjogXCJcIixcbiAgICAgIFwicnVuVGltZVwiOiBcIlwiLFxuICAgICAgXCJydW5TdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZXJyb3JNZXNzYWdlXCI6IFwiXCIsXG4gICAgICBcInJ1bkR1cmF0aW9uTXNlY1wiOiAwLFxuICAgICAgXCJyZXBvcnRVcmxcIjogXCJcIixcbiAgICAgIFwicmVwb3J0Rm9ybWF0XCI6IFwiXCIsXG4gICAgICBcInNjaGVkdWxlVXJpXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLnBvc3RSZXBvcnRpbmdTY2hlZHVsZXMgPSBmdW5jdGlvbiBwb3N0UmVwb3J0aW5nU2NoZWR1bGVzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcvc2NoZWR1bGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgc2NoZWR1bGVkIHJlcG9ydCBqb2IuXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlZHVsZUlkIC0gU2NoZWR1bGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJxdWFydHpDcm9uRXhwcmVzc2lvblwiOiBcIlwiLFxuICAgXCJuZXh0RmlyZVRpbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInRpbWVab25lXCI6IFwiXCIsXG4gICBcInRpbWVQZXJpb2RcIjogXCJcIixcbiAgIFwiaW50ZXJ2YWxcIjogXCJcIixcbiAgIFwicmVwb3J0Rm9ybWF0XCI6IFwiXCIsXG4gICBcImxvY2FsZVwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInJlcG9ydElkXCI6IFwiXCIsXG4gICBcInBhcmFtZXRlcnNcIjoge30sXG4gICBcImxhc3RSdW5cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInJlcG9ydElkXCI6IFwiXCIsXG4gICAgICBcInJ1blRpbWVcIjogXCJcIixcbiAgICAgIFwicnVuU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVycm9yTWVzc2FnZVwiOiBcIlwiLFxuICAgICAgXCJydW5EdXJhdGlvbk1zZWNcIjogMCxcbiAgICAgIFwicmVwb3J0VXJsXCI6IFwiXCIsXG4gICAgICBcInJlcG9ydEZvcm1hdFwiOiBcIlwiLFxuICAgICAgXCJzY2hlZHVsZVVyaVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5nZXRSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkID0gZnVuY3Rpb24gZ2V0UmVwb3J0aW5nU2NoZWR1bGVzU2NoZWR1bGVJZChzY2hlZHVsZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcmVwb3J0aW5nL3NjaGVkdWxlcy97c2NoZWR1bGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzY2hlZHVsZUlkID09PSB1bmRlZmluZWQgfHwgc2NoZWR1bGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2NoZWR1bGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlZHVsZUlkfScsIHNjaGVkdWxlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIHNjaGVkdWxlZCByZXBvcnQgam9iLlxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZWR1bGVJZCAtIFNjaGVkdWxlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBSZXBvcnRTY2hlZHVsZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJxdWFydHpDcm9uRXhwcmVzc2lvblwiOiBcIlwiLFxuICAgXCJuZXh0RmlyZVRpbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInRpbWVab25lXCI6IFwiXCIsXG4gICBcInRpbWVQZXJpb2RcIjogXCJcIixcbiAgIFwiaW50ZXJ2YWxcIjogXCJcIixcbiAgIFwicmVwb3J0Rm9ybWF0XCI6IFwiXCIsXG4gICBcImxvY2FsZVwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInJlcG9ydElkXCI6IFwiXCIsXG4gICBcInBhcmFtZXRlcnNcIjoge30sXG4gICBcImxhc3RSdW5cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInJlcG9ydElkXCI6IFwiXCIsXG4gICAgICBcInJ1blRpbWVcIjogXCJcIixcbiAgICAgIFwicnVuU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVycm9yTWVzc2FnZVwiOiBcIlwiLFxuICAgICAgXCJydW5EdXJhdGlvbk1zZWNcIjogMCxcbiAgICAgIFwicmVwb3J0VXJsXCI6IFwiXCIsXG4gICAgICBcInJlcG9ydEZvcm1hdFwiOiBcIlwiLFxuICAgICAgXCJzY2hlZHVsZVVyaVwiOiBcIlwiXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicXVhcnR6Q3JvbkV4cHJlc3Npb25cIjogXCJcIixcbiAgIFwibmV4dEZpcmVUaW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgXCJ0aW1lUGVyaW9kXCI6IFwiXCIsXG4gICBcImludGVydmFsXCI6IFwiXCIsXG4gICBcInJlcG9ydEZvcm1hdFwiOiBcIlwiLFxuICAgXCJsb2NhbGVcIjogXCJcIixcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJyZXBvcnRJZFwiOiBcIlwiLFxuICAgXCJwYXJhbWV0ZXJzXCI6IHt9LFxuICAgXCJsYXN0UnVuXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJyZXBvcnRJZFwiOiBcIlwiLFxuICAgICAgXCJydW5UaW1lXCI6IFwiXCIsXG4gICAgICBcInJ1blN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlcnJvck1lc3NhZ2VcIjogXCJcIixcbiAgICAgIFwicnVuRHVyYXRpb25Nc2VjXCI6IDAsXG4gICAgICBcInJlcG9ydFVybFwiOiBcIlwiLFxuICAgICAgXCJyZXBvcnRGb3JtYXRcIjogXCJcIixcbiAgICAgIFwic2NoZWR1bGVVcmlcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUucHV0UmVwb3J0aW5nU2NoZWR1bGVzU2NoZWR1bGVJZCA9IGZ1bmN0aW9uIHB1dFJlcG9ydGluZ1NjaGVkdWxlc1NjaGVkdWxlSWQoc2NoZWR1bGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL3JlcG9ydGluZy9zY2hlZHVsZXMve3NjaGVkdWxlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2NoZWR1bGVJZCA9PT0gdW5kZWZpbmVkIHx8IHNjaGVkdWxlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNjaGVkdWxlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2NoZWR1bGVJZH0nLCBzY2hlZHVsZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIHNjaGVkdWxlZCByZXBvcnQgam9iLlxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZWR1bGVJZCAtIFNjaGVkdWxlIElEXG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLmRlbGV0ZVJlcG9ydGluZ1NjaGVkdWxlc1NjaGVkdWxlSWQgPSBmdW5jdGlvbiBkZWxldGVSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkKHNjaGVkdWxlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcvc2NoZWR1bGVzL3tzY2hlZHVsZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNjaGVkdWxlSWQgPT09IHVuZGVmaW5lZCB8fCBzY2hlZHVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlZHVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVkdWxlSWR9Jywgc2NoZWR1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGxpc3Qgb2YgY29tcGxldGVkIHNjaGVkdWxlZCByZXBvcnQgam9icy5cbiAgKiBAbWVtYmVyT2YgQW5hbHl0aWNzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNjaGVkdWxlSWQgLSBTY2hlZHVsZSBJRFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkFuYWx5dGljc0FwaS5wcm90b3R5cGUuZ2V0UmVwb3J0aW5nU2NoZWR1bGVzU2NoZWR1bGVJZEhpc3RvcnkgPSBmdW5jdGlvbiBnZXRSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkSGlzdG9yeShzY2hlZHVsZUlkLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL3JlcG9ydGluZy9zY2hlZHVsZXMve3NjaGVkdWxlSWR9L2hpc3RvcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzY2hlZHVsZUlkID09PSB1bmRlZmluZWQgfHwgc2NoZWR1bGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2NoZWR1bGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlZHVsZUlkfScsIHNjaGVkdWxlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IG1vc3QgcmVjZW50bHkgY29tcGxldGVkIHNjaGVkdWxlZCByZXBvcnQgam9iLlxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZWR1bGVJZCAtIFNjaGVkdWxlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicmVwb3J0SWRcIjogXCJcIixcbiAgIFwicnVuVGltZVwiOiBcIlwiLFxuICAgXCJydW5TdGF0dXNcIjogXCJcIixcbiAgIFwiZXJyb3JNZXNzYWdlXCI6IFwiXCIsXG4gICBcInJ1bkR1cmF0aW9uTXNlY1wiOiAwLFxuICAgXCJyZXBvcnRVcmxcIjogXCJcIixcbiAgIFwicmVwb3J0Rm9ybWF0XCI6IFwiXCIsXG4gICBcInNjaGVkdWxlVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5nZXRSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkSGlzdG9yeUxhdGVzdCA9IGZ1bmN0aW9uIGdldFJlcG9ydGluZ1NjaGVkdWxlc1NjaGVkdWxlSWRIaXN0b3J5TGF0ZXN0KHNjaGVkdWxlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcvc2NoZWR1bGVzL3tzY2hlZHVsZUlkfS9oaXN0b3J5L2xhdGVzdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNjaGVkdWxlSWQgPT09IHVuZGVmaW5lZCB8fCBzY2hlZHVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlZHVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVkdWxlSWR9Jywgc2NoZWR1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQSBjb21wbGV0ZWQgc2NoZWR1bGVkIHJlcG9ydCBqb2JcbiAgKiBAZGVzY3JpcHRpb24gQSBjb21wbGV0ZWQgc2NoZWR1bGVkIHJlcG9ydCBqb2IuXG4gICogQG1lbWJlck9mIEFuYWx5dGljc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBydW5JZCAtIFJ1biBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlZHVsZUlkIC0gU2NoZWR1bGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJyZXBvcnRJZFwiOiBcIlwiLFxuICAgXCJydW5UaW1lXCI6IFwiXCIsXG4gICBcInJ1blN0YXR1c1wiOiBcIlwiLFxuICAgXCJlcnJvck1lc3NhZ2VcIjogXCJcIixcbiAgIFwicnVuRHVyYXRpb25Nc2VjXCI6IDAsXG4gICBcInJlcG9ydFVybFwiOiBcIlwiLFxuICAgXCJyZXBvcnRGb3JtYXRcIjogXCJcIixcbiAgIFwic2NoZWR1bGVVcmlcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLmdldFJlcG9ydGluZ1NjaGVkdWxlc1NjaGVkdWxlSWRIaXN0b3J5UnVuSWQgPSBmdW5jdGlvbiBnZXRSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkSGlzdG9yeVJ1bklkKHJ1bklkLCBzY2hlZHVsZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcmVwb3J0aW5nL3NjaGVkdWxlcy97c2NoZWR1bGVJZH0vaGlzdG9yeS97cnVuSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocnVuSWQgPT09IHVuZGVmaW5lZCB8fCBydW5JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcnVuSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cnVuSWR9JywgcnVuSWQpO1xuICAgIGlmKHNjaGVkdWxlSWQgPT09IHVuZGVmaW5lZCB8fCBzY2hlZHVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlZHVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVkdWxlSWR9Jywgc2NoZWR1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUGxhY2UgYSBzY2hlZHVsZWQgcmVwb3J0IGltbWVkaWF0ZWx5IGludG8gdGhlIHJlcG9ydGluZyBxdWV1ZVxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZWR1bGVJZCAtIFNjaGVkdWxlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLnBvc3RSZXBvcnRpbmdTY2hlZHVsZXNTY2hlZHVsZUlkUnVucmVwb3J0ID0gZnVuY3Rpb24gcG9zdFJlcG9ydGluZ1NjaGVkdWxlc1NjaGVkdWxlSWRSdW5yZXBvcnQoc2NoZWR1bGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL3JlcG9ydGluZy9zY2hlZHVsZXMve3NjaGVkdWxlSWR9L3J1bnJlcG9ydCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNjaGVkdWxlSWQgPT09IHVuZGVmaW5lZCB8fCBzY2hlZHVsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlZHVsZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVkdWxlSWR9Jywgc2NoZWR1bGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgcmVwb3J0IHRpbWUgcGVyaW9kcy5cbiAgKiBAbWVtYmVyT2YgQW5hbHl0aWNzQXBpXG4gICogQGluc3RhbmNlXG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLmdldFJlcG9ydGluZ1RpbWVwZXJpb2RzID0gZnVuY3Rpb24gZ2V0UmVwb3J0aW5nVGltZXBlcmlvZHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcmVwb3J0aW5nL3RpbWVwZXJpb2RzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgcmVwb3J0aW5nIG1ldGFkYXRhLlxuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVwb3J0SWQgLSBSZXBvcnQgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIC0gTG9jYWxlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidGl0bGVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwia2V5d29yZHNcIjogW10sXG4gICBcImF2YWlsYWJsZUxvY2FsZXNcIjogW10sXG4gICBcInBhcmFtZXRlcnNcIjogW10sXG4gICBcImV4YW1wbGVVcmxcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLmdldFJlcG9ydGluZ1JlcG9ydElkTWV0YWRhdGEgPSBmdW5jdGlvbiBnZXRSZXBvcnRpbmdSZXBvcnRJZE1ldGFkYXRhKHJlcG9ydElkLCBsb2NhbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9yZXBvcnRpbmcve3JlcG9ydElkfS9tZXRhZGF0YSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJlcG9ydElkID09PSB1bmRlZmluZWQgfHwgcmVwb3J0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJlcG9ydElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JlcG9ydElkfScsIHJlcG9ydElkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJsb2NhbGVcIl0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIHVzZXIgYWdncmVnYXRlc1xuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIHF1ZXJ5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJpbnRlcnZhbFwiOiBcIlwiLFxuICAgXCJncmFudWxhcml0eVwiOiBcIlwiLFxuICAgXCJncm91cEJ5XCI6IFtdLFxuICAgXCJmaWx0ZXJcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImNsYXVzZXNcIjogW10sXG4gICAgICBcInByZWRpY2F0ZXNcIjogW11cbiAgIH0sXG4gICBcIm1ldHJpY3NcIjogW10sXG4gICBcImZsYXR0ZW5NdWx0aXZhbHVlZERpbWVuc2lvbnNcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJzeXN0ZW1Ub09yZ2FuaXphdGlvbk1hcHBpbmdzXCI6IHt9LFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5BbmFseXRpY3NBcGkucHJvdG90eXBlLnBvc3RVc2Vyc0FnZ3JlZ2F0ZXNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RVc2Vyc0FnZ3JlZ2F0ZXNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvdXNlcnMvYWdncmVnYXRlcy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGZvciB1c2VyIG9ic2VydmF0aW9uc1xuICAqIEBtZW1iZXJPZiBBbmFseXRpY3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIHF1ZXJ5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJmaWx0ZXJcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImNsYXVzZXNcIjogW10sXG4gICAgICBcInByZWRpY2F0ZXNcIjogW11cbiAgIH0sXG4gICBcIm1ldHJpY3NcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuQW5hbHl0aWNzQXBpLnByb3RvdHlwZS5wb3N0VXNlcnNPYnNlcnZhdGlvbnNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RVc2Vyc09ic2VydmF0aW9uc1F1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy91c2Vycy9vYnNlcnZhdGlvbnMvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQW5hbHl0aWNzQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBBdHRyaWJ1dGVzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLkF0dHJpYnV0ZXNBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gQXR0cmlidXRlc0FwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgQXR0cmlidXRlc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVzQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRyaWJ1dGVzQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXRzIGEgbGlzdCBvZiBleGlzdGluZyBhdHRyaWJ1dGVzLlxuICAqIEBtZW1iZXJPZiBBdHRyaWJ1dGVzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5BdHRyaWJ1dGVzQXBpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlcyhwYWdlTnVtYmVyLCBwYWdlU2l6ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGFuIGF0dHJpYnV0ZS5cbiAgKiBAbWVtYmVyT2YgQXR0cmlidXRlc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQXR0cmlidXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkF0dHJpYnV0ZXNBcGkucHJvdG90eXBlLnBvc3RBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcG9zdEF0dHJpYnV0ZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGF0dHJpYnV0ZXNcbiAgKiBAbWVtYmVyT2YgQXR0cmlidXRlc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gcXVlcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInF1ZXJ5XCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQXR0cmlidXRlc0FwaS5wcm90b3R5cGUucG9zdFF1ZXJ5ID0gZnVuY3Rpb24gcG9zdFF1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F0dHJpYnV0ZXMvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZGV0YWlscyBhYm91dCBhbiBleGlzdGluZyBhdHRyaWJ1dGUuXG4gICogQG1lbWJlck9mIEF0dHJpYnV0ZXNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlSWQgLSBBdHRyaWJ1dGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkF0dHJpYnV0ZXNBcGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZUlkID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlSWQoYXR0cmlidXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F0dHJpYnV0ZXMve2F0dHJpYnV0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGF0dHJpYnV0ZUlkID09PSB1bmRlZmluZWQgfHwgYXR0cmlidXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGF0dHJpYnV0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2F0dHJpYnV0ZUlkfScsIGF0dHJpYnV0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gZXhpc3RpbmcgYXR0cmlidXRlLlxuICAqIEBkZXNjcmlwdGlvbiBGaWVsZHMgdGhhdCBjYW4gYmUgdXBkYXRlZDogbmFtZSwgZGVzY3JpcHRpb24uIFRoZSBtb3N0IHJlY2VudCB2ZXJzaW9uIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVzLlxuICAqIEBtZW1iZXJPZiBBdHRyaWJ1dGVzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZUlkIC0gQXR0cmlidXRlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBBdHRyaWJ1dGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQXR0cmlidXRlc0FwaS5wcm90b3R5cGUucHV0QXR0cmlidXRlSWQgPSBmdW5jdGlvbiBwdXRBdHRyaWJ1dGVJZChhdHRyaWJ1dGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXR0cmlidXRlcy97YXR0cmlidXRlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYXR0cmlidXRlSWQgPT09IHVuZGVmaW5lZCB8fCBhdHRyaWJ1dGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYXR0cmlidXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7YXR0cmlidXRlSWR9JywgYXR0cmlidXRlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGV4aXN0aW5nIEF0dHJpYnV0ZS5cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyB3aWxsIHJlbW92ZSBhdHRyaWJ1dGUuXG4gICogQG1lbWJlck9mIEF0dHJpYnV0ZXNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlSWQgLSBBdHRyaWJ1dGUgSURcbiAgKi9cbkF0dHJpYnV0ZXNBcGkucHJvdG90eXBlLmRlbGV0ZUF0dHJpYnV0ZUlkID0gZnVuY3Rpb24gZGVsZXRlQXR0cmlidXRlSWQoYXR0cmlidXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F0dHJpYnV0ZXMve2F0dHJpYnV0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGF0dHJpYnV0ZUlkID09PSB1bmRlZmluZWQgfHwgYXR0cmlidXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGF0dHJpYnV0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2F0dHJpYnV0ZUlkfScsIGF0dHJpYnV0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQXR0cmlidXRlc0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgQXV0aG9yaXphdGlvbkFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5BdXRob3JpemF0aW9uQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIEF1dGhvcml6YXRpb25BcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIEF1dGhvcml6YXRpb25BcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXV0aG9yaXphdGlvbkFwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aG9yaXphdGlvbkFwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFsbCBwZXJtaXNzaW9ucy5cbiAgKiBAZGVzY3JpcHRpb24gUmV0cmlldmUgYSBsaXN0IG9mIGFsbCBwZXJtaXNzaW9uIGRlZmluZWQgaW4gdGhlIHN5c3RlbS5cbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbnMgPSBmdW5jdGlvbiBnZXRQZXJtaXNzaW9ucyhwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9wZXJtaXNzaW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIGVuYWJsZWQgcHJvZHVjdHNcbiAgKiBAZGVzY3JpcHRpb24gR2V0cyB0aGUgbGlzdCBvZiBlbmFibGVkIHByb2R1Y3RzLiBTb21lIGV4YW1wbGUgcHJvZHVjdCBuYW1lcyBhcmU6IGNvbGxhYm9yYXRlRnJlZSwgY29sbGFib3JhdGVQcm8sIGNvbW11bmljYXRlLCBhbmQgZW5nYWdlLlxuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5BdXRob3JpemF0aW9uQXBpLnByb3RvdHlwZS5nZXRQcm9kdWN0cyA9IGZ1bmN0aW9uIGdldFByb2R1Y3RzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9wcm9kdWN0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJldHJpZXZlIGEgbGlzdCBvZiBhbGwgcm9sZXMgZGVmaW5lZCBmb3IgdGhlIG9yZ2FuaXphdGlvblxuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFRoZSB0b3RhbCBwYWdlIHNpemUgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gVGhlIHBhZ2UgbnVtYmVyIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCB0byBzb3J0IGJ5XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgYnkgZXhwYW5kIGxpc3RcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dFBhZ2UgLSBuZXh0IHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gcHJldmlvdXNQYWdlIC0gUHJldmlvdXMgcGFnZSB0b2tlblxuICAqIEBwYXJhbSB7YXJyYXl9IHBlcm1pc3Npb24gLSBcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZXJDb3VudCAtIFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUuZ2V0Um9sZXMgPSBmdW5jdGlvbiBnZXRSb2xlcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIHBlcm1pc3Npb24sIHVzZXJDb3VudCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuZXh0UGFnZVwiXSA9IG5leHRQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInByZXZpb3VzUGFnZVwiXSA9IHByZXZpb3VzUGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwZXJtaXNzaW9uXCJdID0gcGVybWlzc2lvbjtcbiAgICByZXF1ZXN0UXVlcnlbXCJ1c2VyQ291bnRcIl0gPSB1c2VyQ291bnQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGFuIG9yZ2FuaXphdGlvbiByb2xlLlxuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBPcmdhbml6YXRpb24gcm9sZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJkZWZhdWx0Um9sZUlkXCI6IFwiXCIsXG4gICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW10sXG4gICBcInVzZXJDb3VudFwiOiAwLFxuICAgXCJyb2xlTmVlZHNVcGRhdGVcIjogdHJ1ZSxcbiAgIFwiZGVmYXVsdFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICBcImRlZmF1bHRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BdXRob3JpemF0aW9uQXBpLnByb3RvdHlwZS5wb3N0Um9sZXMgPSBmdW5jdGlvbiBwb3N0Um9sZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlc3RvcmVzIGFsbCBkZWZhdWx0IHJvbGVzXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgZW5kcG9pbnQgc2VydmVzIHNldmVyYWwgcHVycG9zZXMuIDEuIEl0IHByb3ZpZGVzIHRoZSBvcmcgd2l0aCBkZWZhdWx0IHJvbGVzLiBUaGlzIGlzIGltcG9ydGFudCBmb3IgZGVmYXVsdCByb2xlcyB0aGF0IHdpbGwgYmUgYWRkZWQgYWZ0ZXIgZ28tbGl2ZSAodGhleSBjYW4gcmV0cm9hY3RpdmVseSBhZGQgdGhlIG5ldyBkZWZhdWx0LXJvbGUpLiBOb3RlOiBXaGVuIG5vdCB1c2luZyBhIHF1ZXJ5IHBhcmFtIG9mIGZvcmNlPXRydWUsIGl0IG9ubHkgYWRkcyB0aGUgZGVmYXVsdCByb2xlcyBub3QgY29uZmlndXJlZCBmb3IgdGhlIG9yZzsgaXQgZG9lcyBub3Qgb3ZlcndyaXRlIHJvbGVzLiAyLiBVc2luZyB0aGUgcXVlcnkgcGFyYW0gZm9yY2U9dHJ1ZSwgeW91IGNhbiByZXN0b3JlIGFsbCBkZWZhdWx0IHJvbGVzLiBOb3RlOiBUaGlzIGRvZXMgbm90IGhhdmUgYW4gZWZmZWN0IG9uIGN1c3RvbSByb2xlcy5cbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgLSBSZXN0b3JlIGRlZmF1bHQgcm9sZXNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLnBvc3RSb2xlc0RlZmF1bHQgPSBmdW5jdGlvbiBwb3N0Um9sZXNEZWZhdWx0KGZvcmNlKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hdXRob3JpemF0aW9uL3JvbGVzL2RlZmF1bHQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJmb3JjZVwiXSA9IGZvcmNlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXN0b3JlIHNwZWNpZmllZCBkZWZhdWx0IHJvbGVzXG4gICogQG1lbWJlck9mIEF1dGhvcml6YXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIE9yZ2FuaXphdGlvbiByb2xlcyBsaXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgXCJkZWZhdWx0Um9sZUlkXCI6IFwiXCIsXG4gIFwicGVybWlzc2lvbnNcIjogW10sXG4gIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICBcInVzZXJDb3VudFwiOiAwLFxuICBcInJvbGVOZWVkc1VwZGF0ZVwiOiB0cnVlLFxuICBcImRlZmF1bHRcIjogdHJ1ZVxuIH1cbl1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLnB1dFJvbGVzRGVmYXVsdCA9IGZ1bmN0aW9uIHB1dFJvbGVzRGVmYXVsdChib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hdXRob3JpemF0aW9uL3JvbGVzL2RlZmF1bHQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhbiBvcmcgcm9sZSB0byBkZWZhdWx0IHJvbGUgY29tcGFyaXNvbiBjb21wYXJpc29uXG4gICogQGRlc2NyaXB0aW9uIENvbXBhcmVzIGFueSBvcmdhbml6YXRpb24gcm9sZSB0byBhIGRlZmF1bHQgcm9sZSBpZCBhbmQgc2hvdyBkaWZmZXJlbmNlc1xuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxlZnRSb2xlSWQgLSBMZWZ0IFJvbGUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmlnaHRSb2xlSWQgLSBSaWdodCBSb2xlIGlkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJlbW92ZWRQZXJtaXNzaW9uUG9saWNpZXNcIjogW10sXG4gICBcImFkZGVkUGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJzYW1lUGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyT3JnUm9sZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgICAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgICAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICAgICBcImRlZmF1bHRcIjogdHJ1ZSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJyb2xlRnJvbURlZmF1bHRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcImRlZmF1bHRSb2xlSWRcIjogXCJcIixcbiAgICAgIFwicGVybWlzc2lvbnNcIjogW10sXG4gICAgICBcInBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXSxcbiAgICAgIFwidXNlckNvdW50XCI6IDAsXG4gICAgICBcInJvbGVOZWVkc1VwZGF0ZVwiOiB0cnVlLFxuICAgICAgXCJkZWZhdWx0XCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfVxufVxuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUuZ2V0Um9sZXNMZWZ0cm9sZUlkQ29tcGFyZWRlZmF1bHRSaWdodHJvbGVJZCA9IGZ1bmN0aW9uIGdldFJvbGVzTGVmdHJvbGVJZENvbXBhcmVkZWZhdWx0UmlnaHRyb2xlSWQobGVmdFJvbGVJZCwgcmlnaHRSb2xlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F1dGhvcml6YXRpb24vcm9sZXMve2xlZnRSb2xlSWR9L2NvbXBhcmVkZWZhdWx0L3tyaWdodFJvbGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihsZWZ0Um9sZUlkID09PSB1bmRlZmluZWQgfHwgbGVmdFJvbGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbGVmdFJvbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tsZWZ0Um9sZUlkfScsIGxlZnRSb2xlSWQpO1xuICAgIGlmKHJpZ2h0Um9sZUlkID09PSB1bmRlZmluZWQgfHwgcmlnaHRSb2xlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJpZ2h0Um9sZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JpZ2h0Um9sZUlkfScsIHJpZ2h0Um9sZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gdW5zYXZlZCBvcmcgcm9sZSB0byBkZWZhdWx0IHJvbGUgY29tcGFyaXNvblxuICAqIEBkZXNjcmlwdGlvbiBBbGxvd3MgdXNlcnMgdG8gY29tcGFyZSB0aGVpciBleGlzdGluZyByb2xlcyBpbiBhbiB1bnNhdmVkIHN0YXRlIHRvIGl0cyBkZWZhdWx0IHJvbGVcbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsZWZ0Um9sZUlkIC0gTGVmdCBSb2xlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHJpZ2h0Um9sZUlkIC0gUmlnaHQgUm9sZSBpZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gT3JnYW5pemF0aW9uIHJvbGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICBcImRlZmF1bHRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJyZW1vdmVkUGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJhZGRlZFBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXSxcbiAgIFwic2FtZVBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXSxcbiAgIFwidXNlck9yZ1JvbGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcImRlZmF1bHRSb2xlSWRcIjogXCJcIixcbiAgICAgIFwicGVybWlzc2lvbnNcIjogW10sXG4gICAgICBcInBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXSxcbiAgICAgIFwidXNlckNvdW50XCI6IDAsXG4gICAgICBcInJvbGVOZWVkc1VwZGF0ZVwiOiB0cnVlLFxuICAgICAgXCJkZWZhdWx0XCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicm9sZUZyb21EZWZhdWx0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJkZWZhdWx0Um9sZUlkXCI6IFwiXCIsXG4gICAgICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW10sXG4gICAgICBcInVzZXJDb3VudFwiOiAwLFxuICAgICAgXCJyb2xlTmVlZHNVcGRhdGVcIjogdHJ1ZSxcbiAgICAgIFwiZGVmYXVsdFwiOiB0cnVlLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH1cbn1cbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLnBvc3RSb2xlc0xlZnRyb2xlSWRDb21wYXJlZGVmYXVsdFJpZ2h0cm9sZUlkID0gZnVuY3Rpb24gcG9zdFJvbGVzTGVmdHJvbGVJZENvbXBhcmVkZWZhdWx0UmlnaHRyb2xlSWQobGVmdFJvbGVJZCwgcmlnaHRSb2xlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F1dGhvcml6YXRpb24vcm9sZXMve2xlZnRSb2xlSWR9L2NvbXBhcmVkZWZhdWx0L3tyaWdodFJvbGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihsZWZ0Um9sZUlkID09PSB1bmRlZmluZWQgfHwgbGVmdFJvbGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbGVmdFJvbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tsZWZ0Um9sZUlkfScsIGxlZnRSb2xlSWQpO1xuICAgIGlmKHJpZ2h0Um9sZUlkID09PSB1bmRlZmluZWQgfHwgcmlnaHRSb2xlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJpZ2h0Um9sZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JpZ2h0Um9sZUlkfScsIHJpZ2h0Um9sZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBzaW5nbGUgb3JnYW5pemF0aW9uIHJvbGUuXG4gICogQGRlc2NyaXB0aW9uIEdldCB0aGUgb3JnYW5pemF0aW9uIHJvbGUgc3BlY2lmaWVkIGJ5IGl0cyBJRC5cbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByb2xlSWQgLSBSb2xlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICBcImRlZmF1bHRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BdXRob3JpemF0aW9uQXBpLnByb3RvdHlwZS5nZXRSb2xlc1JvbGVJZCA9IGZ1bmN0aW9uIGdldFJvbGVzUm9sZUlkKHJvbGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9yb2xlcy97cm9sZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJvbGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJvbGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcm9sZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JvbGVJZH0nLCByb2xlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhbiBvcmdhbml6YXRpb24gcm9sZS5cbiAgKiBAZGVzY3JpcHRpb24gVXBkYXRlXG4gICogQG1lbWJlck9mIEF1dGhvcml6YXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZUlkIC0gUm9sZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gT3JnYW5pemF0aW9uIHJvbGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICBcImRlZmF1bHRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImRlZmF1bHRSb2xlSWRcIjogXCJcIixcbiAgIFwicGVybWlzc2lvbnNcIjogW10sXG4gICBcInBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXSxcbiAgIFwidXNlckNvdW50XCI6IDAsXG4gICBcInJvbGVOZWVkc1VwZGF0ZVwiOiB0cnVlLFxuICAgXCJkZWZhdWx0XCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUucHV0Um9sZXNSb2xlSWQgPSBmdW5jdGlvbiBwdXRSb2xlc1JvbGVJZChyb2xlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F1dGhvcml6YXRpb24vcm9sZXMve3JvbGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihyb2xlSWQgPT09IHVuZGVmaW5lZCB8fCByb2xlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJvbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyb2xlSWR9Jywgcm9sZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhbiBvcmdhbml6YXRpb24gcm9sZS5cbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByb2xlSWQgLSBSb2xlIElEXG4gICovXG5BdXRob3JpemF0aW9uQXBpLnByb3RvdHlwZS5kZWxldGVSb2xlc1JvbGVJZCA9IGZ1bmN0aW9uIGRlbGV0ZVJvbGVzUm9sZUlkKHJvbGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9yb2xlcy97cm9sZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJvbGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJvbGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcm9sZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JvbGVJZH0nLCByb2xlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFBhdGNoIE9yZ2FuaXphdGlvbiBSb2xlIGZvciBuZWVkc1VwZGF0ZSBGaWVsZFxuICAqIEBkZXNjcmlwdGlvbiBQYXRjaCBPcmdhbml6YXRpb24gUm9sZSBmb3IgbmVlZHNVcGRhdGUgRmllbGRcbiAgKiBAbWVtYmVyT2YgQXV0aG9yaXphdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByb2xlSWQgLSBSb2xlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBPcmdhbml6YXRpb24gcm9sZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJkZWZhdWx0Um9sZUlkXCI6IFwiXCIsXG4gICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW10sXG4gICBcInVzZXJDb3VudFwiOiAwLFxuICAgXCJyb2xlTmVlZHNVcGRhdGVcIjogdHJ1ZSxcbiAgIFwiZGVmYXVsdFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwiZGVmYXVsdFJvbGVJZFwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdLFxuICAgXCJ1c2VyQ291bnRcIjogMCxcbiAgIFwicm9sZU5lZWRzVXBkYXRlXCI6IHRydWUsXG4gICBcImRlZmF1bHRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5BdXRob3JpemF0aW9uQXBpLnByb3RvdHlwZS5wYXRjaFJvbGVzUm9sZUlkID0gZnVuY3Rpb24gcGF0Y2hSb2xlc1JvbGVJZChyb2xlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2F1dGhvcml6YXRpb24vcm9sZXMve3JvbGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihyb2xlSWQgPT09IHVuZGVmaW5lZCB8fCByb2xlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJvbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyb2xlSWR9Jywgcm9sZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2V0cyB0aGUgdXNlcnMgZm9yIHRoZSByb2xlXG4gICogQG1lbWJlck9mIEF1dGhvcml6YXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZUlkIC0gUm9sZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTGlzdCBvZiB1c2VyIElEc1xuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUucHV0Um9sZXNSb2xlSWRVc2Vyc0FkZCA9IGZ1bmN0aW9uIHB1dFJvbGVzUm9sZUlkVXNlcnNBZGQocm9sZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hdXRob3JpemF0aW9uL3JvbGVzL3tyb2xlSWR9L3VzZXJzL2FkZCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJvbGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJvbGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcm9sZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JvbGVJZH0nLCByb2xlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVtb3ZlcyB0aGUgdXNlcnMgZnJvbSB0aGUgcm9sZVxuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHJvbGVJZCAtIFJvbGUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIExpc3Qgb2YgdXNlciBJRHNcbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLnB1dFJvbGVzUm9sZUlkVXNlcnNSZW1vdmUgPSBmdW5jdGlvbiBwdXRSb2xlc1JvbGVJZFVzZXJzUmVtb3ZlKHJvbGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYXV0aG9yaXphdGlvbi9yb2xlcy97cm9sZUlkfS91c2Vycy9yZW1vdmUnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihyb2xlSWQgPT09IHVuZGVmaW5lZCB8fCByb2xlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJvbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyb2xlSWR9Jywgcm9sZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0aW5nIG9mIHJvbGVzIGFuZCBwZXJtaXNzaW9ucyBmb3IgYSB1c2VyLlxuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicm9sZXNcIjogW10sXG4gICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW11cbn1cbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLmdldFVzZXJJZFJvbGVzID0gZnVuY3Rpb24gZ2V0VXNlcklkUm9sZXModXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNldHMgdGhlIHVzZXIncyByb2xlc1xuICAqIEBtZW1iZXJPZiBBdXRob3JpemF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIExpc3Qgb2Ygcm9sZXNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicm9sZXNcIjogW10sXG4gICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW11cbn1cbiAgKi9cbkF1dGhvcml6YXRpb25BcGkucHJvdG90eXBlLnB1dFVzZXJJZFJvbGVzID0gZnVuY3Rpb24gcHV0VXNlcklkUm9sZXModXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVtb3ZlcyBhbGwgdGhlIHJvbGVzIGZyb20gdGhlIHVzZXIuXG4gICogQG1lbWJlck9mIEF1dGhvcml6YXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqL1xuQXV0aG9yaXphdGlvbkFwaS5wcm90b3R5cGUuZGVsZXRlVXNlcklkUm9sZXMgPSBmdW5jdGlvbiBkZWxldGVVc2VySWRSb2xlcyh1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvbGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEF1dGhvcml6YXRpb25BcGk7XG4iLCIvKipcbiogQGNsYXNzIENvbmZpZ3VyYXRpb25BcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uQ29uZmlndXJhdGlvbkFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBDb25maWd1cmF0aW9uQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBDb25maWd1cmF0aW9uQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbmZpZ3VyYXRpb25BcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmZpZ3VyYXRpb25BcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBlbmNyeXB0aW9uIGtleSBsaXN0XG4gICogQG1lbWJlck9mIENvbmZpZ3VyYXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbmZpZ3VyYXRpb25BcGkucHJvdG90eXBlLmdldFJlY29yZGluZ2tleXMgPSBmdW5jdGlvbiBnZXRSZWNvcmRpbmdrZXlzKHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvcmVjb3JkaW5na2V5cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGVuY3J5cHRpb24ga2V5XG4gICogQG1lbWJlck9mIENvbmZpZ3VyYXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVEYXRlXCI6IFwiXCIsXG4gICBcImtleWRhdGFTdW1tYXJ5XCI6IFwiXCIsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29uZmlndXJhdGlvbkFwaS5wcm90b3R5cGUucG9zdFJlY29yZGluZ2tleXMgPSBmdW5jdGlvbiBwb3N0UmVjb3JkaW5na2V5cygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JlY29yZGluZy9yZWNvcmRpbmdrZXlzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBrZXkgcm90YXRpb24gc2NoZWR1bGVcbiAgKiBAbWVtYmVyT2YgQ29uZmlndXJhdGlvbkFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBlcmlvZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbmZpZ3VyYXRpb25BcGkucHJvdG90eXBlLmdldFJlY29yZGluZ2tleXNSb3RhdGlvbnNjaGVkdWxlID0gZnVuY3Rpb24gZ2V0UmVjb3JkaW5na2V5c1JvdGF0aW9uc2NoZWR1bGUoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvcmVjb3JkaW5na2V5cy9yb3RhdGlvbnNjaGVkdWxlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGtleSByb3RhdGlvbiBzY2hlZHVsZVxuICAqIEBtZW1iZXJPZiBDb25maWd1cmF0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBLZXlSb3RhdGlvblNjaGVkdWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBlcmlvZFwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicGVyaW9kXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29uZmlndXJhdGlvbkFwaS5wcm90b3R5cGUucHV0UmVjb3JkaW5na2V5c1JvdGF0aW9uc2NoZWR1bGUgPSBmdW5jdGlvbiBwdXRSZWNvcmRpbmdrZXlzUm90YXRpb25zY2hlZHVsZShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvcmVjb3JkaW5na2V5cy9yb3RhdGlvbnNjaGVkdWxlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIHNldHVwIHBhY2thZ2UgZm9yIGEgbG9jYWxseSBkZXBsb3llZCBlZGdlIGRldmljZS4gVGhpcyBpcyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIHNldHVwIHByb2Nlc3MgZm9yIHRoZSB2aXJ0dWFsIGVkZ2UuXG4gICogQG1lbWJlck9mIENvbmZpZ3VyYXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJtZXRhLWRhdGFcIjoge1xuICAgICAgXCJwYWlyaW5nLXRva2VuXCI6IFwiXCIsXG4gICAgICBcInBhaXJpbmctdHJ1c3RcIjogW10sXG4gICAgICBcInBhaXJpbmctdXJsXCI6IFwiXCJcbiAgIH0sXG4gICBcImVkZ2UtaWRcIjogXCJcIixcbiAgIFwiYXV0aC10b2tlblwiOiBcIlwiLFxuICAgXCJvcmctaWRcIjogXCJcIlxufVxuICAqL1xuQ29uZmlndXJhdGlvbkFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWRTZXR1cHBhY2thZ2UgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VkZ2VJZFNldHVwcGFja2FnZShlZGdlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vc2V0dXBwYWNrYWdlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbmZpZ3VyYXRpb25BcGk7XG4iLCIvKipcbiogQGNsYXNzIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLkNvbnRlbnRNYW5hZ2VtZW50QXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIENvbnRlbnRNYW5hZ2VtZW50QXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBDb250ZW50TWFuYWdlbWVudEFwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb250ZW50TWFuYWdlbWVudEFwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudE1hbmFnZW1lbnRBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGF1ZGl0c1xuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQWxsb3dzIGZvciBhIGZpbHRlcmVkIHF1ZXJ5IHJldHVybmluZyBmYWNldCBpbmZvcm1hdGlvblxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicXVlcnlQaHJhc2VcIjogXCJcIixcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJmYWNldE5hbWVSZXF1ZXN0c1wiOiBbXSxcbiAgIFwic29ydFwiOiBbXSxcbiAgIFwiZmlsdGVyc1wiOiBbXSxcbiAgIFwiYXR0cmlidXRlRmlsdGVyc1wiOiBbXSxcbiAgIFwiaW5jbHVkZVNoYXJlc1wiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJlc3VsdHNcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICAgICBcInRvdGFsXCI6IDAsXG4gICAgICBcImVudGl0aWVzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICAgICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICAgICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICAgICBcIm5leHRVcmlcIjogXCJcIixcbiAgICAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwYWdlQ291bnRcIjogMFxuICAgfSxcbiAgIFwiZmFjZXRJbmZvXCI6IHtcbiAgICAgIFwiYXR0cmlidXRlc1wiOiBbXSxcbiAgICAgIFwiZmFjZXRzXCI6IFtdXG4gICB9XG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUucG9zdEF1ZGl0cXVlcnkgPSBmdW5jdGlvbiBwb3N0QXVkaXRxdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9hdWRpdHF1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdCBvZiBkb2N1bWVudHMuXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHdvcmtzcGFjZUlkIC0gV29ya3NwYWNlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIGRvY3VtZW50IGZpZWxkc1xuICBhY2wsXG4gIHdvcmtzcGFjZSxcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gbmFtZSBvciBkYXRlQ3JlYXRlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZ1xuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldERvY3VtZW50cyA9IGZ1bmN0aW9uIGdldERvY3VtZW50cyh3b3Jrc3BhY2VJZCwgbmFtZSwgZXhwYW5kLCBwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L2RvY3VtZW50cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHdvcmtzcGFjZUlkID09PSB1bmRlZmluZWQgfHwgd29ya3NwYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHdvcmtzcGFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcIndvcmtzcGFjZUlkXCJdID0gd29ya3NwYWNlSWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgYSBkb2N1bWVudC5cbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIERvY3VtZW50XG4gICogQHBhcmFtIHtzdHJpbmd9IGNvcHlTb3VyY2UgLSBDb3B5IGEgZG9jdW1lbnQgd2l0aGluIGEgd29ya3NwYWNlIG9yIHRvIGEgbmV3IHdvcmtzcGFjZS4gUHJvdmlkZSBhIGRvY3VtZW50IElEIGFzIHRoZSBjb3B5IHNvdXJjZS5cbiAgKiBAcGFyYW0ge3N0cmluZ30gbW92ZVNvdXJjZSAtIE1vdmUgYSBkb2N1bWVudCB0byBhIG5ldyB3b3Jrc3BhY2UuIFByb3ZpZGUgYSBkb2N1bWVudCBJRCBhcyB0aGUgbW92ZSBzb3VyY2UuXG4gICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSAtIE92ZXJyaWRlIGFueSBsb2NrIG9uIHRoZSBzb3VyY2UgZG9jdW1lbnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInRhZ3NcIjogW10sXG4gICBcInRhZ0lkc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNoYW5nZU51bWJlclwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwiZGF0ZVVwbG9hZGVkXCI6IFwiXCIsXG4gICBcImNvbnRlbnRVcmlcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1cGxvYWRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRlbnRUeXBlXCI6IFwiXCIsXG4gICBcImNvbnRlbnRMZW5ndGhcIjogMCxcbiAgIFwic3lzdGVtVHlwZVwiOiBcIlwiLFxuICAgXCJmaWxlbmFtZVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicmVhZFwiOiB0cnVlLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcInJlY2VpdmVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJ0YWdzXCI6IFtdLFxuICAgXCJ0YWdWYWx1ZXNcIjogW10sXG4gICBcImF0dHJpYnV0ZXNcIjogW10sXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInVwbG9hZFN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1cGxvYWREZXN0aW5hdGlvblVyaVwiOiBcIlwiLFxuICAgXCJ1cGxvYWRNZXRob2RcIjogXCJcIixcbiAgIFwibG9ja0luZm9cIjoge1xuICAgICAgXCJsb2NrZWRCeVwiOiB7fSxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZUV4cGlyZXNcIjogXCJcIixcbiAgICAgIFwiYWN0aW9uXCI6IFwiXCJcbiAgIH0sXG4gICBcImFjbFwiOiBbXSxcbiAgIFwic2hhcmluZ1N0YXR1c1wiOiBcIlwiLFxuICAgXCJzaGFyaW5nVXJpXCI6IFwiXCIsXG4gICBcImRvd25sb2FkU2hhcmluZ1VyaVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0RG9jdW1lbnRzID0gZnVuY3Rpb24gcG9zdERvY3VtZW50cyhib2R5LCBjb3B5U291cmNlLCBtb3ZlU291cmNlLCBvdmVycmlkZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvZG9jdW1lbnRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJjb3B5U291cmNlXCJdID0gY29weVNvdXJjZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJtb3ZlU291cmNlXCJdID0gbW92ZVNvdXJjZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJvdmVycmlkZVwiXSA9IG92ZXJyaWRlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBkb2N1bWVudC5cbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG9jdW1lbnRJZCAtIERvY3VtZW50IElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIGRvY3VtZW50IGZpZWxkc1xuICBsb2NrSW5mbyxcbiAgYWNsLFxuICB3b3Jrc3BhY2UsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2hhbmdlTnVtYmVyXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJkYXRlVXBsb2FkZWRcIjogXCJcIixcbiAgIFwiY29udGVudFVyaVwiOiBcIlwiLFxuICAgXCJ3b3Jrc3BhY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInVwbG9hZGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udGVudFR5cGVcIjogXCJcIixcbiAgIFwiY29udGVudExlbmd0aFwiOiAwLFxuICAgXCJzeXN0ZW1UeXBlXCI6IFwiXCIsXG4gICBcImZpbGVuYW1lXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJyZWFkXCI6IHRydWUsXG4gICBcImNhbGxlckFkZHJlc3NcIjogXCJcIixcbiAgIFwicmVjZWl2ZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcInRhZ3NcIjogW10sXG4gICBcInRhZ1ZhbHVlc1wiOiBbXSxcbiAgIFwiYXR0cmlidXRlc1wiOiBbXSxcbiAgIFwidGh1bWJuYWlsc1wiOiBbXSxcbiAgIFwidXBsb2FkU3RhdHVzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInVwbG9hZERlc3RpbmF0aW9uVXJpXCI6IFwiXCIsXG4gICBcInVwbG9hZE1ldGhvZFwiOiBcIlwiLFxuICAgXCJsb2NrSW5mb1wiOiB7XG4gICAgICBcImxvY2tlZEJ5XCI6IHt9LFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlRXhwaXJlc1wiOiBcIlwiLFxuICAgICAgXCJhY3Rpb25cIjogXCJcIlxuICAgfSxcbiAgIFwiYWNsXCI6IFtdLFxuICAgXCJzaGFyaW5nU3RhdHVzXCI6IFwiXCIsXG4gICBcInNoYXJpbmdVcmlcIjogXCJcIixcbiAgIFwiZG93bmxvYWRTaGFyaW5nVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldERvY3VtZW50c0RvY3VtZW50SWQgPSBmdW5jdGlvbiBnZXREb2N1bWVudHNEb2N1bWVudElkKGRvY3VtZW50SWQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvZG9jdW1lbnRzL3tkb2N1bWVudElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRvY3VtZW50SWQgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb2N1bWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RvY3VtZW50SWR9JywgZG9jdW1lbnRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIGRvY3VtZW50LlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIERvY3VtZW50XG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIGRvY3VtZW50IGZpZWxkc1xuICBhY2wsXG4gICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSAtIE92ZXJyaWRlIGFueSBsb2NrIG9uIHRoZSBkb2N1bWVudFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY2hhbmdlTnVtYmVyXCI6IDAsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicmVhZFwiOiB0cnVlLFxuICAgXCJhZGRUYWdzXCI6IFtdLFxuICAgXCJyZW1vdmVUYWdzXCI6IFtdLFxuICAgXCJhZGRUYWdJZHNcIjogW10sXG4gICBcInJlbW92ZVRhZ0lkc1wiOiBbXSxcbiAgIFwidXBkYXRlQXR0cmlidXRlc1wiOiBbXSxcbiAgIFwicmVtb3ZlQXR0cmlidXRlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNoYW5nZU51bWJlclwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwiZGF0ZVVwbG9hZGVkXCI6IFwiXCIsXG4gICBcImNvbnRlbnRVcmlcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1cGxvYWRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRlbnRUeXBlXCI6IFwiXCIsXG4gICBcImNvbnRlbnRMZW5ndGhcIjogMCxcbiAgIFwic3lzdGVtVHlwZVwiOiBcIlwiLFxuICAgXCJmaWxlbmFtZVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicmVhZFwiOiB0cnVlLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcInJlY2VpdmVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJ0YWdzXCI6IFtdLFxuICAgXCJ0YWdWYWx1ZXNcIjogW10sXG4gICBcImF0dHJpYnV0ZXNcIjogW10sXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInVwbG9hZFN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1cGxvYWREZXN0aW5hdGlvblVyaVwiOiBcIlwiLFxuICAgXCJ1cGxvYWRNZXRob2RcIjogXCJcIixcbiAgIFwibG9ja0luZm9cIjoge1xuICAgICAgXCJsb2NrZWRCeVwiOiB7fSxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZUV4cGlyZXNcIjogXCJcIixcbiAgICAgIFwiYWN0aW9uXCI6IFwiXCJcbiAgIH0sXG4gICBcImFjbFwiOiBbXSxcbiAgIFwic2hhcmluZ1N0YXR1c1wiOiBcIlwiLFxuICAgXCJzaGFyaW5nVXJpXCI6IFwiXCIsXG4gICBcImRvd25sb2FkU2hhcmluZ1VyaVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0RG9jdW1lbnRzRG9jdW1lbnRJZCA9IGZ1bmN0aW9uIHBvc3REb2N1bWVudHNEb2N1bWVudElkKGRvY3VtZW50SWQsIGJvZHksIGV4cGFuZCwgb3ZlcnJpZGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L2RvY3VtZW50cy97ZG9jdW1lbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkb2N1bWVudElkID09PSB1bmRlZmluZWQgfHwgZG9jdW1lbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG9jdW1lbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkb2N1bWVudElkfScsIGRvY3VtZW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcIm92ZXJyaWRlXCJdID0gb3ZlcnJpZGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGRvY3VtZW50LlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIC0gT3ZlcnJpZGUgYW55IGxvY2sgb24gdGhlIGRvY3VtZW50XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZGVsZXRlRG9jdW1lbnRzRG9jdW1lbnRJZCA9IGZ1bmN0aW9uIGRlbGV0ZURvY3VtZW50c0RvY3VtZW50SWQoZG9jdW1lbnRJZCwgb3ZlcnJpZGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L2RvY3VtZW50cy97ZG9jdW1lbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkb2N1bWVudElkID09PSB1bmRlZmluZWQgfHwgZG9jdW1lbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG9jdW1lbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkb2N1bWVudElkfScsIGRvY3VtZW50SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcIm92ZXJyaWRlXCJdID0gb3ZlcnJpZGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdCBvZiBhdWRpdHMgZm9yIGEgZG9jdW1lbnQuXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2FjdGlvbkZpbHRlciAtIFRyYW5zYWN0aW9uIGZpbHRlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbCAtIGxldmVsXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldERvY3VtZW50c0RvY3VtZW50SWRBdWRpdHMgPSBmdW5jdGlvbiBnZXREb2N1bWVudHNEb2N1bWVudElkQXVkaXRzKGRvY3VtZW50SWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCB0cmFuc2FjdGlvbkZpbHRlciwgbGV2ZWwsIHNvcnRCeSwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9kb2N1bWVudHMve2RvY3VtZW50SWR9L2F1ZGl0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRvY3VtZW50SWQgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb2N1bWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RvY3VtZW50SWR9JywgZG9jdW1lbnRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJ0cmFuc2FjdGlvbkZpbHRlclwiXSA9IHRyYW5zYWN0aW9uRmlsdGVyO1xuICAgIHJlcXVlc3RRdWVyeVtcImxldmVsXCJdID0gbGV2ZWw7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEb3dubG9hZCBhIGRvY3VtZW50LlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZGlzcG9zaXRpb24gLSBSZXF1ZXN0IGhvdyB0aGUgY29udGVudCB3aWxsIGJlIGRvd25sb2FkZWQ6IGF0dGFjaGVkIGFzIGEgZmlsZSBvciBpbmxpbmUuIERlZmF1bHQgaXMgYXR0YWNobWVudC5cbiAgYXR0YWNobWVudCxcbiAgaW5saW5lLFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIFRoZSByZXF1ZXN0ZWQgZm9ybWF0IGZvciB0aGUgc3BlY2lmaWVkIGRvY3VtZW50LiBJZiBzdXBwb3J0ZWQsIHRoZSBkb2N1bWVudCB3aWxsIGJlIHJldHVybmVkIGluIHRoYXQgZm9ybWF0LiBFeGFtcGxlIGNvbnRlbnRUeXBlPWF1ZGlvL3dhdlxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb250ZW50TG9jYXRpb25VcmlcIjogXCJcIixcbiAgIFwiaW1hZ2VVcmlcIjogXCJcIixcbiAgIFwidGh1bWJuYWlsc1wiOiBbXVxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldERvY3VtZW50c0RvY3VtZW50SWRDb250ZW50ID0gZnVuY3Rpb24gZ2V0RG9jdW1lbnRzRG9jdW1lbnRJZENvbnRlbnQoZG9jdW1lbnRJZCwgZGlzcG9zaXRpb24sIGNvbnRlbnRUeXBlKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9kb2N1bWVudHMve2RvY3VtZW50SWR9L2NvbnRlbnQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkb2N1bWVudElkID09PSB1bmRlZmluZWQgfHwgZG9jdW1lbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG9jdW1lbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkb2N1bWVudElkfScsIGRvY3VtZW50SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImRpc3Bvc2l0aW9uXCJdID0gZGlzcG9zaXRpb247XG4gICAgcmVxdWVzdFF1ZXJ5W1wiY29udGVudFR5cGVcIl0gPSBjb250ZW50VHlwZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXBsYWNlIHRoZSBjb250ZW50cyBvZiBhIGRvY3VtZW50LlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFJlcGxhY2UgUmVxdWVzdFxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcnJpZGUgLSBPdmVycmlkZSBhbnkgbG9jayBvbiB0aGUgZG9jdW1lbnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNoYW5nZU51bWJlclwiOiAwLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImF1dGhUb2tlblwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2hhbmdlTnVtYmVyXCI6IDAsXG4gICBcInVwbG9hZFN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1cGxvYWREZXN0aW5hdGlvblVyaVwiOiBcIlwiLFxuICAgXCJ1cGxvYWRNZXRob2RcIjogXCJcIlxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLnBvc3REb2N1bWVudHNEb2N1bWVudElkQ29udGVudCA9IGZ1bmN0aW9uIHBvc3REb2N1bWVudHNEb2N1bWVudElkQ29udGVudChkb2N1bWVudElkLCBib2R5LCBvdmVycmlkZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvZG9jdW1lbnRzL3tkb2N1bWVudElkfS9jb250ZW50JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9jdW1lbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGRvY3VtZW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvY3VtZW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9jdW1lbnRJZH0nLCBkb2N1bWVudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcIm92ZXJyaWRlXCJdID0gb3ZlcnJpZGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGNvbnRlbnRcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gbmFtZSBvciBkYXRlQ3JlYXRlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZ1xuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeVBocmFzZSAtIFBocmFzZSB0b2tlbnMgYXJlIEFORGVkIHRvZ2V0aGVyIG92ZXIgYWxsIHNlYXJjaGFibGUgZmllbGRzXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIGRvY3VtZW50IGZpZWxkc1xuICBhY2wsXG4gIHdvcmtzcGFjZSxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcInBhZ2VTaXplXCI6IDAsXG4gICAgICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgICAgIFwidG90YWxcIjogMCxcbiAgICAgIFwiZW50aXRpZXNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIixcbiAgICAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgICAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgICAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICAgICBcInBhZ2VDb3VudFwiOiAwXG4gICB9LFxuICAgXCJmYWNldEluZm9cIjoge1xuICAgICAgXCJhdHRyaWJ1dGVzXCI6IFtdLFxuICAgICAgXCJmYWNldHNcIjogW11cbiAgIH1cbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRRdWVyeSA9IGZ1bmN0aW9uIGdldFF1ZXJ5KHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0QnksIHNvcnRPcmRlciwgcXVlcnlQaHJhc2UsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0T3JkZXJcIl0gPSBzb3J0T3JkZXI7XG4gICAgaWYocXVlcnlQaHJhc2UgPT09IHVuZGVmaW5lZCB8fCBxdWVyeVBocmFzZSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcXVlcnlQaHJhc2UnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicXVlcnlQaHJhc2VcIl0gPSBxdWVyeVBocmFzZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgY29udGVudFxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQWxsb3dzIGZvciBhIGZpbHRlcmVkIHF1ZXJ5IHJldHVybmluZyBmYWNldCBpbmZvcm1hdGlvblxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBFeHBhbmQgc29tZSBkb2N1bWVudCBmaWVsZHNcbiAgYWNsLFxuICB3b3Jrc3BhY2UsXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJxdWVyeVBocmFzZVwiOiBcIlwiLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcImZhY2V0TmFtZVJlcXVlc3RzXCI6IFtdLFxuICAgXCJzb3J0XCI6IFtdLFxuICAgXCJmaWx0ZXJzXCI6IFtdLFxuICAgXCJhdHRyaWJ1dGVGaWx0ZXJzXCI6IFtdLFxuICAgXCJpbmNsdWRlU2hhcmVzXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcInBhZ2VTaXplXCI6IDAsXG4gICAgICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgICAgIFwidG90YWxcIjogMCxcbiAgICAgIFwiZW50aXRpZXNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIixcbiAgICAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgICAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgICAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICAgICBcInBhZ2VDb3VudFwiOiAwXG4gICB9LFxuICAgXCJmYWNldEluZm9cIjoge1xuICAgICAgXCJhdHRyaWJ1dGVzXCI6IFtdLFxuICAgICAgXCJmYWNldHNcIjogW11cbiAgIH1cbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0UXVlcnkgPSBmdW5jdGlvbiBwb3N0UXVlcnkoYm9keSwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBMaXN0IG9mIFNlY3VyaXR5IFByb2ZpbGVzXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0U2VjdXJpdHlwcm9maWxlcyA9IGZ1bmN0aW9uIGdldFNlY3VyaXR5cHJvZmlsZXMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9zZWN1cml0eXByb2ZpbGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgU2VjdXJpdHkgUHJvZmlsZVxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzZWN1cml0eVByb2ZpbGVJZCAtIFNlY3VyaXR5IFByb2ZpbGUgSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0U2VjdXJpdHlwcm9maWxlc1NlY3VyaXR5cHJvZmlsZUlkID0gZnVuY3Rpb24gZ2V0U2VjdXJpdHlwcm9maWxlc1NlY3VyaXR5cHJvZmlsZUlkKHNlY3VyaXR5UHJvZmlsZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9zZWN1cml0eXByb2ZpbGVzL3tzZWN1cml0eVByb2ZpbGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzZWN1cml0eVByb2ZpbGVJZCA9PT0gdW5kZWZpbmVkIHx8IHNlY3VyaXR5UHJvZmlsZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzZWN1cml0eVByb2ZpbGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzZWN1cml0eVByb2ZpbGVJZH0nLCBzZWN1cml0eVByb2ZpbGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHNoYXJlZCBkb2N1bWVudHMuIFNlY3VyZWx5IGRvd25sb2FkIGEgc2hhcmVkIGRvY3VtZW50LlxuICAqIEBkZXNjcmlwdGlvbiBUaGlzIG1ldGhvZCByZXF1aXJlcyB0aGUgZG93bmxvYWQgc2hhcmluZyBVUkkgb2J0YWluZWQgaW4gdGhlIGdldCBkb2N1bWVudCByZXNwb25zZSAoZG93bmxvYWRTaGFyaW5nVXJpKS4gRG9jdW1lbnRzIG1heSBiZSBzaGFyZWQgYmV0d2VlbiB1c2VycyBpbiB0aGUgc2FtZSB3b3Jrc3BhY2UuIERvY3VtZW50cyBtYXkgYWxzbyBiZSBzaGFyZWQgYmV0d2VlbiBhbnkgdXNlciBieSBjcmVhdGluZyBhIGNvbnRlbnQgbWFuYWdlbWVudCBzaGFyZS5cbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2hhcmVkSWQgLSBTaGFyZWQgSURcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlZGlyZWN0IC0gVHVybiBvbiBvciBvZmYgcmVkaXJlY3RcbiAgKiBAcGFyYW0ge3N0cmluZ30gZGlzcG9zaXRpb24gLSBSZXF1ZXN0IGhvdyB0aGUgc2hhcmUgY29udGVudCB3aWxsIGJlIGRvd25sb2FkZWQ6IGF0dGFjaGVkIGFzIGEgZmlsZSBvciBpbmxpbmUuIERlZmF1bHQgaXMgYXR0YWNobWVudC5cbiAgYXR0YWNobWVudCxcbiAgaW5saW5lLFxuICBub25lLFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIFRoZSByZXF1ZXN0ZWQgZm9ybWF0IGZvciB0aGUgc3BlY2lmaWVkIGRvY3VtZW50LiBJZiBzdXBwb3J0ZWQsIHRoZSBkb2N1bWVudCB3aWxsIGJlIHJldHVybmVkIGluIHRoYXQgZm9ybWF0LiBFeGFtcGxlIGNvbnRlbnRUeXBlPWF1ZGlvL3dhdlxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBFeHBhbmQgc29tZSBkb2N1bWVudCBmaWVsZHNcbiAgZG9jdW1lbnQuYWNsLFxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldFNoYXJlZFNoYXJlZElkID0gZnVuY3Rpb24gZ2V0U2hhcmVkU2hhcmVkSWQoc2hhcmVkSWQsIHJlZGlyZWN0LCBkaXNwb3NpdGlvbiwgY29udGVudFR5cGUsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvc2hhcmVkL3tzaGFyZWRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzaGFyZWRJZCA9PT0gdW5kZWZpbmVkIHx8IHNoYXJlZElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzaGFyZWRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzaGFyZWRJZH0nLCBzaGFyZWRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicmVkaXJlY3RcIl0gPSByZWRpcmVjdDtcbiAgICByZXF1ZXN0UXVlcnlbXCJkaXNwb3NpdGlvblwiXSA9IGRpc3Bvc2l0aW9uO1xuICAgIHJlcXVlc3RRdWVyeVtcImNvbnRlbnRUeXBlXCJdID0gY29udGVudFR5cGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgYSBsaXN0IG9mIHNoYXJlcy4gIFlvdSBtdXN0IHNwZWNpZnkgYXQgbGVhc3Qgb25lIGZpbHRlciAoZS5nLiBlbnRpdHlJZCkuXG4gICogQGRlc2NyaXB0aW9uIEZhaWxpbmcgdG8gc3BlY2lmeSBhIGZpbHRlciB3aWxsIHJldHVybiA0MDAuXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVudGl0eUlkIC0gRmlsdGVycyB0aGUgc2hhcmVzIHJldHVybmVkIHRvIG9ubHkgdGhlIGVudGl0eSBzcGVjaWZpZWQgYnkgdGhlIHZhbHVlIG9mIHRoaXMgcGFyYW1ldGVyLlxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBFeHBhbmQgc2hhcmUgZmllbGRzXG4gIG1lbWJlcixcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRTaGFyZXMgPSBmdW5jdGlvbiBnZXRTaGFyZXMoZW50aXR5SWQsIGV4cGFuZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3NoYXJlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcImVudGl0eUlkXCJdID0gZW50aXR5SWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlcyBhIG5ldyBzaGFyZSBvciB1cGRhdGVzIGFuIGV4aXN0aW5nIHNoYXJlIGlmIHRoZSBlbnRpdHkgaGFzIGFscmVhZHkgYmVlbiBzaGFyZWRcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIENyZWF0ZVNoYXJlUmVxdWVzdCAtIGVudGl0eSBpZCBhbmQgdHlwZSBhbmQgYSBzaW5nbGUgbWVtYmVyIG9yIGxpc3Qgb2YgbWVtYmVycyBhcmUgcmVxdWlyZWRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNoYXJlZEVudGl0eVR5cGVcIjogXCJcIixcbiAgIFwic2hhcmVkRW50aXR5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIlxuICAgfSxcbiAgIFwibWVtYmVyVHlwZVwiOiBcIlwiLFxuICAgXCJtZW1iZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiXG4gICB9LFxuICAgXCJtZW1iZXJzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2hhcmVkRW50aXR5VHlwZVwiOiBcIlwiLFxuICAgXCJzaGFyZWRFbnRpdHlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVtYmVyVHlwZVwiOiBcIlwiLFxuICAgXCJtZW1iZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2hhcmVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN1Y2NlZWRlZFwiOiBbXSxcbiAgIFwiZmFpbGVkXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0U2hhcmVzID0gZnVuY3Rpb24gcG9zdFNoYXJlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9zaGFyZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXRyaWV2ZSBkZXRhaWxzIGFib3V0IGFuIGV4aXN0aW5nIHNoYXJlLlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaGFyZUlkIC0gU2hhcmUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXhwYW5kIC0gRXhwYW5kIHNoYXJlIGZpZWxkc1xuICBtZW1iZXIsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2hhcmVkRW50aXR5VHlwZVwiOiBcIlwiLFxuICAgXCJzaGFyZWRFbnRpdHlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVtYmVyVHlwZVwiOiBcIlwiLFxuICAgXCJtZW1iZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2hhcmVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImdyb3VwXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibWVtYmVyQ291bnRcIjogMCxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJydWxlc1Zpc2libGVcIjogdHJ1ZSxcbiAgICAgIFwidmlzaWJpbGl0eVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldFNoYXJlc1NoYXJlSWQgPSBmdW5jdGlvbiBnZXRTaGFyZXNTaGFyZUlkKHNoYXJlSWQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvc2hhcmVzL3tzaGFyZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNoYXJlSWQgPT09IHVuZGVmaW5lZCB8fCBzaGFyZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzaGFyZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NoYXJlSWR9Jywgc2hhcmVJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZXMgYW4gZXhpc3Rpbmcgc2hhcmUuXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgcmV2b2tlcyBzaGFyaW5nIHJpZ2h0cyBzcGVjaWZpZWQgaW4gdGhlIHNoYXJlIHJlY29yZFxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaGFyZUlkIC0gU2hhcmUgSURcbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5kZWxldGVTaGFyZXNTaGFyZUlkID0gZnVuY3Rpb24gZGVsZXRlU2hhcmVzU2hhcmVJZChzaGFyZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9zaGFyZXMve3NoYXJlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2hhcmVJZCA9PT0gdW5kZWZpbmVkIHx8IHNoYXJlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNoYXJlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2hhcmVJZH0nLCBzaGFyZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIHN0YXR1c2VzIGZvciBwZW5kaW5nIG9wZXJhdGlvbnNcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRTdGF0dXMgPSBmdW5jdGlvbiBnZXRTdGF0dXMocGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3N0YXR1cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgc3RhdHVzLlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXNJZCAtIFN0YXR1cyBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImV4cGlyYXRpb25cIjogXCJcIixcbiAgIFwidXNlcklkXCI6IFwiXCIsXG4gICBcInN0YXR1c0NvZGVcIjogXCJcIixcbiAgIFwiY29tbWFuZFR5cGVcIjogXCJcIixcbiAgIFwiZG9jdW1lbnRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYW5nZU51bWJlclwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZVVwbG9hZGVkXCI6IFwiXCIsXG4gICAgICBcImNvbnRlbnRVcmlcIjogXCJcIixcbiAgICAgIFwid29ya3NwYWNlXCI6IHt9LFxuICAgICAgXCJjcmVhdGVkQnlcIjoge30sXG4gICAgICBcInVwbG9hZGVkQnlcIjoge30sXG4gICAgICBcImNvbnRlbnRUeXBlXCI6IFwiXCIsXG4gICAgICBcImNvbnRlbnRMZW5ndGhcIjogMCxcbiAgICAgIFwic3lzdGVtVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmaWxlbmFtZVwiOiBcIlwiLFxuICAgICAgXCJwYWdlQ291bnRcIjogMCxcbiAgICAgIFwicmVhZFwiOiB0cnVlLFxuICAgICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInJlY2VpdmVyQWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJ0YWdWYWx1ZXNcIjogW10sXG4gICAgICBcImF0dHJpYnV0ZXNcIjogW10sXG4gICAgICBcInRodW1ibmFpbHNcIjogW10sXG4gICAgICBcInVwbG9hZFN0YXR1c1wiOiB7fSxcbiAgICAgIFwidXBsb2FkRGVzdGluYXRpb25VcmlcIjogXCJcIixcbiAgICAgIFwidXBsb2FkTWV0aG9kXCI6IFwiXCIsXG4gICAgICBcImxvY2tJbmZvXCI6IHt9LFxuICAgICAgXCJhY2xcIjogW10sXG4gICAgICBcInNoYXJpbmdTdGF0dXNcIjogXCJcIixcbiAgICAgIFwic2hhcmluZ1VyaVwiOiBcIlwiLFxuICAgICAgXCJkb3dubG9hZFNoYXJpbmdVcmlcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRTdGF0dXNTdGF0dXNJZCA9IGZ1bmN0aW9uIGdldFN0YXR1c1N0YXR1c0lkKHN0YXR1c0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC9zdGF0dXMve3N0YXR1c0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHN0YXR1c0lkID09PSB1bmRlZmluZWQgfHwgc3RhdHVzSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHN0YXR1c0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3N0YXR1c0lkfScsIHN0YXR1c0lkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDYW5jZWwgdGhlIGNvbW1hbmQgZm9yIHRoaXMgc3RhdHVzXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c0lkIC0gU3RhdHVzIElEXG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZGVsZXRlU3RhdHVzU3RhdHVzSWQgPSBmdW5jdGlvbiBkZWxldGVTdGF0dXNTdGF0dXNJZChzdGF0dXNJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvc3RhdHVzL3tzdGF0dXNJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzdGF0dXNJZCA9PT0gdW5kZWZpbmVkIHx8IHN0YXR1c0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzdGF0dXNJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzdGF0dXNJZH0nLCBzdGF0dXNJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHVzYWdlIGRldGFpbHMuXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInR5cGVzXCI6IFtdXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0VXNhZ2UgPSBmdW5jdGlvbiBnZXRVc2FnZSgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3VzYWdlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdCBvZiB3b3Jrc3BhY2VzLlxuICAqIEBkZXNjcmlwdGlvbiBTcGVjaWZ5aW5nICdjb250ZW50JyBhY2Nlc3Mgd2lsbCByZXR1cm4gYWxsIHdvcmtzcGFjZXMgdGhlIHVzZXIgaGFzIGRvY3VtZW50IGFjY2VzcyB0bywgd2hpbGUgJ2FkbWluJyBhY2Nlc3Mgd2lsbCByZXR1cm4gYWxsIGdyb3VwIHdvcmtzcGFjZXMgdGhlIHVzZXIgaGFzIGFkbWluaXN0cmF0aXZlIHJpZ2h0cyB0by5cbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzIC0gUmVxdWVzdGVkIGFjY2VzcyBsZXZlbFxuICBjb250ZW50LFxuICBhZG1pbixcbiAgZG9jdW1lbnQ6Y3JlYXRlLFxuICBkb2N1bWVudDp2aWV3Q29udGVudCxcbiAgZG9jdW1lbnQ6dmlld01ldGFkYXRhLFxuICBkb2N1bWVudDpkb3dubG9hZCxcbiAgZG9jdW1lbnQ6ZGVsZXRlLFxuICBkb2N1bWVudDp1cGRhdGUsXG4gIGRvY3VtZW50OnNoYXJlLFxuICBkb2N1bWVudDpzaGFyZVZpZXcsXG4gIGRvY3VtZW50OmVtYWlsLFxuICBkb2N1bWVudDpwcmludCxcbiAgZG9jdW1lbnQ6YXVkaXRWaWV3LFxuICBkb2N1bWVudDpyZXBsYWNlLFxuICBkb2N1bWVudDp0YWcsXG4gIHRhZzpjcmVhdGUsXG4gIHRhZzp2aWV3LFxuICB0YWc6dXBkYXRlLFxuICB0YWc6YXBwbHksXG4gIHRhZzpyZW1vdmUsXG4gIHRhZzpkZWxldGUsXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIHdvcmtzcGFjZSBmaWVsZHNcbiAgc3VtbWFyeSxcbiAgYWNsLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldFdvcmtzcGFjZXMgPSBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBhY2Nlc3MsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvd29ya3NwYWNlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiYWNjZXNzXCJdID0gYWNjZXNzO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBncm91cCB3b3Jrc3BhY2VcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFdvcmtzcGFjZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJidWNrZXRcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwiaXNDdXJyZW50VXNlcldvcmtzcGFjZVwiOiB0cnVlLFxuICAgXCJ1c2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImJ1Y2tldFwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3VtbWFyeVwiOiB7XG4gICAgICBcInRvdGFsRG9jdW1lbnRDb3VudFwiOiAwLFxuICAgICAgXCJ0b3RhbERvY3VtZW50Qnl0ZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcImFjbFwiOiBbXSxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUucG9zdFdvcmtzcGFjZXMgPSBmdW5jdGlvbiBwb3N0V29ya3NwYWNlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgd29ya3NwYWNlLlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBFeHBhbmQgc29tZSB3b3Jrc3BhY2UgZmllbGRzXG4gIHN1bW1hcnksXG4gIGFjbCxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcImlzQ3VycmVudFVzZXJXb3Jrc3BhY2VcIjogdHJ1ZSxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJidWNrZXRcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInN1bW1hcnlcIjoge1xuICAgICAgXCJ0b3RhbERvY3VtZW50Q291bnRcIjogMCxcbiAgICAgIFwidG90YWxEb2N1bWVudEJ5dGVDb3VudFwiOiAwXG4gICB9LFxuICAgXCJhY2xcIjogW10sXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldFdvcmtzcGFjZXNXb3Jrc3BhY2VJZCA9IGZ1bmN0aW9uIGdldFdvcmtzcGFjZXNXb3Jrc3BhY2VJZCh3b3Jrc3BhY2VJZCwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzL3t3b3Jrc3BhY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIHdvcmtzcGFjZVxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gV29ya3NwYWNlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwiaXNDdXJyZW50VXNlcldvcmtzcGFjZVwiOiB0cnVlLFxuICAgXCJ1c2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImJ1Y2tldFwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3VtbWFyeVwiOiB7XG4gICAgICBcInRvdGFsRG9jdW1lbnRDb3VudFwiOiAwLFxuICAgICAgXCJ0b3RhbERvY3VtZW50Qnl0ZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcImFjbFwiOiBbXSxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwiaXNDdXJyZW50VXNlcldvcmtzcGFjZVwiOiB0cnVlLFxuICAgXCJ1c2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImJ1Y2tldFwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3VtbWFyeVwiOiB7XG4gICAgICBcInRvdGFsRG9jdW1lbnRDb3VudFwiOiAwLFxuICAgICAgXCJ0b3RhbERvY3VtZW50Qnl0ZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcImFjbFwiOiBbXSxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUucHV0V29ya3NwYWNlc1dvcmtzcGFjZUlkID0gZnVuY3Rpb24gcHV0V29ya3NwYWNlc1dvcmtzcGFjZUlkKHdvcmtzcGFjZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzL3t3b3Jrc3BhY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSB3b3Jrc3BhY2VcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlSWQgLSBXb3Jrc3BhY2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbW92ZUNoaWxkcmVuVG9Xb3Jrc3BhY2VJZCAtIE5ldyBsb2NhdGlvbiBmb3Igb2JqZWN0cyBpbiBkZWxldGVkIHdvcmtzcGFjZS5cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5kZWxldGVXb3Jrc3BhY2VzV29ya3NwYWNlSWQgPSBmdW5jdGlvbiBkZWxldGVXb3Jrc3BhY2VzV29ya3NwYWNlSWQod29ya3NwYWNlSWQsIG1vdmVDaGlsZHJlblRvV29ya3NwYWNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHdvcmtzcGFjZUlkID09PSB1bmRlZmluZWQgfHwgd29ya3NwYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHdvcmtzcGFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3dvcmtzcGFjZUlkfScsIHdvcmtzcGFjZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJtb3ZlQ2hpbGRyZW5Ub1dvcmtzcGFjZUlkXCJdID0gbW92ZUNoaWxkcmVuVG9Xb3Jrc3BhY2VJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IHdvcmtzcGFjZSBtZW1iZXJzXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHdvcmtzcGFjZUlkIC0gV29ya3NwYWNlIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCB3b3Jrc3BhY2UgbWVtYmVyIGZpZWxkc1xuICBtZW1iZXIsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0V29ya3NwYWNlc1dvcmtzcGFjZUlkTWVtYmVycyA9IGZ1bmN0aW9uIGdldFdvcmtzcGFjZXNXb3Jrc3BhY2VJZE1lbWJlcnMod29ya3NwYWNlSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfS9tZW1iZXJzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYod29ya3NwYWNlSWQgPT09IHVuZGVmaW5lZCB8fCB3b3Jrc3BhY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogd29ya3NwYWNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7d29ya3NwYWNlSWR9Jywgd29ya3NwYWNlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIHdvcmtzcGFjZSBtZW1iZXJcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlSWQgLSBXb3Jrc3BhY2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVtYmVySWQgLSBNZW1iZXIgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXhwYW5kIC0gRXhwYW5kIHdvcmtzcGFjZSBtZW1iZXIgZmllbGRzXG4gIG1lbWJlcixcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ3b3Jrc3BhY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVtYmVyVHlwZVwiOiBcIlwiLFxuICAgXCJtZW1iZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZ3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtZW1iZXJDb3VudFwiOiAwLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInJ1bGVzVmlzaWJsZVwiOiB0cnVlLFxuICAgICAgXCJ2aXNpYmlsaXR5XCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VjdXJpdHlQcm9maWxlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRNZW1iZXJzTWVtYmVySWQgPSBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRNZW1iZXJzTWVtYmVySWQod29ya3NwYWNlSWQsIG1lbWJlcklkLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfS9tZW1iZXJzL3ttZW1iZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgaWYobWVtYmVySWQgPT09IHVuZGVmaW5lZCB8fCBtZW1iZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbWVtYmVySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bWVtYmVySWR9JywgbWVtYmVySWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgYSBtZW1iZXIgdG8gYSB3b3Jrc3BhY2VcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlSWQgLSBXb3Jrc3BhY2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVtYmVySWQgLSBNZW1iZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFdvcmtzcGFjZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ3b3Jrc3BhY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVtYmVyVHlwZVwiOiBcIlwiLFxuICAgXCJtZW1iZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJncm91cFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwicnVsZXNWaXNpYmxlXCI6IHRydWUsXG4gICAgICBcInZpc2liaWxpdHlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VjdXJpdHlQcm9maWxlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXVxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIndvcmtzcGFjZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJtZW1iZXJUeXBlXCI6IFwiXCIsXG4gICBcIm1lbWJlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ1c2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJncm91cFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwicnVsZXNWaXNpYmxlXCI6IHRydWUsXG4gICAgICBcInZpc2liaWxpdHlcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWN1cml0eVByb2ZpbGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLnB1dFdvcmtzcGFjZXNXb3Jrc3BhY2VJZE1lbWJlcnNNZW1iZXJJZCA9IGZ1bmN0aW9uIHB1dFdvcmtzcGFjZXNXb3Jrc3BhY2VJZE1lbWJlcnNNZW1iZXJJZCh3b3Jrc3BhY2VJZCwgbWVtYmVySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfS9tZW1iZXJzL3ttZW1iZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgaWYobWVtYmVySWQgPT09IHVuZGVmaW5lZCB8fCBtZW1iZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbWVtYmVySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bWVtYmVySWR9JywgbWVtYmVySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgbWVtYmVyIGZyb20gYSB3b3Jrc3BhY2VcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlSWQgLSBXb3Jrc3BhY2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVtYmVySWQgLSBNZW1iZXIgSURcbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5kZWxldGVXb3Jrc3BhY2VzV29ya3NwYWNlSWRNZW1iZXJzTWVtYmVySWQgPSBmdW5jdGlvbiBkZWxldGVXb3Jrc3BhY2VzV29ya3NwYWNlSWRNZW1iZXJzTWVtYmVySWQod29ya3NwYWNlSWQsIG1lbWJlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzL3t3b3Jrc3BhY2VJZH0vbWVtYmVycy97bWVtYmVySWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYod29ya3NwYWNlSWQgPT09IHVuZGVmaW5lZCB8fCB3b3Jrc3BhY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogd29ya3NwYWNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7d29ya3NwYWNlSWR9Jywgd29ya3NwYWNlSWQpO1xuICAgIGlmKG1lbWJlcklkID09PSB1bmRlZmluZWQgfHwgbWVtYmVySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG1lbWJlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne21lbWJlcklkfScsIG1lbWJlcklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIHdvcmtzcGFjZSB0YWdzXG4gICogQG1lbWJlck9mIENvbnRlbnRNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHdvcmtzcGFjZUlkIC0gV29ya3NwYWNlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gZmlsdGVyIHRoZSBsaXN0IG9mIHRhZ3MgcmV0dXJuZWRcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXhwYW5kIC0gRXhwYW5kIHNvbWUgZG9jdW1lbnQgZmllbGRzXG4gIGFjbCxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRUYWd2YWx1ZXMgPSBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRUYWd2YWx1ZXMod29ya3NwYWNlSWQsIHZhbHVlLCBwYWdlU2l6ZSwgcGFnZU51bWJlciwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzL3t3b3Jrc3BhY2VJZH0vdGFndmFsdWVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYod29ya3NwYWNlSWQgPT09IHVuZGVmaW5lZCB8fCB3b3Jrc3BhY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogd29ya3NwYWNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7d29ya3NwYWNlSWR9Jywgd29ya3NwYWNlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInZhbHVlXCJdID0gdmFsdWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgd29ya3NwYWNlIHRhZ1xuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gdGFnXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImluVXNlXCI6IHRydWUsXG4gICBcImFjbFwiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImluVXNlXCI6IHRydWUsXG4gICBcImFjbFwiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUucG9zdFdvcmtzcGFjZXNXb3Jrc3BhY2VJZFRhZ3ZhbHVlcyA9IGZ1bmN0aW9uIHBvc3RXb3Jrc3BhY2VzV29ya3NwYWNlSWRUYWd2YWx1ZXMod29ya3NwYWNlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfS90YWd2YWx1ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUGVyZm9ybSBhIHByZWZpeCBxdWVyeSBvbiB0YWdzIGluIHRoZSB3b3Jrc3BhY2VcbiAgKiBAbWVtYmVyT2YgQ29udGVudE1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gd29ya3NwYWNlSWQgLSBXb3Jrc3BhY2UgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIHF1ZXJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIEV4cGFuZCBzb21lIGRvY3VtZW50IGZpZWxkc1xuICBhY2wsXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJxdWVyeVwiOiBcIlwiLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDBcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnRlbnRNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0V29ya3NwYWNlc1dvcmtzcGFjZUlkVGFndmFsdWVzUXVlcnkgPSBmdW5jdGlvbiBwb3N0V29ya3NwYWNlc1dvcmtzcGFjZUlkVGFndmFsdWVzUXVlcnkod29ya3NwYWNlSWQsIGJvZHksIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvd29ya3NwYWNlcy97d29ya3NwYWNlSWR9L3RhZ3ZhbHVlcy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHdvcmtzcGFjZUlkID09PSB1bmRlZmluZWQgfHwgd29ya3NwYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHdvcmtzcGFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3dvcmtzcGFjZUlkfScsIHdvcmtzcGFjZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgd29ya3NwYWNlIHRhZ1xuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdJZCAtIFRhZyBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBFeHBhbmQgc29tZSBkb2N1bWVudCBmaWVsZHNcbiAgYWNsLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImluVXNlXCI6IHRydWUsXG4gICBcImFjbFwiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0V29ya3NwYWNlc1dvcmtzcGFjZUlkVGFndmFsdWVzVGFnSWQgPSBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRUYWd2YWx1ZXNUYWdJZCh3b3Jrc3BhY2VJZCwgdGFnSWQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udGVudG1hbmFnZW1lbnQvd29ya3NwYWNlcy97d29ya3NwYWNlSWR9L3RhZ3ZhbHVlcy97dGFnSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYod29ya3NwYWNlSWQgPT09IHVuZGVmaW5lZCB8fCB3b3Jrc3BhY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogd29ya3NwYWNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7d29ya3NwYWNlSWR9Jywgd29ya3NwYWNlSWQpO1xuICAgIGlmKHRhZ0lkID09PSB1bmRlZmluZWQgfHwgdGFnSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHRhZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3RhZ0lkfScsIHRhZ0lkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgd29ya3NwYWNlIHRhZy4gV2lsbCB1cGRhdGUgYWxsIGRvY3VtZW50cyB3aXRoIHRoZSBuZXcgdGFnIHZhbHVlLlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdJZCAtIFRhZyBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gV29ya3NwYWNlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImluVXNlXCI6IHRydWUsXG4gICBcImFjbFwiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImluVXNlXCI6IHRydWUsXG4gICBcImFjbFwiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db250ZW50TWFuYWdlbWVudEFwaS5wcm90b3R5cGUucHV0V29ya3NwYWNlc1dvcmtzcGFjZUlkVGFndmFsdWVzVGFnSWQgPSBmdW5jdGlvbiBwdXRXb3Jrc3BhY2VzV29ya3NwYWNlSWRUYWd2YWx1ZXNUYWdJZCh3b3Jrc3BhY2VJZCwgdGFnSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnRlbnRtYW5hZ2VtZW50L3dvcmtzcGFjZXMve3dvcmtzcGFjZUlkfS90YWd2YWx1ZXMve3RhZ0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHdvcmtzcGFjZUlkID09PSB1bmRlZmluZWQgfHwgd29ya3NwYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHdvcmtzcGFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3dvcmtzcGFjZUlkfScsIHdvcmtzcGFjZUlkKTtcbiAgICBpZih0YWdJZCA9PT0gdW5kZWZpbmVkIHx8IHRhZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB0YWdJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t0YWdJZH0nLCB0YWdJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgd29ya3NwYWNlIHRhZ1xuICAqIEBkZXNjcmlwdGlvbiBEZWxldGUgYSB0YWcgZnJvbSBhIHdvcmtzcGFjZS4gV2lsbCByZW1vdmUgdGhpcyB0YWcgZnJvbSBhbGwgZG9jdW1lbnRzLlxuICAqIEBtZW1iZXJPZiBDb250ZW50TWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB3b3Jrc3BhY2VJZCAtIFdvcmtzcGFjZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdJZCAtIFRhZyBJRFxuICAqL1xuQ29udGVudE1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmRlbGV0ZVdvcmtzcGFjZXNXb3Jrc3BhY2VJZFRhZ3ZhbHVlc1RhZ0lkID0gZnVuY3Rpb24gZGVsZXRlV29ya3NwYWNlc1dvcmtzcGFjZUlkVGFndmFsdWVzVGFnSWQod29ya3NwYWNlSWQsIHRhZ0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb250ZW50bWFuYWdlbWVudC93b3Jrc3BhY2VzL3t3b3Jrc3BhY2VJZH0vdGFndmFsdWVzL3t0YWdJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih3b3Jrc3BhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHdvcmtzcGFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB3b3Jrc3BhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t3b3Jrc3BhY2VJZH0nLCB3b3Jrc3BhY2VJZCk7XG4gICAgaWYodGFnSWQgPT09IHVuZGVmaW5lZCB8fCB0YWdJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdGFnSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dGFnSWR9JywgdGFnSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBDb250ZW50TWFuYWdlbWVudEFwaTtcbiIsIi8qKlxuKiBAY2xhc3MgQ29udmVyc2F0aW9uc0FwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5Db252ZXJzYXRpb25zQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIENvbnZlcnNhdGlvbnNBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIENvbnZlcnNhdGlvbnNBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29udmVyc2F0aW9uc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udmVyc2F0aW9uc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIGNvbnZlcnNhdGlvbiBhZ2dyZWdhdGVzXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIHF1ZXJ5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJpbnRlcnZhbFwiOiBcIlwiLFxuICAgXCJncmFudWxhcml0eVwiOiBcIlwiLFxuICAgXCJncm91cEJ5XCI6IFtdLFxuICAgXCJmaWx0ZXJcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImNsYXVzZXNcIjogW10sXG4gICAgICBcInByZWRpY2F0ZXNcIjogW11cbiAgIH0sXG4gICBcIm1ldHJpY3NcIjogW10sXG4gICBcImZsYXR0ZW5NdWx0aXZhbHVlZERpbWVuc2lvbnNcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wb3N0Q29udmVyc2F0aW9uc0FnZ3JlZ2F0ZXNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RDb252ZXJzYXRpb25zQWdncmVnYXRlc1F1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9jb252ZXJzYXRpb25zL2FnZ3JlZ2F0ZXMvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBmb3IgY29udmVyc2F0aW9uIGRldGFpbHNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gcXVlcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImludGVydmFsXCI6IFwiXCIsXG4gICBcImNvbnZlcnNhdGlvbkZpbHRlcnNcIjogW10sXG4gICBcImV2YWx1YXRpb25GaWx0ZXJzXCI6IFtdLFxuICAgXCJzZWdtZW50RmlsdGVyc1wiOiBbXSxcbiAgIFwiYWdncmVnYXRpb25zXCI6IFtdLFxuICAgXCJwYWdpbmdcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDBcbiAgIH0sXG4gICBcIm9yZGVyXCI6IFwiXCIsXG4gICBcIm9yZGVyQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb252ZXJzYXRpb25zXCI6IFtdLFxuICAgXCJhZ2dyZWdhdGlvbnNcIjogW11cbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDb252ZXJzYXRpb25zRGV0YWlsc1F1ZXJ5ID0gZnVuY3Rpb24gcG9zdENvbnZlcnNhdGlvbnNEZXRhaWxzUXVlcnkoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL2NvbnZlcnNhdGlvbnMvZGV0YWlscy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGNvbnZlcnNhdGlvbiBieSBpZFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY29udmVyc2F0aW9uSWRcIjogXCJcIixcbiAgIFwiY29udmVyc2F0aW9uU3RhcnRcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJldmFsdWF0aW9uc1wiOiBbXVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRGV0YWlscyA9IGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZERldGFpbHMoY29udmVyc2F0aW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vZGV0YWlscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBJbmRleCBjb252ZXJzYXRpb24gcHJvcGVydGllc1xuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNlc3Npb25JZFwiOiBcIlwiLFxuICAgXCJ0aW1lc3RhbXBcIjogMCxcbiAgIFwicHJvcGVydGllc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJzZXNzaW9uSWRcIjogXCJcIixcbiAgIFwidGltZXN0YW1wXCI6IDAsXG4gICBcInByb3BlcnRpZXNcIjogW11cbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDb252ZXJzYXRpb25zQ29udmVyc2F0aW9uSWREZXRhaWxzUHJvcGVydGllcyA9IGZ1bmN0aW9uIHBvc3RDb252ZXJzYXRpb25zQ29udmVyc2F0aW9uSWREZXRhaWxzUHJvcGVydGllcyhjb252ZXJzYXRpb25JZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvYW5hbHl0aWNzL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9kZXRhaWxzL3Byb3BlcnRpZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGNvbnZlcnNhdGlvbnNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tdW5pY2F0aW9uVHlwZSAtIENhbGwgb3IgQ2hhdCBjb21tdW5pY2F0aW9uIGZpbHRlcmluZ1xuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9ucyA9IGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbnMoY29tbXVuaWNhdGlvblR5cGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJjb21tdW5pY2F0aW9uVHlwZVwiXSA9IGNvbW11bmljYXRpb25UeXBlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjYWxsYmFjayBjb252ZXJzYXRpb25zXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENhbGxiYWNrcyA9IGZ1bmN0aW9uIGdldENhbGxiYWNrcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbGJhY2tzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgQ2FsbGJhY2tcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FsbGJhY2tcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNjcmlwdElkXCI6IFwiXCIsXG4gICBcInF1ZXVlSWRcIjogXCJcIixcbiAgIFwicm91dGluZ0RhdGFcIjoge1xuICAgICAgXCJxdWV1ZUlkXCI6IFwiXCIsXG4gICAgICBcImxhbmd1YWdlSWRcIjogXCJcIixcbiAgICAgIFwicHJpb3JpdHlcIjogMCxcbiAgICAgIFwic2tpbGxJZHNcIjogW10sXG4gICAgICBcInByZWZlcnJlZEFnZW50SWRzXCI6IFtdXG4gICB9LFxuICAgXCJjYWxsYmFja1VzZXJOYW1lXCI6IFwiXCIsXG4gICBcImNhbGxiYWNrTnVtYmVyc1wiOiBbXSxcbiAgIFwiY2FsbGJhY2tTY2hlZHVsZWRUaW1lXCI6IFwiXCIsXG4gICBcImNvdW50cnlDb2RlXCI6IFwiXCIsXG4gICBcImlzQXV0b21hdGVkXCI6IHRydWUsXG4gICBcImF1dG9tYXRlZENhbGxiYWNrQ29uZmlnSWRcIjogXCJcIixcbiAgIFwiZGF0YVwiOiB7fVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbGJhY2tJZGVudGlmaWVyc1wiOiBbXVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdENhbGxiYWNrcyA9IGZ1bmN0aW9uIHBvc3RDYWxsYmFja3MoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxsYmFja3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgY2FsbGJhY2sgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZCAtIGNhbGxiYWNrSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcIm90aGVyTWVkaWFVcmlzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENhbGxiYWNrc0NhbGxiYWNrSWQgPSBmdW5jdGlvbiBnZXRDYWxsYmFja3NDYWxsYmFja0lkKGNhbGxiYWNrSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbGJhY2tzL3tjYWxsYmFja0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxiYWNrSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFja0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxsYmFja0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxiYWNrSWR9JywgY2FsbGJhY2tJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgY29udmVyc2F0aW9uIGJ5IGRpc2Nvbm5lY3RpbmcgYWxsIG9mIHRoZSBwYXJ0aWNpcGFudHNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja0lkIC0gY2FsbGJhY2tJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ29udmVyc2F0aW9uXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucGF0Y2hDYWxsYmFja3NDYWxsYmFja0lkID0gZnVuY3Rpb24gcGF0Y2hDYWxsYmFja3NDYWxsYmFja0lkKGNhbGxiYWNrSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbGJhY2tzL3tjYWxsYmFja0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxiYWNrSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFja0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxsYmFja0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxiYWNrSWR9JywgY2FsbGJhY2tJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnRcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja0lkIC0gY2FsbGJhY2tJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGFydGljaXBhbnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIndyYXB1cFwiOiB7XG4gICAgICBcImNvZGVcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG4gICB9LFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJyZWNvcmRpbmdcIjogdHJ1ZSxcbiAgIFwibXV0ZWRcIjogdHJ1ZSxcbiAgIFwiY29uZmluZWRcIjogdHJ1ZSxcbiAgIFwiaGVsZFwiOiB0cnVlLFxuICAgXCJ3cmFwdXBTa2lwcGVkXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2FsbGJhY2tzQ2FsbGJhY2tJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWQgPSBmdW5jdGlvbiBwYXRjaENhbGxiYWNrc0NhbGxiYWNrSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkKGNhbGxiYWNrSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbGJhY2tzL3tjYWxsYmFja0lkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsbGJhY2tJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxiYWNrSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxiYWNrSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsbGJhY2tJZH0nLCBjYWxsYmFja0lkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgdGhlIGF0dHJpYnV0ZXMgb24gYSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZCAtIGNhbGxiYWNrSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIEF0dHJpYnV0ZXNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImF0dHJpYnV0ZXNcIjoge31cbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2FsbGJhY2tzQ2FsbGJhY2tJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcGF0Y2hDYWxsYmFja3NDYWxsYmFja0lkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZEF0dHJpYnV0ZXMoY2FsbGJhY2tJZCwgcGFydGljaXBhbnRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxsYmFja3Mve2NhbGxiYWNrSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxiYWNrSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFja0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxsYmFja0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxiYWNrSWR9JywgY2FsbGJhY2tJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudCdzIGNvbW11bmljYXRpb24gYnkgZGlzY29ubmVjdGluZyBpdC5cbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja0lkIC0gY2FsbGJhY2tJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tdW5pY2F0aW9uSWQgLSBjb21tdW5pY2F0aW9uSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFBhcnRpY2lwYW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ3cmFwdXBcIjoge1xuICAgICAgXCJjb2RlXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwibm90ZXNcIjogXCJcIixcbiAgICAgIFwidGFnc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxuICAgfSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwicmVjb3JkaW5nXCI6IHRydWUsXG4gICBcIm11dGVkXCI6IHRydWUsXG4gICBcImNvbmZpbmVkXCI6IHRydWUsXG4gICBcImhlbGRcIjogdHJ1ZSxcbiAgIFwid3JhcHVwU2tpcHBlZFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENhbGxiYWNrc0NhbGxiYWNrSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ29tbXVuaWNhdGlvbnNDb21tdW5pY2F0aW9uSWQgPSBmdW5jdGlvbiBwYXRjaENhbGxiYWNrc0NhbGxiYWNrSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ29tbXVuaWNhdGlvbnNDb21tdW5pY2F0aW9uSWQoY2FsbGJhY2tJZCwgcGFydGljaXBhbnRJZCwgY29tbXVuaWNhdGlvbklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxiYWNrcy97Y2FsbGJhY2tJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9jb21tdW5pY2F0aW9ucy97Y29tbXVuaWNhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxiYWNrSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFja0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxsYmFja0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxiYWNrSWR9JywgY2FsbGJhY2tJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihjb21tdW5pY2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb21tdW5pY2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbW11bmljYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb21tdW5pY2F0aW9uSWR9JywgY29tbXVuaWNhdGlvbklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVwbGFjZSB0aGlzIHBhcnRpY2lwYW50IHdpdGggdGhlIHNwZWNpZmllZCB1c2VyIGFuZC9vciBhZGRyZXNzXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZCAtIGNhbGxiYWNrSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRyYW5zZmVyIHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInVzZXJJZFwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInVzZXJOYW1lXCI6IFwiXCIsXG4gICBcInF1ZXVlSWRcIjogXCJcIixcbiAgIFwidm9pY2VtYWlsXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDYWxsYmFja3NDYWxsYmFja0lkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFJlcGxhY2UgPSBmdW5jdGlvbiBwb3N0Q2FsbGJhY2tzQ2FsbGJhY2tJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRSZXBsYWNlKGNhbGxiYWNrSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbGJhY2tzL3tjYWxsYmFja0lkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3JlcGxhY2UnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsYmFja0lkID09PSB1bmRlZmluZWQgfHwgY2FsbGJhY2tJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbGJhY2tJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsYmFja0lkfScsIGNhbGxiYWNrSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSB3cmFwLXVwIGZvciB0aGlzIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudC4gXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZCAtIGNhbGxiYWNrSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3Zpc2lvbmFsIC0gSW5kaWNhdGVzIGlmIHRoZSB3cmFwLXVwIGNvZGUgaXMgcHJvdmlzaW9uYWwuXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNvZGVcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgXCJ0YWdzXCI6IFtdLFxuICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDYWxsYmFja3NDYWxsYmFja0lkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cCA9IGZ1bmN0aW9uIGdldENhbGxiYWNrc0NhbGxiYWNrSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwKGNhbGxiYWNrSWQsIHBhcnRpY2lwYW50SWQsIHByb3Zpc2lvbmFsKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxiYWNrcy97Y2FsbGJhY2tJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS93cmFwdXAnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsYmFja0lkID09PSB1bmRlZmluZWQgfHwgY2FsbGJhY2tJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbGJhY2tJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsYmFja0lkfScsIGNhbGxiYWNrSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvdmlzaW9uYWxcIl0gPSBwcm92aXNpb25hbDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbGlzdCBvZiB3cmFwdXAgY29kZXMgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50XG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZCAtIGNhbGxiYWNrSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gIFwic2VsZlVyaVwiOiBcIlwiXG4gfVxuXVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q2FsbGJhY2tzQ2FsbGJhY2tJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIGdldENhbGxiYWNrc0NhbGxiYWNrSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwY29kZXMoY2FsbGJhY2tJZCwgcGFydGljaXBhbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxsYmFja3Mve2NhbGxiYWNrSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vd3JhcHVwY29kZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsYmFja0lkID09PSB1bmRlZmluZWQgfHwgY2FsbGJhY2tJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbGJhY2tJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsYmFja0lkfScsIGNhbGxiYWNrSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHJlY2VudCBjb252ZXJzYXRpb25zXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENhbGxzID0gZnVuY3Rpb24gZ2V0Q2FsbHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgY2FsbCBjb252ZXJzYXRpb25cbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FsbCByZXF1ZXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJwaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJjYWxsRnJvbVF1ZXVlSWRcIjogXCJcIixcbiAgIFwiY2FsbFF1ZXVlSWRcIjogXCJcIixcbiAgIFwiY2FsbFVzZXJJZFwiOiBcIlwiLFxuICAgXCJwcmlvcml0eVwiOiAwLFxuICAgXCJsYW5ndWFnZUlkXCI6IFwiXCIsXG4gICBcInJvdXRpbmdTa2lsbHNJZHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wb3N0Q2FsbHMgPSBmdW5jdGlvbiBwb3N0Q2FsbHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjYWxsIGhpc3RvcnlcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnZhbCAtIEludGVydmFsIHN0cmluZzsgZm9ybWF0IGlzIElTTy04NjAxLiBTZXBhcmF0ZSBzdGFydCBhbmQgZW5kIHRpbWVzIHdpdGggZm9yd2FyZCBzbGFzaCAnLydcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENhbGxzSGlzdG9yeSA9IGZ1bmN0aW9uIGdldENhbGxzSGlzdG9yeShwYWdlU2l6ZSwgcGFnZU51bWJlciwgaW50ZXJ2YWwpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbHMvaGlzdG9yeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaW50ZXJ2YWxcIl0gPSBpbnRlcnZhbDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2lwYW50cyB0aGF0IHRoaXMgdXNlciBjYW4gaGF2ZSBvbiBhIGNvbmZlcmVuY2VcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMFxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q2FsbHNNYXhpbXVtY29uZmVyZW5jZXBhcnRpZXMgPSBmdW5jdGlvbiBnZXRDYWxsc01heGltdW1jb25mZXJlbmNlcGFydGllcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbHMvbWF4aW11bWNvbmZlcmVuY2VwYXJ0aWVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGNhbGwgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJvdGhlck1lZGlhVXJpc1wiOiBbXSxcbiAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDYWxsc0NhbGxJZCA9IGZ1bmN0aW9uIGdldENhbGxzQ2FsbElkKGNhbGxJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxscy97Y2FsbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEFkZCBhIG5ldyBjYWxsIHRvIGEgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDb252ZXJzYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNhbGxOdW1iZXJcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDYWxsc0NhbGxJZCA9IGZ1bmN0aW9uIHBvc3RDYWxsc0NhbGxJZChjYWxsSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbHMve2NhbGxJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsSWR9JywgY2FsbElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBjb252ZXJzYXRpb24gYnkgc2V0dGluZyBpdCdzIHJlY29yZGluZyBzdGF0ZSwgbWVyZ2luZyBpbiBvdGhlciBjb252ZXJzYXRpb25zIHRvIGNyZWF0ZSBhIGNvbmZlcmVuY2UsIG9yIGRpc2Nvbm5lY3RpbmcgYWxsIG9mIHRoZSBwYXJ0aWNpcGFudHNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIENvbnZlcnNhdGlvblxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2FsbHNDYWxsSWQgPSBmdW5jdGlvbiBwYXRjaENhbGxzQ2FsbElkKGNhbGxJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxscy97Y2FsbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgcGFydGljaXBhbnRzIHRvIGEgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDb252ZXJzYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wb3N0Q2FsbHNDYWxsSWRQYXJ0aWNpcGFudHMgPSBmdW5jdGlvbiBwb3N0Q2FsbHNDYWxsSWRQYXJ0aWNpcGFudHMoY2FsbElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnRcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFBhcnRpY2lwYW50IHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIndyYXB1cFwiOiB7XG4gICAgICBcImNvZGVcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG4gICB9LFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJyZWNvcmRpbmdcIjogdHJ1ZSxcbiAgIFwibXV0ZWRcIjogdHJ1ZSxcbiAgIFwiY29uZmluZWRcIjogdHJ1ZSxcbiAgIFwiaGVsZFwiOiB0cnVlLFxuICAgXCJ3cmFwdXBTa2lwcGVkXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2FsbHNDYWxsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkID0gZnVuY3Rpb24gcGF0Y2hDYWxsc0NhbGxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWQoY2FsbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsSWR9JywgY2FsbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgdGhlIGF0dHJpYnV0ZXMgb24gYSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQYXJ0aWNpcGFudCBhdHRyaWJ1dGVzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJhdHRyaWJ1dGVzXCI6IHt9XG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBwYXRjaENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZEF0dHJpYnV0ZXMoY2FsbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQncyBjb21tdW5pY2F0aW9uIGJ5IGRpc2Nvbm5lY3RpbmcgaXQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbW11bmljYXRpb25JZCAtIGNvbW11bmljYXRpb25JZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGFydGljaXBhbnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIndyYXB1cFwiOiB7XG4gICAgICBcImNvZGVcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG4gICB9LFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJyZWNvcmRpbmdcIjogdHJ1ZSxcbiAgIFwibXV0ZWRcIjogdHJ1ZSxcbiAgIFwiY29uZmluZWRcIjogdHJ1ZSxcbiAgIFwiaGVsZFwiOiB0cnVlLFxuICAgXCJ3cmFwdXBTa2lwcGVkXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2FsbHNDYWxsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ29tbXVuaWNhdGlvbnNDb21tdW5pY2F0aW9uSWQgPSBmdW5jdGlvbiBwYXRjaENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbW11bmljYXRpb25zQ29tbXVuaWNhdGlvbklkKGNhbGxJZCwgcGFydGljaXBhbnRJZCwgY29tbXVuaWNhdGlvbklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29tbXVuaWNhdGlvbnMve2NvbW11bmljYXRpb25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsSWR9JywgY2FsbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGNvbW11bmljYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbW11bmljYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29tbXVuaWNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbW11bmljYXRpb25JZH0nLCBjb21tdW5pY2F0aW9uSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBJbml0aWF0ZSBhbmQgdXBkYXRlIGNvbnN1bHQgdHJhbnNmZXJcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIERlc3RpbmF0aW9uIGFkZHJlc3MgJiBpbml0aWFsIHNwZWFrIHRvXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzcGVha1RvXCI6IFwiXCIsXG4gICBcImRlc3RpbmF0aW9uXCI6IHtcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInVzZXJJZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUlkXCI6IFwiXCJcbiAgIH1cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiZGVzdGluYXRpb25QYXJ0aWNpcGFudElkXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDYWxsc0NhbGxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRDb25zdWx0ID0gZnVuY3Rpb24gcG9zdENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbnN1bHQoY2FsbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29uc3VsdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ2FuY2VsIHRoZSB0cmFuc2ZlclxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGxJZCAtIGNhbGxJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZGVsZXRlQ2FsbHNDYWxsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ29uc3VsdCA9IGZ1bmN0aW9uIGRlbGV0ZUNhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbnN1bHQoY2FsbElkLCBwYXJ0aWNpcGFudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29uc3VsdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ2hhbmdlIHdobyBjYW4gc3BlYWtcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIG5ldyBzcGVhayB0b1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwic3BlYWtUb1wiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImRlc3RpbmF0aW9uUGFydGljaXBhbnRJZFwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbnN1bHQgPSBmdW5jdGlvbiBwYXRjaENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbnN1bHQoY2FsbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29uc3VsdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IExpc3RlbiBpbiBvbiB0aGUgY29udmVyc2F0aW9uIGZyb20gdGhlIHBvaW50IG9mIHZpZXcgb2YgYSBnaXZlbiBwYXJ0aWNpcGFudC5cbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDYWxsc0NhbGxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRNb25pdG9yID0gZnVuY3Rpb24gcG9zdENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZE1vbml0b3IoY2FsbElkLCBwYXJ0aWNpcGFudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vbW9uaXRvcic7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlcGxhY2UgdGhpcyBwYXJ0aWNpcGFudCB3aXRoIHRoZSBzcGVjaWZpZWQgdXNlciBhbmQvb3IgYWRkcmVzc1xuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGxJZCAtIGNhbGxJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVHJhbnNmZXIgcmVxdWVzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidXNlcklkXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwidXNlck5hbWVcIjogXCJcIixcbiAgIFwicXVldWVJZFwiOiBcIlwiLFxuICAgXCJ2b2ljZW1haWxcIjogdHJ1ZVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFJlcGxhY2UgPSBmdW5jdGlvbiBwb3N0Q2FsbHNDYWxsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkUmVwbGFjZShjYWxsSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2FsbHMve2NhbGxJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9yZXBsYWNlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsbElkID09PSB1bmRlZmluZWQgfHwgY2FsbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsbElkfScsIGNhbGxJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIHdyYXAtdXAgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LiBcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSWQgLSBjYWxsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3Zpc2lvbmFsIC0gSW5kaWNhdGVzIGlmIHRoZSB3cmFwLXVwIGNvZGUgaXMgcHJvdmlzaW9uYWwuXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNvZGVcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgXCJ0YWdzXCI6IFtdLFxuICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDYWxsc0NhbGxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXAgPSBmdW5jdGlvbiBnZXRDYWxsc0NhbGxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXAoY2FsbElkLCBwYXJ0aWNpcGFudElkLCBwcm92aXNpb25hbCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jYWxscy97Y2FsbElkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3dyYXB1cCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxJZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxJZH0nLCBjYWxsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvdmlzaW9uYWxcIl0gPSBwcm92aXNpb25hbDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbGlzdCBvZiB3cmFwdXAgY29kZXMgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50XG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbElkIC0gY2FsbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImlkXCI6IFwiXCIsXG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENhbGxzQ2FsbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cGNvZGVzID0gZnVuY3Rpb24gZ2V0Q2FsbHNDYWxsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwY29kZXMoY2FsbElkLCBwYXJ0aWNpcGFudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NhbGxzL3tjYWxsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vd3JhcHVwY29kZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYWxsSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYWxsSWR9JywgY2FsbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCByZWNlbnQgY2hhdCBjb252ZXJzYXRpb25zXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENoYXRzID0gZnVuY3Rpb24gZ2V0Q2hhdHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NoYXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGNoYXQgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhdElkIC0gY2hhdElkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJvdGhlck1lZGlhVXJpc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDaGF0c0NoYXRJZCA9IGZ1bmN0aW9uIGdldENoYXRzQ2hhdElkKGNoYXRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jaGF0cy97Y2hhdElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNoYXRJZCA9PT0gdW5kZWZpbmVkIHx8IGNoYXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2hhdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NoYXRJZH0nLCBjaGF0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIGNvbnZlcnNhdGlvbiBieSBkaXNjb25uZWN0aW5nIGFsbCBvZiB0aGUgcGFydGljaXBhbnRzXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhdElkIC0gY2hhdElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDb252ZXJzYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENoYXRzQ2hhdElkID0gZnVuY3Rpb24gcGF0Y2hDaGF0c0NoYXRJZChjaGF0SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2hhdHMve2NoYXRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjaGF0SWQgPT09IHVuZGVmaW5lZCB8fCBjaGF0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNoYXRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjaGF0SWR9JywgY2hhdElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNoYXRJZCAtIGNoYXRJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVXBkYXRlIHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIndyYXB1cFwiOiB7XG4gICAgICBcImNvZGVcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG4gICB9LFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJyZWNvcmRpbmdcIjogdHJ1ZSxcbiAgIFwibXV0ZWRcIjogdHJ1ZSxcbiAgIFwiY29uZmluZWRcIjogdHJ1ZSxcbiAgIFwiaGVsZFwiOiB0cnVlLFxuICAgXCJ3cmFwdXBTa2lwcGVkXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2hhdHNDaGF0SWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkID0gZnVuY3Rpb24gcGF0Y2hDaGF0c0NoYXRJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWQoY2hhdElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NoYXRzL3tjaGF0SWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjaGF0SWQgPT09IHVuZGVmaW5lZCB8fCBjaGF0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNoYXRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjaGF0SWR9JywgY2hhdElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgdGhlIGF0dHJpYnV0ZXMgb24gYSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhdElkIC0gY2hhdElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQYXJ0aWNpcGFudCBhdHRyaWJ1dGVzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJhdHRyaWJ1dGVzXCI6IHt9XG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENoYXRzQ2hhdElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBwYXRjaENoYXRzQ2hhdElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZEF0dHJpYnV0ZXMoY2hhdElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NoYXRzL3tjaGF0SWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNoYXRJZCA9PT0gdW5kZWZpbmVkIHx8IGNoYXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2hhdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NoYXRJZH0nLCBjaGF0SWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQncyBjb21tdW5pY2F0aW9uIGJ5IGRpc2Nvbm5lY3RpbmcgaXQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhdElkIC0gY2hhdElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbW11bmljYXRpb25JZCAtIGNvbW11bmljYXRpb25JZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGFydGljaXBhbnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIndyYXB1cFwiOiB7XG4gICAgICBcImNvZGVcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJ0YWdzXCI6IFtdLFxuICAgICAgXCJkdXJhdGlvblNlY29uZHNcIjogMCxcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25hbFwiOiB0cnVlXG4gICB9LFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJyZWNvcmRpbmdcIjogdHJ1ZSxcbiAgIFwibXV0ZWRcIjogdHJ1ZSxcbiAgIFwiY29uZmluZWRcIjogdHJ1ZSxcbiAgIFwiaGVsZFwiOiB0cnVlLFxuICAgXCJ3cmFwdXBTa2lwcGVkXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ2hhdHNDaGF0SWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ29tbXVuaWNhdGlvbnNDb21tdW5pY2F0aW9uSWQgPSBmdW5jdGlvbiBwYXRjaENoYXRzQ2hhdElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbW11bmljYXRpb25zQ29tbXVuaWNhdGlvbklkKGNoYXRJZCwgcGFydGljaXBhbnRJZCwgY29tbXVuaWNhdGlvbklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NoYXRzL3tjaGF0SWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29tbXVuaWNhdGlvbnMve2NvbW11bmljYXRpb25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjaGF0SWQgPT09IHVuZGVmaW5lZCB8fCBjaGF0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNoYXRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjaGF0SWR9JywgY2hhdElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGNvbW11bmljYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbW11bmljYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29tbXVuaWNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbW11bmljYXRpb25JZH0nLCBjb21tdW5pY2F0aW9uSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXBsYWNlIHRoaXMgcGFydGljaXBhbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHVzZXIgYW5kL29yIGFkZHJlc3NcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjaGF0SWQgLSBjaGF0SWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRyYW5zZmVyIHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInVzZXJJZFwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInVzZXJOYW1lXCI6IFwiXCIsXG4gICBcInF1ZXVlSWRcIjogXCJcIixcbiAgIFwidm9pY2VtYWlsXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDaGF0c0NoYXRJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRSZXBsYWNlID0gZnVuY3Rpb24gcG9zdENoYXRzQ2hhdElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFJlcGxhY2UoY2hhdElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NoYXRzL3tjaGF0SWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vcmVwbGFjZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNoYXRJZCA9PT0gdW5kZWZpbmVkIHx8IGNoYXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2hhdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NoYXRJZH0nLCBjaGF0SWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSB3cmFwLXVwIGZvciB0aGlzIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudC4gXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhdElkIC0gY2hhdElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHtib29sZWFufSBwcm92aXNpb25hbCAtIEluZGljYXRlcyBpZiB0aGUgd3JhcC11cCBjb2RlIGlzIHByb3Zpc2lvbmFsLlxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb2RlXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibm90ZXNcIjogXCJcIixcbiAgIFwidGFnc1wiOiBbXSxcbiAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q2hhdHNDaGF0SWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwID0gZnVuY3Rpb24gZ2V0Q2hhdHNDaGF0SWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwKGNoYXRJZCwgcGFydGljaXBhbnRJZCwgcHJvdmlzaW9uYWwpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY2hhdHMve2NoYXRJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS93cmFwdXAnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjaGF0SWQgPT09IHVuZGVmaW5lZCB8fCBjaGF0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNoYXRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjaGF0SWR9JywgY2hhdElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInByb3Zpc2lvbmFsXCJdID0gcHJvdmlzaW9uYWw7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGxpc3Qgb2Ygd3JhcHVwIGNvZGVzIGZvciB0aGlzIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNoYXRJZCAtIGNoYXRJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiLFxuICBcIm5hbWVcIjogXCJcIixcbiAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgXCJzZWxmVXJpXCI6IFwiXCJcbiB9XG5dXG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDaGF0c0NoYXRJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIGdldENoYXRzQ2hhdElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cGNvZGVzKGNoYXRJZCwgcGFydGljaXBhbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jaGF0cy97Y2hhdElkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3dyYXB1cGNvZGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2hhdElkID09PSB1bmRlZmluZWQgfHwgY2hhdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjaGF0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2hhdElkfScsIGNoYXRJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgcmVjZW50IGNvYnJvd3NlIGNvbnZlcnNhdGlvbnNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q29icm93c2VzZXNzaW9ucyA9IGZ1bmN0aW9uIGdldENvYnJvd3Nlc2Vzc2lvbnMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NvYnJvd3Nlc2Vzc2lvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgY29icm93c2UgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29icm93c2VJZCAtIGNvYnJvd3NlSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcIm90aGVyTWVkaWFVcmlzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkID0gZnVuY3Rpb24gZ2V0Q29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWQoY29icm93c2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jb2Jyb3dzZXNlc3Npb25zL3tjb2Jyb3dzZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgY29udmVyc2F0aW9uIGJ5IGRpc2Nvbm5lY3RpbmcgYWxsIG9mIHRoZSBwYXJ0aWNpcGFudHNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2Jyb3dzZUlkIC0gY29icm93c2VJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ29udmVyc2F0aW9uXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucGF0Y2hDb2Jyb3dzZXNlc3Npb25zQ29icm93c2VJZCA9IGZ1bmN0aW9uIHBhdGNoQ29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWQoY29icm93c2VJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jb2Jyb3dzZXNlc3Npb25zL3tjb2Jyb3dzZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnRcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2Jyb3dzZUlkIC0gY29icm93c2VJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ3cmFwdXBcIjoge1xuICAgICAgXCJjb2RlXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwibm90ZXNcIjogXCJcIixcbiAgICAgIFwidGFnc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxuICAgfSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwicmVjb3JkaW5nXCI6IHRydWUsXG4gICBcIm11dGVkXCI6IHRydWUsXG4gICBcImNvbmZpbmVkXCI6IHRydWUsXG4gICBcImhlbGRcIjogdHJ1ZSxcbiAgIFwid3JhcHVwU2tpcHBlZFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZCA9IGZ1bmN0aW9uIHBhdGNoQ29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkKGNvYnJvd3NlSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY29icm93c2VzZXNzaW9ucy97Y29icm93c2VJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9uIGEgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LlxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvYnJvd3NlSWQgLSBjb2Jyb3dzZUlkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImF0dHJpYnV0ZXNcIjoge31cbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBhdGNoQ29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHBhdGNoQ29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQXR0cmlidXRlcyhjb2Jyb3dzZUlkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NvYnJvd3Nlc2Vzc2lvbnMve2NvYnJvd3NlSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vYXR0cmlidXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudCdzIGNvbW11bmljYXRpb24gYnkgZGlzY29ubmVjdGluZyBpdC5cbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2Jyb3dzZUlkIC0gY29icm93c2VJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tdW5pY2F0aW9uSWQgLSBjb21tdW5pY2F0aW9uSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFBhcnRpY2lwYW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ3cmFwdXBcIjoge1xuICAgICAgXCJjb2RlXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwibm90ZXNcIjogXCJcIixcbiAgICAgIFwidGFnc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxuICAgfSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwicmVjb3JkaW5nXCI6IHRydWUsXG4gICBcIm11dGVkXCI6IHRydWUsXG4gICBcImNvbmZpbmVkXCI6IHRydWUsXG4gICBcImhlbGRcIjogdHJ1ZSxcbiAgIFwid3JhcHVwU2tpcHBlZFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvbW11bmljYXRpb25zQ29tbXVuaWNhdGlvbklkID0gZnVuY3Rpb24gcGF0Y2hDb2Jyb3dzZXNlc3Npb25zQ29icm93c2VJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRDb21tdW5pY2F0aW9uc0NvbW11bmljYXRpb25JZChjb2Jyb3dzZUlkLCBwYXJ0aWNpcGFudElkLCBjb21tdW5pY2F0aW9uSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY29icm93c2VzZXNzaW9ucy97Y29icm93c2VJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9jb21tdW5pY2F0aW9ucy97Y29tbXVuaWNhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihjb21tdW5pY2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb21tdW5pY2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbW11bmljYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb21tdW5pY2F0aW9uSWR9JywgY29tbXVuaWNhdGlvbklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVwbGFjZSB0aGlzIHBhcnRpY2lwYW50IHdpdGggdGhlIHNwZWNpZmllZCB1c2VyIGFuZC9vciBhZGRyZXNzXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29icm93c2VJZCAtIGNvYnJvd3NlSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidXNlcklkXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwidXNlck5hbWVcIjogXCJcIixcbiAgIFwicXVldWVJZFwiOiBcIlwiLFxuICAgXCJ2b2ljZW1haWxcIjogdHJ1ZVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFJlcGxhY2UgPSBmdW5jdGlvbiBwb3N0Q29icm93c2VzZXNzaW9uc0NvYnJvd3NlSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkUmVwbGFjZShjb2Jyb3dzZUlkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2NvYnJvd3Nlc2Vzc2lvbnMve2NvYnJvd3NlSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vcmVwbGFjZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIHdyYXAtdXAgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LiBcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2Jyb3dzZUlkIC0gY29icm93c2VJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvdmlzaW9uYWwgLSBJbmRpY2F0ZXMgaWYgdGhlIHdyYXAtdXAgY29kZSBpcyBwcm92aXNpb25hbC5cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY29kZVwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm5vdGVzXCI6IFwiXCIsXG4gICBcInRhZ3NcIjogW10sXG4gICBcImR1cmF0aW9uU2Vjb25kc1wiOiAwLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcInByb3Zpc2lvbmFsXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cCA9IGZ1bmN0aW9uIGdldENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cChjb2Jyb3dzZUlkLCBwYXJ0aWNpcGFudElkLCBwcm92aXNpb25hbCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9jb2Jyb3dzZXNlc3Npb25zL3tjb2Jyb3dzZUlkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3dyYXB1cCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwcm92aXNpb25hbFwiXSA9IHByb3Zpc2lvbmFsO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBsaXN0IG9mIHdyYXB1cCBjb2RlcyBmb3IgdGhpcyBjb252ZXJzYXRpb24gcGFydGljaXBhbnRcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2Jyb3dzZUlkIC0gY29icm93c2VJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnRJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiLFxuICBcIm5hbWVcIjogXCJcIixcbiAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgXCJzZWxmVXJpXCI6IFwiXCJcbiB9XG5dXG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDb2Jyb3dzZXNlc3Npb25zQ29icm93c2VJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIGdldENvYnJvd3Nlc2Vzc2lvbnNDb2Jyb3dzZUlkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cGNvZGVzKGNvYnJvd3NlSWQsIHBhcnRpY2lwYW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvY29icm93c2VzZXNzaW9ucy97Y29icm93c2VJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS93cmFwdXBjb2Rlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvYnJvd3NlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2Jyb3dzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2Jyb3dzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvYnJvd3NlSWR9JywgY29icm93c2VJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgcmVjZW50IGVtYWlsIGNvbnZlcnNhdGlvbnNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0RW1haWxzID0gZnVuY3Rpb24gZ2V0RW1haWxzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9lbWFpbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZW1haWwgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWxJZCAtIGVtYWlsSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcIm90aGVyTWVkaWFVcmlzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldEVtYWlsc0VtYWlsSWQgPSBmdW5jdGlvbiBnZXRFbWFpbHNFbWFpbElkKGVtYWlsSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZW1haWxzL3tlbWFpbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVtYWlsSWQgPT09IHVuZGVmaW5lZCB8fCBlbWFpbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbWFpbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VtYWlsSWR9JywgZW1haWxJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgY29udmVyc2F0aW9uIGJ5IGRpc2Nvbm5lY3RpbmcgYWxsIG9mIHRoZSBwYXJ0aWNpcGFudHNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbElkIC0gZW1haWxJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ29udmVyc2F0aW9uXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjogXCJcIixcbiAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucGF0Y2hFbWFpbHNFbWFpbElkID0gZnVuY3Rpb24gcGF0Y2hFbWFpbHNFbWFpbElkKGVtYWlsSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZW1haWxzL3tlbWFpbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVtYWlsSWQgPT09IHVuZGVmaW5lZCB8fCBlbWFpbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbWFpbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VtYWlsSWR9JywgZW1haWxJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjb252ZXJzYXRpb24gbWVzc2FnZXNcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbElkIC0gZW1haWxJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0RW1haWxzRW1haWxJZE1lc3NhZ2VzID0gZnVuY3Rpb24gZ2V0RW1haWxzRW1haWxJZE1lc3NhZ2VzKGVtYWlsSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZW1haWxzL3tlbWFpbElkfS9tZXNzYWdlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVtYWlsSWQgPT09IHVuZGVmaW5lZCB8fCBlbWFpbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbWFpbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VtYWlsSWR9JywgZW1haWxJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VuZCBhbiBlbWFpbCByZXBseVxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBSZXBseVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0b1wiOiBbXSxcbiAgIFwiY2NcIjogW10sXG4gICBcImJjY1wiOiBbXSxcbiAgIFwiZnJvbVwiOiB7XG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIlxuICAgfSxcbiAgIFwic3ViamVjdFwiOiBcIlwiLFxuICAgXCJhdHRhY2htZW50c1wiOiBbXSxcbiAgIFwidGV4dEJvZHlcIjogXCJcIixcbiAgIFwiaHRtbEJvZHlcIjogXCJcIixcbiAgIFwidGltZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidG9cIjogW10sXG4gICBcImNjXCI6IFtdLFxuICAgXCJiY2NcIjogW10sXG4gICBcImZyb21cIjoge1xuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCJcbiAgIH0sXG4gICBcInN1YmplY3RcIjogXCJcIixcbiAgIFwiYXR0YWNobWVudHNcIjogW10sXG4gICBcInRleHRCb2R5XCI6IFwiXCIsXG4gICBcImh0bWxCb2R5XCI6IFwiXCIsXG4gICBcInRpbWVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wb3N0RW1haWxzRW1haWxJZE1lc3NhZ2VzID0gZnVuY3Rpb24gcG9zdEVtYWlsc0VtYWlsSWRNZXNzYWdlcyhlbWFpbElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vbWVzc2FnZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlbWFpbElkID09PSB1bmRlZmluZWQgfHwgZW1haWxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZW1haWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlbWFpbElkfScsIGVtYWlsSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjb252ZXJzYXRpb24gZHJhZnQgcmVwbHlcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbElkIC0gZW1haWxJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInRvXCI6IFtdLFxuICAgXCJjY1wiOiBbXSxcbiAgIFwiYmNjXCI6IFtdLFxuICAgXCJmcm9tXCI6IHtcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJzdWJqZWN0XCI6IFwiXCIsXG4gICBcImF0dGFjaG1lbnRzXCI6IFtdLFxuICAgXCJ0ZXh0Qm9keVwiOiBcIlwiLFxuICAgXCJodG1sQm9keVwiOiBcIlwiLFxuICAgXCJ0aW1lXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0RW1haWxzRW1haWxJZE1lc3NhZ2VzRHJhZnQgPSBmdW5jdGlvbiBnZXRFbWFpbHNFbWFpbElkTWVzc2FnZXNEcmFmdChlbWFpbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vbWVzc2FnZXMvZHJhZnQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlbWFpbElkID09PSB1bmRlZmluZWQgfHwgZW1haWxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZW1haWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlbWFpbElkfScsIGVtYWlsSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBjb252ZXJzYXRpb24gZHJhZnQgcmVwbHlcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbElkIC0gZW1haWxJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gRHJhZnRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidG9cIjogW10sXG4gICBcImNjXCI6IFtdLFxuICAgXCJiY2NcIjogW10sXG4gICBcImZyb21cIjoge1xuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCJcbiAgIH0sXG4gICBcInN1YmplY3RcIjogXCJcIixcbiAgIFwiYXR0YWNobWVudHNcIjogW10sXG4gICBcInRleHRCb2R5XCI6IFwiXCIsXG4gICBcImh0bWxCb2R5XCI6IFwiXCIsXG4gICBcInRpbWVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInRvXCI6IFtdLFxuICAgXCJjY1wiOiBbXSxcbiAgIFwiYmNjXCI6IFtdLFxuICAgXCJmcm9tXCI6IHtcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJzdWJqZWN0XCI6IFwiXCIsXG4gICBcImF0dGFjaG1lbnRzXCI6IFtdLFxuICAgXCJ0ZXh0Qm9keVwiOiBcIlwiLFxuICAgXCJodG1sQm9keVwiOiBcIlwiLFxuICAgXCJ0aW1lXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucHV0RW1haWxzRW1haWxJZE1lc3NhZ2VzRHJhZnQgPSBmdW5jdGlvbiBwdXRFbWFpbHNFbWFpbElkTWVzc2FnZXNEcmFmdChlbWFpbElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vbWVzc2FnZXMvZHJhZnQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlbWFpbElkID09PSB1bmRlZmluZWQgfHwgZW1haWxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZW1haWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlbWFpbElkfScsIGVtYWlsSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGF0dGFjaG1lbnQgZnJvbSBkcmFmdFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IGF0dGFjaG1lbnRJZCAtIGF0dGFjaG1lbnRJZFxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZGVsZXRlRW1haWxzRW1haWxJZE1lc3NhZ2VzRHJhZnRBdHRhY2htZW50c0F0dGFjaG1lbnRJZCA9IGZ1bmN0aW9uIGRlbGV0ZUVtYWlsc0VtYWlsSWRNZXNzYWdlc0RyYWZ0QXR0YWNobWVudHNBdHRhY2htZW50SWQoZW1haWxJZCwgYXR0YWNobWVudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vbWVzc2FnZXMvZHJhZnQvYXR0YWNobWVudHMve2F0dGFjaG1lbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlbWFpbElkID09PSB1bmRlZmluZWQgfHwgZW1haWxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZW1haWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlbWFpbElkfScsIGVtYWlsSWQpO1xuICAgIGlmKGF0dGFjaG1lbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGF0dGFjaG1lbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYXR0YWNobWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2F0dGFjaG1lbnRJZH0nLCBhdHRhY2htZW50SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjb252ZXJzYXRpb24gbWVzc2FnZVxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCAtIG1lc3NhZ2VJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInRvXCI6IFtdLFxuICAgXCJjY1wiOiBbXSxcbiAgIFwiYmNjXCI6IFtdLFxuICAgXCJmcm9tXCI6IHtcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJzdWJqZWN0XCI6IFwiXCIsXG4gICBcImF0dGFjaG1lbnRzXCI6IFtdLFxuICAgXCJ0ZXh0Qm9keVwiOiBcIlwiLFxuICAgXCJodG1sQm9keVwiOiBcIlwiLFxuICAgXCJ0aW1lXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0RW1haWxzRW1haWxJZE1lc3NhZ2VzTWVzc2FnZUlkID0gZnVuY3Rpb24gZ2V0RW1haWxzRW1haWxJZE1lc3NhZ2VzTWVzc2FnZUlkKGVtYWlsSWQsIG1lc3NhZ2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9lbWFpbHMve2VtYWlsSWR9L21lc3NhZ2VzL3ttZXNzYWdlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZW1haWxJZCA9PT0gdW5kZWZpbmVkIHx8IGVtYWlsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVtYWlsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZW1haWxJZH0nLCBlbWFpbElkKTtcbiAgICBpZihtZXNzYWdlSWQgPT09IHVuZGVmaW5lZCB8fCBtZXNzYWdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG1lc3NhZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3ttZXNzYWdlSWR9JywgbWVzc2FnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50XG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWxJZCAtIGVtYWlsSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50SWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFVwZGF0ZSByZXF1ZXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ3cmFwdXBcIjoge1xuICAgICAgXCJjb2RlXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwibm90ZXNcIjogXCJcIixcbiAgICAgIFwidGFnc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxuICAgfSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwicmVjb3JkaW5nXCI6IHRydWUsXG4gICBcIm11dGVkXCI6IHRydWUsXG4gICBcImNvbmZpbmVkXCI6IHRydWUsXG4gICBcImhlbGRcIjogdHJ1ZSxcbiAgIFwid3JhcHVwU2tpcHBlZFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaEVtYWlsc0VtYWlsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkID0gZnVuY3Rpb24gcGF0Y2hFbWFpbHNFbWFpbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZChlbWFpbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVtYWlsSWQgPT09IHVuZGVmaW5lZCB8fCBlbWFpbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbWFpbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VtYWlsSWR9JywgZW1haWxJZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9uIGEgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LlxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQYXJ0aWNpcGFudCBhdHRyaWJ1dGVzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJhdHRyaWJ1dGVzXCI6IHt9XG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wYXRjaEVtYWlsc0VtYWlsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQXR0cmlidXRlcyA9IGZ1bmN0aW9uIHBhdGNoRW1haWxzRW1haWxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRBdHRyaWJ1dGVzKGVtYWlsSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZW1haWxzL3tlbWFpbElkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L2F0dHJpYnV0ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlbWFpbElkID09PSB1bmRlZmluZWQgfHwgZW1haWxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZW1haWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlbWFpbElkfScsIGVtYWlsSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlcGxhY2UgdGhpcyBwYXJ0aWNpcGFudCB3aXRoIHRoZSBzcGVjaWZpZWQgdXNlciBhbmQvb3IgYWRkcmVzc1xuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUcmFuc2ZlciByZXF1ZXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJ1c2VySWRcIjogXCJcIixcbiAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgXCJ1c2VyTmFtZVwiOiBcIlwiLFxuICAgXCJxdWV1ZUlkXCI6IFwiXCIsXG4gICBcInZvaWNlbWFpbFwiOiB0cnVlXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5wb3N0RW1haWxzRW1haWxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRSZXBsYWNlID0gZnVuY3Rpb24gcG9zdEVtYWlsc0VtYWlsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkUmVwbGFjZShlbWFpbElkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL2VtYWlscy97ZW1haWxJZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9yZXBsYWNlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZW1haWxJZCA9PT0gdW5kZWZpbmVkIHx8IGVtYWlsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVtYWlsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZW1haWxJZH0nLCBlbWFpbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgd3JhcC11cCBmb3IgdGhpcyBjb252ZXJzYXRpb24gcGFydGljaXBhbnQuIFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQHBhcmFtIHtib29sZWFufSBwcm92aXNpb25hbCAtIEluZGljYXRlcyBpZiB0aGUgd3JhcC11cCBjb2RlIGlzIHByb3Zpc2lvbmFsLlxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjb2RlXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibm90ZXNcIjogXCJcIixcbiAgIFwidGFnc1wiOiBbXSxcbiAgIFwiZHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICBcImVuZFRpbWVcIjogXCJcIixcbiAgIFwicHJvdmlzaW9uYWxcIjogdHJ1ZVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0RW1haWxzRW1haWxJZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRXcmFwdXAgPSBmdW5jdGlvbiBnZXRFbWFpbHNFbWFpbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cChlbWFpbElkLCBwYXJ0aWNpcGFudElkLCBwcm92aXNpb25hbCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy9lbWFpbHMve2VtYWlsSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vd3JhcHVwJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZW1haWxJZCA9PT0gdW5kZWZpbmVkIHx8IGVtYWlsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVtYWlsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZW1haWxJZH0nLCBlbWFpbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInByb3Zpc2lvbmFsXCJdID0gcHJvdmlzaW9uYWw7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGxpc3Qgb2Ygd3JhcHVwIGNvZGVzIGZvciB0aGlzIGNvbnZlcnNhdGlvbiBwYXJ0aWNpcGFudFxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsSWQgLSBlbWFpbElkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudElkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImlkXCI6IFwiXCIsXG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldEVtYWlsc0VtYWlsSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwY29kZXMgPSBmdW5jdGlvbiBnZXRFbWFpbHNFbWFpbElkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cGNvZGVzKGVtYWlsSWQsIHBhcnRpY2lwYW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZW1haWxzL3tlbWFpbElkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3dyYXB1cGNvZGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZW1haWxJZCA9PT0gdW5kZWZpbmVkIHx8IGVtYWlsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVtYWlsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZW1haWxJZH0nLCBlbWFpbElkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBGYXggQ29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEZheFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcImRvY3VtZW50SWRcIjogXCJcIixcbiAgIFwiY29udGVudFR5cGVcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImlzQ3VycmVudFVzZXJXb3Jrc3BhY2VcIjogdHJ1ZSxcbiAgICAgIFwidXNlclwiOiB7fSxcbiAgICAgIFwiYnVja2V0XCI6IFwiXCIsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJzdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJhY2xcIjogW10sXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvdmVyU2hlZXRcIjoge1xuICAgICAgXCJub3Rlc1wiOiBcIlwiLFxuICAgICAgXCJsb2NhbGVcIjogXCJcIlxuICAgfSxcbiAgIFwidGltZVpvbmVPZmZzZXRNaW51dGVzXCI6IDBcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ1cGxvYWREZXN0aW5hdGlvblVyaVwiOiBcIlwiLFxuICAgXCJ1cGxvYWRNZXRob2RUeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdEZheGVzID0gZnVuY3Rpb24gcG9zdEZheGVzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMvZmF4ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgY29udmVyc2F0aW9uXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb24gSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Db252ZXJzYXRpb25zQXBpLnByb3RvdHlwZS5nZXRDb252ZXJzYXRpb25JZCA9IGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbklkKGNvbnZlcnNhdGlvbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgcGFydGljaXBhbnQuXG4gICogQGRlc2NyaXB0aW9uIFVwZGF0ZSBjb252ZXJzYXRpb24gcGFydGljaXBhbnQuXG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50IElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBVcGRhdGUgcmVxdWVzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwid3JhcHVwXCI6IHtcbiAgICAgIFwiY29kZVwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcIm5vdGVzXCI6IFwiXCIsXG4gICAgICBcInRhZ3NcIjogW10sXG4gICAgICBcImR1cmF0aW9uU2Vjb25kc1wiOiAwLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcInByb3Zpc2lvbmFsXCI6IHRydWVcbiAgIH0sXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInJlY29yZGluZ1wiOiB0cnVlLFxuICAgXCJtdXRlZFwiOiB0cnVlLFxuICAgXCJjb25maW5lZFwiOiB0cnVlLFxuICAgXCJoZWxkXCI6IHRydWUsXG4gICBcIndyYXB1cFNraXBwZWRcIjogdHJ1ZVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucGF0Y2hDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWQgPSBmdW5jdGlvbiBwYXRjaENvbnZlcnNhdGlvbklkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZChjb252ZXJzYXRpb25JZCwgcGFydGljaXBhbnRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9uIGEgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LlxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGFydGljaXBhbnQgYXR0cmlidXRlc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiYXR0cmlidXRlc1wiOiB7fVxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUucGF0Y2hDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcGF0Y2hDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRBdHRyaWJ1dGVzKGNvbnZlcnNhdGlvbklkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9hdHRyaWJ1dGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBjYWxsYmFjayBmb3IgdGhlIHNwZWNpZmllZCBwYXJ0aWNpcGFudCBvbiB0aGUgY29udmVyc2F0aW9uLlxuICAqIEBtZW1iZXJPZiBDb252ZXJzYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpY2lwYW50SWQgLSBwYXJ0aWNpcGFudCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzY3JpcHRJZFwiOiBcIlwiLFxuICAgXCJxdWV1ZUlkXCI6IFwiXCIsXG4gICBcInJvdXRpbmdEYXRhXCI6IHtcbiAgICAgIFwicXVldWVJZFwiOiBcIlwiLFxuICAgICAgXCJsYW5ndWFnZUlkXCI6IFwiXCIsXG4gICAgICBcInByaW9yaXR5XCI6IDAsXG4gICAgICBcInNraWxsSWRzXCI6IFtdLFxuICAgICAgXCJwcmVmZXJyZWRBZ2VudElkc1wiOiBbXVxuICAgfSxcbiAgIFwiY2FsbGJhY2tVc2VyTmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsYmFja051bWJlcnNcIjogW10sXG4gICBcImNhbGxiYWNrU2NoZWR1bGVkVGltZVwiOiBcIlwiLFxuICAgXCJjb3VudHJ5Q29kZVwiOiBcIlwiLFxuICAgXCJpc0F1dG9tYXRlZFwiOiB0cnVlLFxuICAgXCJhdXRvbWF0ZWRDYWxsYmFja0NvbmZpZ0lkXCI6IFwiXCIsXG4gICBcImRhdGFcIjoge31cbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRDYWxsYmFja3MgPSBmdW5jdGlvbiBwb3N0Q29udmVyc2F0aW9uSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkQ2FsbGJhY2tzKGNvbnZlcnNhdGlvbklkLCBwYXJ0aWNpcGFudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vcGFydGljaXBhbnRzL3twYXJ0aWNpcGFudElkfS9jYWxsYmFja3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBjb2RlIHVzZWQgdG8gYWRkIGEgY29tbXVuaWNhdGlvbiB0byB0aGlzIHBhcnRpY2lwYW50XG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50IElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGFkZENvbW11bmljYXRpb25Db2RlIC0gYWRkQ29tbXVuaWNhdGlvbkNvZGVcbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmRlbGV0ZUNvbnZlcnNhdGlvbklkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZENvZGVzQWRkY29tbXVuaWNhdGlvbmNvZGUgPSBmdW5jdGlvbiBkZWxldGVDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRDb2Rlc0FkZGNvbW11bmljYXRpb25jb2RlKGNvbnZlcnNhdGlvbklkLCBwYXJ0aWNpcGFudElkLCBhZGRDb21tdW5pY2F0aW9uQ29kZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vY29kZXMve2FkZENvbW11bmljYXRpb25Db2RlfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICBpZihwYXJ0aWNpcGFudElkID09PSB1bmRlZmluZWQgfHwgcGFydGljaXBhbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGFydGljaXBhbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3twYXJ0aWNpcGFudElkfScsIHBhcnRpY2lwYW50SWQpO1xuICAgIGlmKGFkZENvbW11bmljYXRpb25Db2RlID09PSB1bmRlZmluZWQgfHwgYWRkQ29tbXVuaWNhdGlvbkNvZGUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGFkZENvbW11bmljYXRpb25Db2RlJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2FkZENvbW11bmljYXRpb25Db2RlfScsIGFkZENvbW11bmljYXRpb25Db2RlKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXBsYWNlIHRoaXMgcGFydGljaXBhbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHVzZXIgYW5kL29yIGFkZHJlc3NcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIGNvbnZlcnNhdGlvbiBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRyYW5zZmVyIHJlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInVzZXJJZFwiOiBcIlwiLFxuICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICBcInVzZXJOYW1lXCI6IFwiXCIsXG4gICBcInF1ZXVlSWRcIjogXCJcIixcbiAgIFwidm9pY2VtYWlsXCI6IHRydWVcbn1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDb252ZXJzYXRpb25JZFBhcnRpY2lwYW50c1BhcnRpY2lwYW50SWRSZXBsYWNlID0gZnVuY3Rpb24gcG9zdENvbnZlcnNhdGlvbklkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFJlcGxhY2UoY29udmVyc2F0aW9uSWQsIHBhcnRpY2lwYW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3JlcGxhY2UnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYocGFydGljaXBhbnRJZCA9PT0gdW5kZWZpbmVkIHx8IHBhcnRpY2lwYW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBhcnRpY2lwYW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGFydGljaXBhbnRJZH0nLCBwYXJ0aWNpcGFudElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIHdyYXAtdXAgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50LiBcbiAgKiBAbWVtYmVyT2YgQ29udmVyc2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIGNvbnZlcnNhdGlvbiBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWNpcGFudElkIC0gcGFydGljaXBhbnQgSURcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3Zpc2lvbmFsIC0gSW5kaWNhdGVzIGlmIHRoZSB3cmFwLXVwIGNvZGUgaXMgcHJvdmlzaW9uYWwuXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuQ29udmVyc2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwID0gZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9uSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwKGNvbnZlcnNhdGlvbklkLCBwYXJ0aWNpcGFudElkLCBwcm92aXNpb25hbCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3BhcnRpY2lwYW50cy97cGFydGljaXBhbnRJZH0vd3JhcHVwJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvdmlzaW9uYWxcIl0gPSBwcm92aXNpb25hbDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbGlzdCBvZiB3cmFwdXAgY29kZXMgZm9yIHRoaXMgY29udmVyc2F0aW9uIHBhcnRpY2lwYW50XG4gICogQG1lbWJlck9mIENvbnZlcnNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGFydGljaXBhbnRJZCAtIHBhcnRpY2lwYW50IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImlkXCI6IFwiXCIsXG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cbkNvbnZlcnNhdGlvbnNBcGkucHJvdG90eXBlLmdldENvbnZlcnNhdGlvbklkUGFydGljaXBhbnRzUGFydGljaXBhbnRJZFdyYXB1cGNvZGVzID0gZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9uSWRQYXJ0aWNpcGFudHNQYXJ0aWNpcGFudElkV3JhcHVwY29kZXMoY29udmVyc2F0aW9uSWQsIHBhcnRpY2lwYW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9wYXJ0aWNpcGFudHMve3BhcnRpY2lwYW50SWR9L3dyYXB1cGNvZGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKHBhcnRpY2lwYW50SWQgPT09IHVuZGVmaW5lZCB8fCBwYXJ0aWNpcGFudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwYXJ0aWNpcGFudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BhcnRpY2lwYW50SWR9JywgcGFydGljaXBhbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnZlcnNhdGlvbnNBcGk7XG4iLCIvKipcbiogQGNsYXNzIEZheEFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5GYXhBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gRmF4QXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBGYXhBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmF4QXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYXhBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgZmF4IGRvY3VtZW50cy5cbiAgKiBAbWVtYmVyT2YgRmF4QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5GYXhBcGkucHJvdG90eXBlLmdldERvY3VtZW50cyA9IGZ1bmN0aW9uIGdldERvY3VtZW50cyhwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZmF4L2RvY3VtZW50cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZG9jdW1lbnQuXG4gICogQG1lbWJlck9mIEZheEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwiY29udGVudFVyaVwiOiBcIlwiLFxuICAgXCJ3b3Jrc3BhY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRlbnRUeXBlXCI6IFwiXCIsXG4gICBcImNvbnRlbnRMZW5ndGhcIjogMCxcbiAgIFwiZmlsZW5hbWVcIjogXCJcIixcbiAgIFwicmVhZFwiOiB0cnVlLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwiY2FsbGVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJyZWNlaXZlckFkZHJlc3NcIjogXCJcIixcbiAgIFwidGh1bWJuYWlsc1wiOiBbXSxcbiAgIFwic2hhcmluZ1VyaVwiOiBcIlwiLFxuICAgXCJkb3dubG9hZFNoYXJpbmdVcmlcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5GYXhBcGkucHJvdG90eXBlLmdldERvY3VtZW50c0RvY3VtZW50SWQgPSBmdW5jdGlvbiBnZXREb2N1bWVudHNEb2N1bWVudElkKGRvY3VtZW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2ZheC9kb2N1bWVudHMve2RvY3VtZW50SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9jdW1lbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGRvY3VtZW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvY3VtZW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9jdW1lbnRJZH0nLCBkb2N1bWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBmYXggZG9jdW1lbnQuXG4gICogQG1lbWJlck9mIEZheEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIERvY3VtZW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJjb250ZW50VXJpXCI6IFwiXCIsXG4gICBcIndvcmtzcGFjZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udGVudFR5cGVcIjogXCJcIixcbiAgIFwiY29udGVudExlbmd0aFwiOiAwLFxuICAgXCJmaWxlbmFtZVwiOiBcIlwiLFxuICAgXCJyZWFkXCI6IHRydWUsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcInJlY2VpdmVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJ0aHVtYm5haWxzXCI6IFtdLFxuICAgXCJzaGFyaW5nVXJpXCI6IFwiXCIsXG4gICBcImRvd25sb2FkU2hhcmluZ1VyaVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcImNvbnRlbnRVcmlcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjb250ZW50VHlwZVwiOiBcIlwiLFxuICAgXCJjb250ZW50TGVuZ3RoXCI6IDAsXG4gICBcImZpbGVuYW1lXCI6IFwiXCIsXG4gICBcInJlYWRcIjogdHJ1ZSxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcImNhbGxlckFkZHJlc3NcIjogXCJcIixcbiAgIFwicmVjZWl2ZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInNoYXJpbmdVcmlcIjogXCJcIixcbiAgIFwiZG93bmxvYWRTaGFyaW5nVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuRmF4QXBpLnByb3RvdHlwZS5wdXREb2N1bWVudHNEb2N1bWVudElkID0gZnVuY3Rpb24gcHV0RG9jdW1lbnRzRG9jdW1lbnRJZChkb2N1bWVudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9mYXgvZG9jdW1lbnRzL3tkb2N1bWVudElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRvY3VtZW50SWQgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb2N1bWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RvY3VtZW50SWR9JywgZG9jdW1lbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBmYXggZG9jdW1lbnQuXG4gICogQG1lbWJlck9mIEZheEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSURcbiAgKi9cbkZheEFwaS5wcm90b3R5cGUuZGVsZXRlRG9jdW1lbnRzRG9jdW1lbnRJZCA9IGZ1bmN0aW9uIGRlbGV0ZURvY3VtZW50c0RvY3VtZW50SWQoZG9jdW1lbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZmF4L2RvY3VtZW50cy97ZG9jdW1lbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkb2N1bWVudElkID09PSB1bmRlZmluZWQgfHwgZG9jdW1lbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG9jdW1lbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkb2N1bWVudElkfScsIGRvY3VtZW50SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERvd25sb2FkIGEgZmF4IGRvY3VtZW50LlxuICAqIEBtZW1iZXJPZiBGYXhBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG9jdW1lbnRJZCAtIERvY3VtZW50IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNvbnRlbnRMb2NhdGlvblVyaVwiOiBcIlwiLFxuICAgXCJpbWFnZVVyaVwiOiBcIlwiLFxuICAgXCJ0aHVtYm5haWxzXCI6IFtdXG59XG4gICovXG5GYXhBcGkucHJvdG90eXBlLmdldERvY3VtZW50c0RvY3VtZW50SWRDb250ZW50ID0gZnVuY3Rpb24gZ2V0RG9jdW1lbnRzRG9jdW1lbnRJZENvbnRlbnQoZG9jdW1lbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZmF4L2RvY3VtZW50cy97ZG9jdW1lbnRJZH0vY29udGVudCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRvY3VtZW50SWQgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb2N1bWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RvY3VtZW50SWR9JywgZG9jdW1lbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGZheCBzdW1tYXJ5XG4gICogQG1lbWJlck9mIEZheEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJyZWFkQ291bnRcIjogMCxcbiAgIFwidW5yZWFkQ291bnRcIjogMCxcbiAgIFwidG90YWxDb3VudFwiOiAwXG59XG4gICovXG5GYXhBcGkucHJvdG90eXBlLmdldFN1bW1hcnkgPSBmdW5jdGlvbiBnZXRTdW1tYXJ5KCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZmF4L3N1bW1hcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRmF4QXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBHZW9sb2NhdGlvbkFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5HZW9sb2NhdGlvbkFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBHZW9sb2NhdGlvbkFwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgR2VvbG9jYXRpb25BcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgR2VvbG9jYXRpb25BcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dlb2xvY2F0aW9uQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBvcmdhbml6YXRpb24ncyBHZW9sb2NhdGlvblNldHRpbmdzXG4gICogQG1lbWJlck9mIEdlb2xvY2F0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdlb2xvY2F0aW9uQXBpLnByb3RvdHlwZS5nZXRTZXR0aW5ncyA9IGZ1bmN0aW9uIGdldFNldHRpbmdzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZ2VvbG9jYXRpb25zL3NldHRpbmdzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUGF0Y2ggYSBvcmdhbml6YXRpb24ncyBHZW9sb2NhdGlvblNldHRpbmdzXG4gICogQG1lbWJlck9mIEdlb2xvY2F0aW9uQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBHZW9sb2NhdGlvbiBzZXR0aW5nc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR2VvbG9jYXRpb25BcGkucHJvdG90eXBlLnBhdGNoU2V0dGluZ3MgPSBmdW5jdGlvbiBwYXRjaFNldHRpbmdzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dlb2xvY2F0aW9ucy9zZXR0aW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSB1c2VyJ3MgR2VvbG9jYXRpb25cbiAgKiBAbWVtYmVyT2YgR2VvbG9jYXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gdXNlciBJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIGNsaWVudCBJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJsYXRpdHVkZVwiOiB7fSxcbiAgIFwibG9uZ2l0dWRlXCI6IHt9LFxuICAgXCJjb3VudHJ5XCI6IFwiXCIsXG4gICBcInJlZ2lvblwiOiBcIlwiLFxuICAgXCJjaXR5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR2VvbG9jYXRpb25BcGkucHJvdG90eXBlLmdldFVzZXJJZEdlb2xvY2F0aW9uc0NsaWVudElkID0gZnVuY3Rpb24gZ2V0VXNlcklkR2VvbG9jYXRpb25zQ2xpZW50SWQodXNlcklkLCBjbGllbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vZ2VvbG9jYXRpb25zL3tjbGllbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihjbGllbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGNsaWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjbGllbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjbGllbnRJZH0nLCBjbGllbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUGF0Y2ggYSB1c2VyJ3MgR2VvbG9jYXRpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhlIGdlb2xvY2F0aW9uIG9iamVjdCBjYW4gYmUgcGF0Y2hlZCBvbmUgb2YgdGhyZWUgd2F5cy4gT3B0aW9uIDE6IFNldCB0aGUgJ3ByaW1hcnknIHByb3BlcnR5IHRvIHRydWUuIFRoaXMgd2lsbCBzZXQgdGhlIGNsaWVudCBhcyB0aGUgdXNlcidzIHByaW1hcnkgZ2VvbG9jYXRpb24gc291cmNlLiAgT3B0aW9uIDI6IFByb3ZpZGUgdGhlICdsYXRpdHVkZScgYW5kICdsb25naXR1ZGUnIHZhbHVlcy4gIFRoaXMgd2lsbCBlbnF1ZXVlIGFuIGFzeW5jaHJvbm91cyB1cGRhdGUgb2YgdGhlICdjaXR5JywgJ3JlZ2lvbicsIGFuZCAnY291bnRyeScsIGdlbmVyYXRpbmcgYSBub3RpZmljYXRpb24uIEEgc3Vic2VxdWVudCBHRVQgb3BlcmF0aW9uIHdpbGwgaW5jbHVkZSB0aGUgbmV3IHZhbHVlcyBmb3IgJ2NpdHknLCAncmVnaW9uJyBhbmQgJ2NvdW50cnknLiAgT3B0aW9uIDM6ICBQcm92aWRlIHRoZSAnY2l0eScsICdyZWdpb24nLCAnY291bnRyeScgdmFsdWVzLiAgT3B0aW9uIDEgY2FuIGJlIGNvbWJpbmVkIHdpdGggT3B0aW9uIDIgb3IgT3B0aW9uIDMuICBGb3IgZXhhbXBsZSwgdXBkYXRlIHRoZSBjbGllbnQgYXMgcHJpbWFyeSBhbmQgcHJvdmlkZSBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIHZhbHVlcy5cbiAgKiBAbWVtYmVyT2YgR2VvbG9jYXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gdXNlciBJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIGNsaWVudCBJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gR2VvbG9jYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICBcImxhdGl0dWRlXCI6IHt9LFxuICAgXCJsb25naXR1ZGVcIjoge30sXG4gICBcImNvdW50cnlcIjogXCJcIixcbiAgIFwicmVnaW9uXCI6IFwiXCIsXG4gICBcImNpdHlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJsYXRpdHVkZVwiOiB7fSxcbiAgIFwibG9uZ2l0dWRlXCI6IHt9LFxuICAgXCJjb3VudHJ5XCI6IFwiXCIsXG4gICBcInJlZ2lvblwiOiBcIlwiLFxuICAgXCJjaXR5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR2VvbG9jYXRpb25BcGkucHJvdG90eXBlLnBhdGNoVXNlcklkR2VvbG9jYXRpb25zQ2xpZW50SWQgPSBmdW5jdGlvbiBwYXRjaFVzZXJJZEdlb2xvY2F0aW9uc0NsaWVudElkKHVzZXJJZCwgY2xpZW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L2dlb2xvY2F0aW9ucy97Y2xpZW50SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoY2xpZW50SWQgPT09IHVuZGVmaW5lZCB8fCBjbGllbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2xpZW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2xpZW50SWR9JywgY2xpZW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gR2VvbG9jYXRpb25BcGk7XG4iLCIvKipcbiogQGNsYXNzIEdyZWV0aW5nc0FwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5HcmVldGluZ3NBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gR3JlZXRpbmdzQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBHcmVldGluZ3NBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JlZXRpbmdzQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHcmVldGluZ3NBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgYW4gT3JnYW5pemF0aW9uJ3MgR3JlZXRpbmdzXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuR3JlZXRpbmdzQXBpLnByb3RvdHlwZS5nZXRHcmVldGluZ3MgPSBmdW5jdGlvbiBnZXRHcmVldGluZ3MocGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyZWV0aW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgR3JlZXRpbmcgZm9yIGFuIE9yZ2FuaXphdGlvblxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRoZSBHcmVldGluZyB0byBjcmVhdGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvRmlsZVwiOiB7XG4gICAgICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICAgICBcInNpemVCeXRlc1wiOiAwLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvVFRTXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcImdyZWV0aW5nc1wiOiB7fSxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR3JlZXRpbmdzQXBpLnByb3RvdHlwZS5wb3N0R3JlZXRpbmdzID0gZnVuY3Rpb24gcG9zdEdyZWV0aW5ncyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncmVldGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gT3JnYW5pemF0aW9uJ3MgRGVmYXVsdEdyZWV0aW5nTGlzdFxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJvd25lclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwiZ3JlZXRpbmdzXCI6IHt9LFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5HcmVldGluZ3NBcGkucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gZ2V0RGVmYXVsdHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncmVldGluZ3MvZGVmYXVsdHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gT3JnYW5pemF0aW9uJ3MgRGVmYXVsdEdyZWV0aW5nTGlzdFxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRoZSB1cGRhdGVkIGRlZmF1bHRHcmVldGluZ0xpc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiLFxuICAgXCJncmVldGluZ3NcIjoge30sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcImdyZWV0aW5nc1wiOiB7fSxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR3JlZXRpbmdzQXBpLnByb3RvdHlwZS5wdXREZWZhdWx0cyA9IGZ1bmN0aW9uIHB1dERlZmF1bHRzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyZWV0aW5ncy9kZWZhdWx0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgR3JlZXRpbmcgd2l0aCB0aGUgZ2l2ZW4gR3JlZXRpbmdJZFxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZ3JlZXRpbmdJZCAtIEdyZWV0aW5nIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYXVkaW9GaWxlXCI6IHtcbiAgICAgIFwiZHVyYXRpb25NaWxsaXNlY29uZHNcIjogMCxcbiAgICAgIFwic2l6ZUJ5dGVzXCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYXVkaW9UVFNcIjogXCJcIixcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR3JlZXRpbmdzQXBpLnByb3RvdHlwZS5nZXRHcmVldGluZ0lkID0gZnVuY3Rpb24gZ2V0R3JlZXRpbmdJZChncmVldGluZ0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncmVldGluZ3Mve2dyZWV0aW5nSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZ3JlZXRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IGdyZWV0aW5nSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGdyZWV0aW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Z3JlZXRpbmdJZH0nLCBncmVldGluZ0lkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGVzIHRoZSBHcmVldGluZyB3aXRoIHRoZSBnaXZlbiBHcmVldGluZ0lkXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBncmVldGluZ0lkIC0gR3JlZXRpbmcgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRoZSB1cGRhdGVkIEdyZWV0aW5nXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJhdWRpb0ZpbGVcIjoge1xuICAgICAgXCJkdXJhdGlvbk1pbGxpc2Vjb25kc1wiOiAwLFxuICAgICAgXCJzaXplQnl0ZXNcIjogMCxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJhdWRpb1RUU1wiOiBcIlwiLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvRmlsZVwiOiB7XG4gICAgICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICAgICBcInNpemVCeXRlc1wiOiAwLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvVFRTXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdyZWV0aW5nc0FwaS5wcm90b3R5cGUucHV0R3JlZXRpbmdJZCA9IGZ1bmN0aW9uIHB1dEdyZWV0aW5nSWQoZ3JlZXRpbmdJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZ3JlZXRpbmdzL3tncmVldGluZ0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGdyZWV0aW5nSWQgPT09IHVuZGVmaW5lZCB8fCBncmVldGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBncmVldGluZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2dyZWV0aW5nSWR9JywgZ3JlZXRpbmdJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGVzIGEgR3JlZXRpbmcgd2l0aCB0aGUgZ2l2ZW4gR3JlZXRpbmdJZFxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZ3JlZXRpbmdJZCAtIEdyZWV0aW5nIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYXVkaW9GaWxlXCI6IHtcbiAgICAgIFwiZHVyYXRpb25NaWxsaXNlY29uZHNcIjogMCxcbiAgICAgIFwic2l6ZUJ5dGVzXCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYXVkaW9UVFNcIjogXCJcIixcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR3JlZXRpbmdzQXBpLnByb3RvdHlwZS5kZWxldGVHcmVldGluZ0lkID0gZnVuY3Rpb24gZGVsZXRlR3JlZXRpbmdJZChncmVldGluZ0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncmVldGluZ3Mve2dyZWV0aW5nSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZ3JlZXRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IGdyZWV0aW5nSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGdyZWV0aW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Z3JlZXRpbmdJZH0nLCBncmVldGluZ0lkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbWVkaWEgcGxheWJhY2sgVVJJIGZvciB0aGlzIGdyZWV0aW5nXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBncmVldGluZ0lkIC0gR3JlZXRpbmcgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0SWQgLSBUaGUgZGVzaXJlZCBtZWRpYSBmb3JtYXQuXG4gIFdBVixcbiAgV0VCTSxcbiAgV0FWX1VMQVcsXG4gIE9HR19WT1JCSVMsXG4gIE9HR19PUFVTLFxuICBOT05FLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJtZWRpYUZpbGVVcmlcIjogXCJcIixcbiAgIFwibWVkaWFJbWFnZVVyaVwiOiBcIlwiXG59XG4gICovXG5HcmVldGluZ3NBcGkucHJvdG90eXBlLmdldEdyZWV0aW5nSWRNZWRpYSA9IGZ1bmN0aW9uIGdldEdyZWV0aW5nSWRNZWRpYShncmVldGluZ0lkLCBmb3JtYXRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZ3JlZXRpbmdzL3tncmVldGluZ0lkfS9tZWRpYSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGdyZWV0aW5nSWQgPT09IHVuZGVmaW5lZCB8fCBncmVldGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBncmVldGluZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2dyZWV0aW5nSWR9JywgZ3JlZXRpbmdJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZm9ybWF0SWRcIl0gPSBmb3JtYXRJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIHRoZSBVc2VyJ3MgR3JlZXRpbmdzXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5HcmVldGluZ3NBcGkucHJvdG90eXBlLmdldFVzZXJJZEdyZWV0aW5ncyA9IGZ1bmN0aW9uIGdldFVzZXJJZEdyZWV0aW5ncyh1c2VySWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9ncmVldGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBHcmVldGluZyBmb3IgYSBVc2VyXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUaGUgR3JlZXRpbmcgdG8gY3JlYXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJhdWRpb0ZpbGVcIjoge1xuICAgICAgXCJkdXJhdGlvbk1pbGxpc2Vjb25kc1wiOiAwLFxuICAgICAgXCJzaXplQnl0ZXNcIjogMCxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJhdWRpb1RUU1wiOiBcIlwiLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvRmlsZVwiOiB7XG4gICAgICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICAgICBcInNpemVCeXRlc1wiOiAwLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImF1ZGlvVFRTXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdyZWV0aW5nc0FwaS5wcm90b3R5cGUucG9zdFVzZXJJZEdyZWV0aW5ncyA9IGZ1bmN0aW9uIHBvc3RVc2VySWRHcmVldGluZ3ModXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9ncmVldGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHcmFicyB0aGUgbGlzdCBvZiBEZWZhdWx0IEdyZWV0aW5ncyBnaXZlbiBhIFVzZXIncyBJRFxuICAqIEBtZW1iZXJPZiBHcmVldGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiLFxuICAgXCJncmVldGluZ3NcIjoge30sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdyZWV0aW5nc0FwaS5wcm90b3R5cGUuZ2V0VXNlcklkR3JlZXRpbmdzRGVmYXVsdHMgPSBmdW5jdGlvbiBnZXRVc2VySWRHcmVldGluZ3NEZWZhdWx0cyh1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L2dyZWV0aW5ncy9kZWZhdWx0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZXMgdGhlIERlZmF1bHRHcmVldGluZ0xpc3Qgb2YgdGhlIHNwZWNpZmllZCBVc2VyXG4gICogQG1lbWJlck9mIEdyZWV0aW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUaGUgdXBkYXRlZCBkZWZhdWx0R3JlZXRpbmdMaXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwiZ3JlZXRpbmdzXCI6IHt9LFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiLFxuICAgXCJncmVldGluZ3NcIjoge30sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdyZWV0aW5nc0FwaS5wcm90b3R5cGUucHV0VXNlcklkR3JlZXRpbmdzRGVmYXVsdHMgPSBmdW5jdGlvbiBwdXRVc2VySWRHcmVldGluZ3NEZWZhdWx0cyh1c2VySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L2dyZWV0aW5ncy9kZWZhdWx0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEdyZWV0aW5nc0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgR3JvdXBzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLkdyb3Vwc0FwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBHcm91cHNBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIEdyb3Vwc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cHNBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dyb3Vwc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZ3JvdXAgbGlzdFxuICAqIEBtZW1iZXJPZiBHcm91cHNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gQXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcgc29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Hcm91cHNBcGkucHJvdG90eXBlLmdldEdyb3VwcyA9IGZ1bmN0aW9uIGdldEdyb3VwcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncm91cHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBncm91cFxuICAqIEBtZW1iZXJPZiBHcm91cHNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEdyb3VwXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcInJ1bGVzVmlzaWJsZVwiOiB0cnVlLFxuICAgXCJ2aXNpYmlsaXR5XCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibWVtYmVyQ291bnRcIjogMCxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcImltYWdlc1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJydWxlc1Zpc2libGVcIjogdHJ1ZSxcbiAgIFwidmlzaWJpbGl0eVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkdyb3Vwc0FwaS5wcm90b3R5cGUucG9zdEdyb3VwcyA9IGZ1bmN0aW9uIHBvc3RHcm91cHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvZ3JvdXBzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VhcmNoIHVzaW5nIHE2NFxuICAqIEBtZW1iZXJPZiBHcm91cHNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcTY0IC0gcTY0XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gZXhwYW5kXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuR3JvdXBzQXBpLnByb3RvdHlwZS5nZXRTZWFyY2ggPSBmdW5jdGlvbiBnZXRTZWFyY2gocTY0LCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyb3Vwcy9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxNjQgPT09IHVuZGVmaW5lZCB8fCBxNjQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHE2NCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJxNjRcIl0gPSBxNjQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaFxuICAqIEBtZW1iZXJPZiBHcm91cHNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNlYXJjaCByZXF1ZXN0IG9wdGlvbnNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNvcnRPcmRlclwiOiBcIlwiLFxuICAgXCJzb3J0QnlcIjogXCJcIixcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJyZXR1cm5GaWVsZHNcIjogW10sXG4gICBcImV4cGFuZFwiOiBbXSxcbiAgIFwicXVlcnlcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicHJldmlvdXNQYWdlXCI6IFwiXCIsXG4gICBcImN1cnJlbnRQYWdlXCI6IFwiXCIsXG4gICBcIm5leHRQYWdlXCI6IFwiXCIsXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5Hcm91cHNBcGkucHJvdG90eXBlLnBvc3RTZWFyY2ggPSBmdW5jdGlvbiBwb3N0U2VhcmNoKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyb3Vwcy9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZ3JvdXBcbiAgKiBAbWVtYmVyT2YgR3JvdXBzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwSWQgLSBHcm91cCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtZW1iZXJDb3VudFwiOiAwLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcInJ1bGVzVmlzaWJsZVwiOiB0cnVlLFxuICAgXCJ2aXNpYmlsaXR5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuR3JvdXBzQXBpLnByb3RvdHlwZS5nZXRHcm91cElkID0gZnVuY3Rpb24gZ2V0R3JvdXBJZChncm91cElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncm91cHMve2dyb3VwSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZ3JvdXBJZCA9PT0gdW5kZWZpbmVkIHx8IGdyb3VwSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGdyb3VwSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Z3JvdXBJZH0nLCBncm91cElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZ3JvdXAgbWVtYmVyc1xuICAqIEBtZW1iZXJPZiBHcm91cHNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBJZCAtIEdyb3VwIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIEFzY2VuZGluZyBvciBkZXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgYXNjZW5kaW5nLFxuICBkZXNjZW5kaW5nLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuR3JvdXBzQXBpLnByb3RvdHlwZS5nZXRHcm91cElkTWVtYmVycyA9IGZ1bmN0aW9uIGdldEdyb3VwSWRNZW1iZXJzKGdyb3VwSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyb3Vwcy97Z3JvdXBJZH0vbWVtYmVycyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGdyb3VwSWQgPT09IHVuZGVmaW5lZCB8fCBncm91cElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBncm91cElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2dyb3VwSWR9JywgZ3JvdXBJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0T3JkZXJcIl0gPSBzb3J0T3JkZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQWRkIG1lbWJlcnNcbiAgKiBAbWVtYmVyT2YgR3JvdXBzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwSWQgLSBHcm91cCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQWRkIG1lbWJlcnNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm1lbWJlcklkc1wiOiBbXSxcbiAgIFwidmVyc2lvblwiOiAwXG59XG4gICovXG5Hcm91cHNBcGkucHJvdG90eXBlLnBvc3RHcm91cElkTWVtYmVycyA9IGZ1bmN0aW9uIHBvc3RHcm91cElkTWVtYmVycyhncm91cElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncm91cHMve2dyb3VwSWR9L21lbWJlcnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihncm91cElkID09PSB1bmRlZmluZWQgfHwgZ3JvdXBJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZ3JvdXBJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tncm91cElkfScsIGdyb3VwSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlbW92ZSBtZW1iZXJzXG4gICogQG1lbWJlck9mIEdyb3Vwc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBncm91cElkIC0gR3JvdXAgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gaWRzIC0gQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdXNlcklkcyB0byByZW1vdmVcbiAgKi9cbkdyb3Vwc0FwaS5wcm90b3R5cGUuZGVsZXRlR3JvdXBJZE1lbWJlcnMgPSBmdW5jdGlvbiBkZWxldGVHcm91cElkTWVtYmVycyhncm91cElkLCBpZHMpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2dyb3Vwcy97Z3JvdXBJZH0vbWVtYmVycyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGdyb3VwSWQgPT09IHVuZGVmaW5lZCB8fCBncm91cElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBncm91cElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2dyb3VwSWR9JywgZ3JvdXBJZCk7XG4gICAgaWYoaWRzID09PSB1bmRlZmluZWQgfHwgaWRzID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBpZHMnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaWRzXCJdID0gaWRzO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBHcm91cHNBcGk7XG4iLCIvKipcbiogQGNsYXNzIElkZW50aXR5UHJvdmlkZXJBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uSWRlbnRpdHlQcm92aWRlckFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBJZGVudGl0eVByb3ZpZGVyQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBJZGVudGl0eVByb3ZpZGVyQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IElkZW50aXR5UHJvdmlkZXJBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lkZW50aXR5UHJvdmlkZXJBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFRoZSBsaXN0IG9mIGlkZW50aXR5IHByb3ZpZGVyc1xuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5nZXRJZGVudGl0eXByb3ZpZGVycyA9IGZ1bmN0aW9uIGdldElkZW50aXR5cHJvdmlkZXJzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgQURGUyBJZGVudGl0eSBQcm92aWRlclxuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicmVseWluZ1BhcnR5SWRlbnRpZmllclwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJpc3N1ZXJVUklcIjogXCJcIixcbiAgIFwic3NvVGFyZ2V0VVJJXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZ2V0QWRmcyA9IGZ1bmN0aW9uIGdldEFkZnMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9hZGZzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlL0NyZWF0ZSBBREZTIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFByb3ZpZGVyXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInJlbHlpbmdQYXJ0eUlkZW50aWZpZXJcIjogXCJcIixcbiAgIFwiY2VydGlmaWNhdGVcIjogXCJcIixcbiAgIFwiaXNzdWVyVVJJXCI6IFwiXCIsXG4gICBcInNzb1RhcmdldFVSSVwiOiBcIlwiLFxuICAgXCJkaXNhYmxlZFwiOiB0cnVlXG59XG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5wdXRBZGZzID0gZnVuY3Rpb24gcHV0QWRmcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9hZGZzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgQURGUyBJZGVudGl0eSBQcm92aWRlclxuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5kZWxldGVBZGZzID0gZnVuY3Rpb24gZGVsZXRlQWRmcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL2FkZnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgQ3VzdG9tZXIgSW50ZXJhY3Rpb24gQ2VudGVyIChDSUMpIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJpc3N1ZXJVUklcIjogXCJcIixcbiAgIFwic3NvVGFyZ2V0VVJJXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZ2V0Q2ljID0gZnVuY3Rpb24gZ2V0Q2ljKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvY2ljJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlL0NyZWF0ZSBDdXN0b21lciBJbnRlcmFjdGlvbiBDZW50ZXIgKENJQykgSWRlbnRpdHkgUHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUHJvdmlkZXJcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2VydGlmaWNhdGVcIjogXCJcIixcbiAgIFwiaXNzdWVyVVJJXCI6IFwiXCIsXG4gICBcInNzb1RhcmdldFVSSVwiOiBcIlwiLFxuICAgXCJkaXNhYmxlZFwiOiB0cnVlXG59XG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5wdXRDaWMgPSBmdW5jdGlvbiBwdXRDaWMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvY2ljJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgQ3VzdG9tZXIgSW50ZXJhY3Rpb24gQ2VudGVyIChDSUMpIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKi9cbklkZW50aXR5UHJvdmlkZXJBcGkucHJvdG90eXBlLmRlbGV0ZUNpYyA9IGZ1bmN0aW9uIGRlbGV0ZUNpYygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL2NpYyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBPa3RhIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJpc3N1ZXJVUklcIjogXCJcIixcbiAgIFwic3NvVGFyZ2V0VVJJXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZ2V0T2t0YSA9IGZ1bmN0aW9uIGdldE9rdGEoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9va3RhJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlL0NyZWF0ZSBPa3RhIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFByb3ZpZGVyXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNlcnRpZmljYXRlXCI6IFwiXCIsXG4gICBcImlzc3VlclVSSVwiOiBcIlwiLFxuICAgXCJzc29UYXJnZXRVUklcIjogXCJcIixcbiAgIFwiZGlzYWJsZWRcIjogdHJ1ZVxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUucHV0T2t0YSA9IGZ1bmN0aW9uIHB1dE9rdGEoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvb2t0YSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIE9rdGEgSWRlbnRpdHkgUHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZGVsZXRlT2t0YSA9IGZ1bmN0aW9uIGRlbGV0ZU9rdGEoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9va3RhJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IE9uZUxvZ2luIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJpc3N1ZXJVUklcIjogXCJcIixcbiAgIFwic3NvVGFyZ2V0VVJJXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZ2V0T25lbG9naW4gPSBmdW5jdGlvbiBnZXRPbmVsb2dpbigpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL29uZWxvZ2luJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlL0NyZWF0ZSBPbmVMb2dpbiBJZGVudGl0eSBQcm92aWRlclxuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQcm92aWRlclxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJpc3N1ZXJVUklcIjogXCJcIixcbiAgIFwic3NvVGFyZ2V0VVJJXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWVcbn1cbiAgKi9cbklkZW50aXR5UHJvdmlkZXJBcGkucHJvdG90eXBlLnB1dE9uZWxvZ2luID0gZnVuY3Rpb24gcHV0T25lbG9naW4oYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvb25lbG9naW4nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBPbmVMb2dpbiBJZGVudGl0eSBQcm92aWRlclxuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5kZWxldGVPbmVsb2dpbiA9IGZ1bmN0aW9uIGRlbGV0ZU9uZWxvZ2luKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvb25lbG9naW4nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgUHVyZUNsb3VkIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkaXNhYmxlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbklkZW50aXR5UHJvdmlkZXJBcGkucHJvdG90eXBlLmdldFB1cmVjbG91ZCA9IGZ1bmN0aW9uIGdldFB1cmVjbG91ZCgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL3B1cmVjbG91ZCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZS9DcmVhdGUgUHVyZUNsb3VkIElkZW50aXR5IFByb3ZpZGVyXG4gICogQG1lbWJlck9mIElkZW50aXR5UHJvdmlkZXJBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFByb3ZpZGVyXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWVcbn1cbiAgKi9cbklkZW50aXR5UHJvdmlkZXJBcGkucHJvdG90eXBlLnB1dFB1cmVjbG91ZCA9IGZ1bmN0aW9uIHB1dFB1cmVjbG91ZChib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9wdXJlY2xvdWQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBQdXJlQ2xvdWQgSWRlbnRpdHkgUHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZGVsZXRlUHVyZWNsb3VkID0gZnVuY3Rpb24gZGVsZXRlUHVyZWNsb3VkKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMvcHVyZWNsb3VkJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IFNhbGVzZm9yY2UgSWRlbnRpdHkgUHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNlcnRpZmljYXRlXCI6IFwiXCIsXG4gICBcImlzc3VlclVSSVwiOiBcIlwiLFxuICAgXCJzc29UYXJnZXRVUklcIjogXCJcIixcbiAgIFwiZGlzYWJsZWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5nZXRTYWxlc2ZvcmNlID0gZnVuY3Rpb24gZ2V0U2FsZXNmb3JjZSgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL3NhbGVzZm9yY2UnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUvQ3JlYXRlIFNhbGVzZm9yY2UgSWRlbnRpdHkgUHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUHJvdmlkZXJcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2VydGlmaWNhdGVcIjogXCJcIixcbiAgIFwiaXNzdWVyVVJJXCI6IFwiXCIsXG4gICBcInNzb1RhcmdldFVSSVwiOiBcIlwiLFxuICAgXCJkaXNhYmxlZFwiOiB0cnVlXG59XG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5wdXRTYWxlc2ZvcmNlID0gZnVuY3Rpb24gcHV0U2FsZXNmb3JjZShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy9zYWxlc2ZvcmNlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgU2FsZXNmb3JjZSBJZGVudGl0eSBQcm92aWRlclxuICAqIEBtZW1iZXJPZiBJZGVudGl0eVByb3ZpZGVyQXBpXG4gICogQGluc3RhbmNlXG4gICovXG5JZGVudGl0eVByb3ZpZGVyQXBpLnByb3RvdHlwZS5kZWxldGVTYWxlc2ZvcmNlID0gZnVuY3Rpb24gZGVsZXRlU2FsZXNmb3JjZSgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2lkZW50aXR5cHJvdmlkZXJzL3NhbGVzZm9yY2UnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gaWRlbnRpdHkgcHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRpc2FibGVkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVySWQoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy97cHJvdmlkZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gaWRlbnRpdHkgcHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUHJvdmlkZXJcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGlzYWJsZWRcIjogdHJ1ZVxufVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUucHV0UHJvdmlkZXJJZCA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVySWQoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvaWRlbnRpdHlwcm92aWRlcnMve3Byb3ZpZGVySWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYW4gaWRlbnRpdHkgcHJvdmlkZXJcbiAgKiBAbWVtYmVyT2YgSWRlbnRpdHlQcm92aWRlckFwaVxuICAqIEBpbnN0YW5jZVxuICAqL1xuSWRlbnRpdHlQcm92aWRlckFwaS5wcm90b3R5cGUuZGVsZXRlUHJvdmlkZXJJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVySWQoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9pZGVudGl0eXByb3ZpZGVycy97cHJvdmlkZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gSWRlbnRpdHlQcm92aWRlckFwaTtcbiIsIi8qKlxuKiBAY2xhc3MgTGFuZ3VhZ2VzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLkxhbmd1YWdlc0FwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBMYW5ndWFnZXNBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIExhbmd1YWdlc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZXNBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xhbmd1YWdlc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBsYW5ndWFnZXMuXG4gICogQG1lbWJlck9mIExhbmd1YWdlc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBBc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXG4gIGFzY2VuZGluZyxcbiAgZGVzY2VuZGluZyxcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbkxhbmd1YWdlc0FwaS5wcm90b3R5cGUuZ2V0TGFuZ3VhZ2VzID0gZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0T3JkZXIsIG5hbWUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2xhbmd1YWdlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5hbWVcIl0gPSBuYW1lO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBMYW5ndWFnZVxuICAqIEBtZW1iZXJPZiBMYW5ndWFnZXNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIExhbmd1YWdlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkxhbmd1YWdlc0FwaS5wcm90b3R5cGUucG9zdExhbmd1YWdlcyA9IGZ1bmN0aW9uIHBvc3RMYW5ndWFnZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbGFuZ3VhZ2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGxhbmd1YWdlXG4gICogQG1lbWJlck9mIExhbmd1YWdlc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUlkIC0gTGFuZ3VhZ2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkxhbmd1YWdlc0FwaS5wcm90b3R5cGUuZ2V0TGFuZ3VhZ2VJZCA9IGZ1bmN0aW9uIGdldExhbmd1YWdlSWQobGFuZ3VhZ2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbGFuZ3VhZ2VzL3tsYW5ndWFnZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGxhbmd1YWdlSWQgPT09IHVuZGVmaW5lZCB8fCBsYW5ndWFnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsYW5ndWFnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2xhbmd1YWdlSWR9JywgbGFuZ3VhZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIExhbmd1YWdlXG4gICogQG1lbWJlck9mIExhbmd1YWdlc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUlkIC0gTGFuZ3VhZ2UgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIExhbmd1YWdlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkxhbmd1YWdlc0FwaS5wcm90b3R5cGUucHV0TGFuZ3VhZ2VJZCA9IGZ1bmN0aW9uIHB1dExhbmd1YWdlSWQobGFuZ3VhZ2VJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbGFuZ3VhZ2VzL3tsYW5ndWFnZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGxhbmd1YWdlSWQgPT09IHVuZGVmaW5lZCB8fCBsYW5ndWFnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsYW5ndWFnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2xhbmd1YWdlSWR9JywgbGFuZ3VhZ2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgTGFuZ3VhZ2VcbiAgKiBAbWVtYmVyT2YgTGFuZ3VhZ2VzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlSWQgLSBMYW5ndWFnZSBJRFxuICAqL1xuTGFuZ3VhZ2VzQXBpLnByb3RvdHlwZS5kZWxldGVMYW5ndWFnZUlkID0gZnVuY3Rpb24gZGVsZXRlTGFuZ3VhZ2VJZChsYW5ndWFnZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9sYW5ndWFnZXMve2xhbmd1YWdlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYobGFuZ3VhZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGxhbmd1YWdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGxhbmd1YWdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bGFuZ3VhZ2VJZH0nLCBsYW5ndWFnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTGFuZ3VhZ2VzQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBMb2NhdGlvbnNBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uTG9jYXRpb25zQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIExvY2F0aW9uc0FwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgTG9jYXRpb25zQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYXRpb25zQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIGFsbCBsb2NhdGlvbnMuXG4gICogQG1lbWJlck9mIExvY2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBTb3J0IG9yZGVyXG4gIGFzYyxcbiAgZGVzYyxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiYWRkcmVzc1wiOiB7XG4gICBcImNpdHlcIjogXCJcIixcbiAgIFwiY291bnRyeVwiOiBcIlwiLFxuICAgXCJjb3VudHJ5TmFtZVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJzdHJlZXQxXCI6IFwiXCIsXG4gICBcInN0cmVldDJcIjogXCJcIixcbiAgIFwiemlwY29kZVwiOiBcIlwiXG4gIH0sXG4gIFwiYWRkcmVzc1ZlcmlmaWVkXCI6IHRydWUsXG4gIFwiZW1lcmdlbmN5TnVtYmVyXCI6IHtcbiAgIFwiZTE2NFwiOiBcIlwiLFxuICAgXCJudW1iZXJcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiXG4gIH0sXG4gIFwic3RhdGVcIjogXCJcIixcbiAgXCJ2ZXJzaW9uXCI6IDAsXG4gIFwicGF0aFwiOiBbXSxcbiAgXCJzZWxmVXJpXCI6IFwiXCJcbiB9XG5dXG4gICovXG5Mb2NhdGlvbnNBcGkucHJvdG90eXBlLmdldExvY2F0aW9ucyA9IGZ1bmN0aW9uIGdldExvY2F0aW9ucyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9sb2NhdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTZWFyY2ggdXNpbmcgcTY0XG4gICogQG1lbWJlck9mIExvY2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxNjQgLSBxNjRcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSBleHBhbmRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicHJldmlvdXNQYWdlXCI6IFwiXCIsXG4gICBcImN1cnJlbnRQYWdlXCI6IFwiXCIsXG4gICBcIm5leHRQYWdlXCI6IFwiXCIsXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5Mb2NhdGlvbnNBcGkucHJvdG90eXBlLmdldFNlYXJjaCA9IGZ1bmN0aW9uIGdldFNlYXJjaChxNjQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbG9jYXRpb25zL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHE2NCA9PT0gdW5kZWZpbmVkIHx8IHE2NCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcTY0Jyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInE2NFwiXSA9IHE2NDtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VhcmNoXG4gICogQG1lbWJlck9mIExvY2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gU2VhcmNoIHJlcXVlc3Qgb3B0aW9uc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwic29ydE9yZGVyXCI6IFwiXCIsXG4gICBcInNvcnRCeVwiOiBcIlwiLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInJldHVybkZpZWxkc1wiOiBbXSxcbiAgIFwiZXhwYW5kXCI6IFtdLFxuICAgXCJxdWVyeVwiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cbkxvY2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdFNlYXJjaCA9IGZ1bmN0aW9uIHBvc3RTZWFyY2goYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbG9jYXRpb25zL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBMb2NhdGlvbiBieSBJRC5cbiAgKiBAbWVtYmVyT2YgTG9jYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uSWQgLSBMb2NhdGlvbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFkZHJlc3NcIjoge1xuICAgICAgXCJjaXR5XCI6IFwiXCIsXG4gICAgICBcImNvdW50cnlcIjogXCJcIixcbiAgICAgIFwiY291bnRyeU5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RyZWV0MVwiOiBcIlwiLFxuICAgICAgXCJzdHJlZXQyXCI6IFwiXCIsXG4gICAgICBcInppcGNvZGVcIjogXCJcIlxuICAgfSxcbiAgIFwiYWRkcmVzc1ZlcmlmaWVkXCI6IHRydWUsXG4gICBcImVtZXJnZW5jeU51bWJlclwiOiB7XG4gICAgICBcImUxNjRcIjogXCJcIixcbiAgICAgIFwibnVtYmVyXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIlxuICAgfSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJwYXRoXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbkxvY2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0TG9jYXRpb25JZCA9IGZ1bmN0aW9uIGdldExvY2F0aW9uSWQobG9jYXRpb25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbG9jYXRpb25zL3tsb2NhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGxvY2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBsb2NhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsb2NhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2xvY2F0aW9uSWR9JywgbG9jYXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2F0aW9uc0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgTm90aWZpY2F0aW9uc0FwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5Ob3RpZmljYXRpb25zQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIE5vdGlmaWNhdGlvbnNBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIE5vdGlmaWNhdGlvbnNBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90aWZpY2F0aW9uc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGF2YWlsYWJsZSBub3RpZmljYXRpb24gdG9waWNzLlxuICAqIEBtZW1iZXJPZiBOb3RpZmljYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gV2hpY2ggZmllbGRzLCBpZiBhbnksIHRvIGV4cGFuZCBWYWxpZCBWYWx1ZXM6IGRlc2NyaXB0aW9uLCByZXF1aXJlc1Blcm1pc3Npb25zLCBzY2hlbWFcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbk5vdGlmaWNhdGlvbnNBcGkucHJvdG90eXBlLmdldEF2YWlsYWJsZXRvcGljcyA9IGZ1bmN0aW9uIGdldEF2YWlsYWJsZXRvcGljcyhleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL25vdGlmaWNhdGlvbnMvYXZhaWxhYmxldG9waWNzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFRoZSBsaXN0IG9mIGV4aXN0aW5nIGNoYW5uZWxzXG4gICogQG1lbWJlck9mIE5vdGlmaWNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbk5vdGlmaWNhdGlvbnNBcGkucHJvdG90eXBlLmdldENoYW5uZWxzID0gZnVuY3Rpb24gZ2V0Q2hhbm5lbHMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ub3RpZmljYXRpb25zL2NoYW5uZWxzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgbmV3IGNoYW5uZWxcbiAgKiBAZGVzY3JpcHRpb24gVGhlcmUgaXMgYSBsaW1pdCBvZiAxMCBjaGFubmVscy4gQ3JlYXRpbmcgYW4gMTF0aCBjaGFubmVsIHdpbGwgcmVtb3ZlIHRoZSBjaGFubmVsIHdpdGggb2xkZXN0IGxhc3QgdXNlZCBkYXRlLlxuICAqIEBtZW1iZXJPZiBOb3RpZmljYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcImNvbm5lY3RVcmlcIjogXCJcIlxufVxuICAqL1xuTm90aWZpY2F0aW9uc0FwaS5wcm90b3R5cGUucG9zdENoYW5uZWxzID0gZnVuY3Rpb24gcG9zdENoYW5uZWxzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbm90aWZpY2F0aW9ucy9jaGFubmVscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBUaGUgbGlzdCBvZiBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhpcyBjaGFubmVsXG4gICogQG1lbWJlck9mIE5vdGlmaWNhdGlvbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbElkIC0gQ2hhbm5lbCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuTm90aWZpY2F0aW9uc0FwaS5wcm90b3R5cGUuZ2V0Q2hhbm5lbHNDaGFubmVsSWRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gZ2V0Q2hhbm5lbHNDaGFubmVsSWRTdWJzY3JpcHRpb25zKGNoYW5uZWxJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbm90aWZpY2F0aW9ucy9jaGFubmVscy97Y2hhbm5lbElkfS9zdWJzY3JpcHRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2hhbm5lbElkID09PSB1bmRlZmluZWQgfHwgY2hhbm5lbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjaGFubmVsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2hhbm5lbElkfScsIGNoYW5uZWxJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQWRkIGEgbGlzdCBvZiBzdWJzY3JpcHRpb25zIHRvIHRoZSBleGlzdGluZyBsaXN0IG9mIHN1YnNjcmlwdGlvbnNcbiAgKiBAbWVtYmVyT2YgTm90aWZpY2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFubmVsSWQgLSBDaGFubmVsIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUb3BpY1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIlxuIH1cbl1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbk5vdGlmaWNhdGlvbnNBcGkucHJvdG90eXBlLnBvc3RDaGFubmVsc0NoYW5uZWxJZFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBwb3N0Q2hhbm5lbHNDaGFubmVsSWRTdWJzY3JpcHRpb25zKGNoYW5uZWxJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbm90aWZpY2F0aW9ucy9jaGFubmVscy97Y2hhbm5lbElkfS9zdWJzY3JpcHRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2hhbm5lbElkID09PSB1bmRlZmluZWQgfHwgY2hhbm5lbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjaGFubmVsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2hhbm5lbElkfScsIGNoYW5uZWxJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVwbGFjZSB0aGUgY3VycmVudCBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgd2l0aCBhIG5ldyBsaXN0LlxuICAqIEBtZW1iZXJPZiBOb3RpZmljYXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJZCAtIENoYW5uZWwgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRvcGljXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiXG4gfVxuXVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuTm90aWZpY2F0aW9uc0FwaS5wcm90b3R5cGUucHV0Q2hhbm5lbHNDaGFubmVsSWRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gcHV0Q2hhbm5lbHNDaGFubmVsSWRTdWJzY3JpcHRpb25zKGNoYW5uZWxJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvbm90aWZpY2F0aW9ucy9jaGFubmVscy97Y2hhbm5lbElkfS9zdWJzY3JpcHRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2hhbm5lbElkID09PSB1bmRlZmluZWQgfHwgY2hhbm5lbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjaGFubmVsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2hhbm5lbElkfScsIGNoYW5uZWxJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZW1vdmUgYWxsIHN1YnNjcmlwdGlvbnNcbiAgKiBAbWVtYmVyT2YgTm90aWZpY2F0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFubmVsSWQgLSBDaGFubmVsIElEXG4gICovXG5Ob3RpZmljYXRpb25zQXBpLnByb3RvdHlwZS5kZWxldGVDaGFubmVsc0NoYW5uZWxJZFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBkZWxldGVDaGFubmVsc0NoYW5uZWxJZFN1YnNjcmlwdGlvbnMoY2hhbm5lbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ub3RpZmljYXRpb25zL2NoYW5uZWxzL3tjaGFubmVsSWR9L3N1YnNjcmlwdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjaGFubmVsSWQgPT09IHVuZGVmaW5lZCB8fCBjaGFubmVsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNoYW5uZWxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjaGFubmVsSWR9JywgY2hhbm5lbElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTm90aWZpY2F0aW9uc0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgT0F1dGhBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uT0F1dGhBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gT0F1dGhBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIE9BdXRoQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IE9BdXRoQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPQXV0aEFwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgVGhlIGxpc3Qgb2YgT0F1dGggY2xpZW50c1xuICAqIEBtZW1iZXJPZiBPQXV0aEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuT0F1dGhBcGkucHJvdG90eXBlLmdldENsaWVudHMgPSBmdW5jdGlvbiBnZXRDbGllbnRzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb2F1dGgvY2xpZW50cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBPQXV0aCBjbGllbnRcbiAgKiBAZGVzY3JpcHRpb24gVGhlIE9BdXRoIEdyYW50L0NsaWVudCBpcyByZXF1aXJlZCBpbiBvcmRlciB0byBjcmVhdGUgYW4gYXV0aGVudGljYXRpb24gdG9rZW4gYW5kIGdhaW4gYWNjZXNzIHRvIFB1cmVDbG91ZC4gXG5UaGUgcHJlZmVycmVkIGF1dGhvcml6ZWRHcmFudFR5cGVzIGlzICdDT0RFJyB3aGljaCByZXF1aXJlcyBhcHBsaWNhdGlvbnMgdG8gc2VuZCBhIGNsaWVudCBJRCBhbmQgY2xpZW50IHNlY3JldC4gVGhpcyBpcyB0eXBpY2FsbHkgYSB3ZWIgc2VydmVyLiBcbklmIHRoZSBjbGllbnQgaXMgdW5hYmxlIHRvIHNlY3VyZSB0aGUgY2xpZW50IHNlY3JldCB0aGVuIHRoZSAnVE9LRU4nIGdyYW50IHR5cGUgYWthIElNUExJQ0lUIHNob3VsZCBiZSB1c2VkLiBUaGlzIGlzIHdvdWxkIGJlIGZvciBicm93c2VyIG9yIG1vYmlsZSBhcHBzLiBcbklmIGEgY2xpZW50IGlzIHRvIGJlIHVzZWQgb3V0c2lkZSBvZiB0aGUgY29udGV4dCBvZiBhIHVzZXIgdGhlbiB0aGUgJ0NMSUVOVC1DUkVERU5USUFMUycgZ3JhbnQgbWF5IGJlIHVzZWQuIEluIHRoaXMgY2FzZSB0aGUgY2xpZW50IG11c3QgYmUgZ3JhbnRlZCByb2xlcyBcbnZpYSB0aGUgJ3JvbGVJZHMnIGZpZWxkLlxuICAqIEBtZW1iZXJPZiBPQXV0aEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2xpZW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFjY2Vzc1Rva2VuVmFsaWRpdHlTZWNvbmRzXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInJlZ2lzdGVyZWRSZWRpcmVjdFVyaVwiOiBbXSxcbiAgIFwic2VjcmV0XCI6IFwiXCIsXG4gICBcInJvbGVJZHNcIjogW10sXG4gICBcImF1dGhvcml6ZWRHcmFudFR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFjY2Vzc1Rva2VuVmFsaWRpdHlTZWNvbmRzXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInJlZ2lzdGVyZWRSZWRpcmVjdFVyaVwiOiBbXSxcbiAgIFwic2VjcmV0XCI6IFwiXCIsXG4gICBcInJvbGVJZHNcIjogW10sXG4gICBcImF1dGhvcml6ZWRHcmFudFR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PQXV0aEFwaS5wcm90b3R5cGUucG9zdENsaWVudHMgPSBmdW5jdGlvbiBwb3N0Q2xpZW50cyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vYXV0aC9jbGllbnRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IE9BdXRoIENsaWVudFxuICAqIEBtZW1iZXJPZiBPQXV0aEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIENsaWVudCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFjY2Vzc1Rva2VuVmFsaWRpdHlTZWNvbmRzXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInJlZ2lzdGVyZWRSZWRpcmVjdFVyaVwiOiBbXSxcbiAgIFwic2VjcmV0XCI6IFwiXCIsXG4gICBcInJvbGVJZHNcIjogW10sXG4gICBcImF1dGhvcml6ZWRHcmFudFR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PQXV0aEFwaS5wcm90b3R5cGUuZ2V0Q2xpZW50c0NsaWVudElkID0gZnVuY3Rpb24gZ2V0Q2xpZW50c0NsaWVudElkKGNsaWVudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vYXV0aC9jbGllbnRzL3tjbGllbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjbGllbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGNsaWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjbGllbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjbGllbnRJZH0nLCBjbGllbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIE9BdXRoIENsaWVudFxuICAqIEBtZW1iZXJPZiBPQXV0aEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIENsaWVudCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2xpZW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFjY2Vzc1Rva2VuVmFsaWRpdHlTZWNvbmRzXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInJlZ2lzdGVyZWRSZWRpcmVjdFVyaVwiOiBbXSxcbiAgIFwic2VjcmV0XCI6IFwiXCIsXG4gICBcInJvbGVJZHNcIjogW10sXG4gICBcImF1dGhvcml6ZWRHcmFudFR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImFjY2Vzc1Rva2VuVmFsaWRpdHlTZWNvbmRzXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInJlZ2lzdGVyZWRSZWRpcmVjdFVyaVwiOiBbXSxcbiAgIFwic2VjcmV0XCI6IFwiXCIsXG4gICBcInJvbGVJZHNcIjogW10sXG4gICBcImF1dGhvcml6ZWRHcmFudFR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PQXV0aEFwaS5wcm90b3R5cGUucHV0Q2xpZW50c0NsaWVudElkID0gZnVuY3Rpb24gcHV0Q2xpZW50c0NsaWVudElkKGNsaWVudElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vYXV0aC9jbGllbnRzL3tjbGllbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjbGllbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGNsaWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjbGllbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjbGllbnRJZH0nLCBjbGllbnRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgT0F1dGggQ2xpZW50XG4gICogQG1lbWJlck9mIE9BdXRoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudElkIC0gQ2xpZW50IElEXG4gICovXG5PQXV0aEFwaS5wcm90b3R5cGUuZGVsZXRlQ2xpZW50c0NsaWVudElkID0gZnVuY3Rpb24gZGVsZXRlQ2xpZW50c0NsaWVudElkKGNsaWVudElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vYXV0aC9jbGllbnRzL3tjbGllbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjbGllbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGNsaWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjbGllbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjbGllbnRJZH0nLCBjbGllbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUmVnZW5lcmF0ZSBDbGllbnQgU2VjcmV0XG4gICogQGRlc2NyaXB0aW9uIFRoaXMgb3BlcmF0aW9uIHdpbGwgc2V0IHRoZSBjbGllbnQgc2VjcmV0IHRvIGEgcmFuZG9tbHkgZ2VuZXJhdGVkIGNyeXB0b2dyYXBoaWNhbGx5IHJhbmRvbSB2YWx1ZS4gQWxsIGNsaWVudHMgbXVzdCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBzZWNyZXQuIFRoaXMgb3BlcmF0aW9uIHNob3VsZCBiZSB1c2VkIHdpdGggY2F1dGlvbi5cbiAgKiBAbWVtYmVyT2YgT0F1dGhBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2xpZW50SWQgLSBDbGllbnQgSURcbiAgKi9cbk9BdXRoQXBpLnByb3RvdHlwZS5wb3N0Q2xpZW50c0NsaWVudElkU2VjcmV0ID0gZnVuY3Rpb24gcG9zdENsaWVudHNDbGllbnRJZFNlY3JldChjbGllbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb2F1dGgvY2xpZW50cy97Y2xpZW50SWR9L3NlY3JldCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNsaWVudElkID09PSB1bmRlZmluZWQgfHwgY2xpZW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNsaWVudElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NsaWVudElkfScsIGNsaWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IE9BdXRoQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBPcmdhbml6YXRpb25BcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uT3JnYW5pemF0aW9uQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIE9yZ2FuaXphdGlvbkFwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgT3JnYW5pemF0aW9uQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IE9yZ2FuaXphdGlvbkFwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3JnYW5pemF0aW9uQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgb3JnYW5pemF0aW9uLlxuICAqIEBtZW1iZXJPZiBPcmdhbml6YXRpb25BcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0aGlyZFBhcnR5T3JnSWRcIjogXCJcIixcbiAgIFwidGhpcmRQYXJ0eU9yZ05hbWVcIjogXCJcIixcbiAgIFwidGhpcmRQYXJ0eVVSSVwiOiBcIlwiLFxuICAgXCJkb21haW5cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJkZWZhdWx0U2l0ZUlkXCI6IFwiXCIsXG4gICBcImRlbGV0YWJsZVwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk9yZ2FuaXphdGlvbkFwaS5wcm90b3R5cGUuZ2V0TWUgPSBmdW5jdGlvbiBnZXRNZSgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL29yZ2FuaXphdGlvbnMvbWUnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gT3JnYW5pemF0aW9uQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBPdXRib3VuZEFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5PdXRib3VuZEFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBPdXRib3VuZEFwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgT3V0Ym91bmRBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3V0Ym91bmRBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ091dGJvdW5kQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXRyaWV2ZXMgYXVkaXRzIGZvciBkaWFsZXIuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBBdWRpdFNlYXJjaFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGZhY2V0c09ubHkgLSBGYWNldHMgb25seVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicXVlcnlQaHJhc2VcIjogXCJcIixcbiAgIFwicXVlcnlGaWVsZHNcIjogW10sXG4gICBcImZhY2V0c1wiOiBbXSxcbiAgIFwiZmlsdGVyc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJmYWNldEluZm9cIjogW10sXG4gICBcImF1ZGl0TWVzc2FnZXNcIjogW11cbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0QXVkaXRzID0gZnVuY3Rpb24gcG9zdEF1ZGl0cyhib2R5LCBwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBzb3J0T3JkZXIsIGZhY2V0c09ubHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2F1ZGl0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJlcXVlc3RRdWVyeVtcImZhY2V0c09ubHlcIl0gPSBmYWNldHNPbmx5O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBjYWxsYWJsZSB0aW1lIHNldCBsaXN0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlclR5cGUgLSBGaWx0ZXIgdHlwZVxuICBFUVVBTFMsXG4gIFJFR0VYLFxuICBDT05UQUlOUyxcbiAgUFJFRklYLFxuICBMRVNTVEhBTixcbiAgTEVTU1RIQU5FUVVBTFRPLFxuICBHUkVBVEVSVEhBTixcbiAgR1JFQVRFUlRIQU5FUVVBTFRPLFxuICBCRUdJTlNXSVRILFxuICBFTkRTV0lUSCxcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gU29ydCBieVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBTb3J0IG9yZGVyXG4gIGFzY2VuZGluZyxcbiAgZGVzY2VuZGluZyxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDYWxsYWJsZXRpbWVzZXRzID0gZnVuY3Rpb24gZ2V0Q2FsbGFibGV0aW1lc2V0cyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyVHlwZSwgbmFtZSwgc29ydEJ5LCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbGxhYmxldGltZXNldHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcImZpbHRlclR5cGVcIl0gPSBmaWx0ZXJUeXBlO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5hbWVcIl0gPSBuYW1lO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0T3JkZXJcIl0gPSBzb3J0T3JkZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGNhbGxhYmxlIHRpbWUgc2V0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBEaWFsZXJDYWxsYWJsZVRpbWVTZXRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYWxsYWJsZVRpbWVzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY2FsbGFibGVUaW1lc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdENhbGxhYmxldGltZXNldHMgPSBmdW5jdGlvbiBwb3N0Q2FsbGFibGV0aW1lc2V0cyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jYWxsYWJsZXRpbWVzZXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGNhbGxhYmxlIHRpbWUgc2V0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGxhYmxlVGltZVNldElkIC0gQ2FsbGFibGUgVGltZSBTZXQgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYWxsYWJsZVRpbWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDYWxsYWJsZXRpbWVzZXRzQ2FsbGFibGV0aW1lc2V0SWQgPSBmdW5jdGlvbiBnZXRDYWxsYWJsZXRpbWVzZXRzQ2FsbGFibGV0aW1lc2V0SWQoY2FsbGFibGVUaW1lU2V0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbGxhYmxldGltZXNldHMve2NhbGxhYmxlVGltZVNldElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxhYmxlVGltZVNldElkID09PSB1bmRlZmluZWQgfHwgY2FsbGFibGVUaW1lU2V0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxhYmxlVGltZVNldElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxhYmxlVGltZVNldElkfScsIGNhbGxhYmxlVGltZVNldElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgY2FsbGFibGUgdGltZSBzZXRcbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGFibGVUaW1lU2V0SWQgLSBDYWxsYWJsZSBUaW1lIFNldCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gRGlhbGVyQ2FsbGFibGVUaW1lU2V0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY2FsbGFibGVUaW1lc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNhbGxhYmxlVGltZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnB1dENhbGxhYmxldGltZXNldHNDYWxsYWJsZXRpbWVzZXRJZCA9IGZ1bmN0aW9uIHB1dENhbGxhYmxldGltZXNldHNDYWxsYWJsZXRpbWVzZXRJZChjYWxsYWJsZVRpbWVTZXRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FsbGFibGV0aW1lc2V0cy97Y2FsbGFibGVUaW1lU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsbGFibGVUaW1lU2V0SWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsYWJsZVRpbWVTZXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbGFibGVUaW1lU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsbGFibGVUaW1lU2V0SWR9JywgY2FsbGFibGVUaW1lU2V0SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGNhbGxhYmxlIHRpbWUgc2V0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGxhYmxlVGltZVNldElkIC0gQ2FsbGFibGUgVGltZSBTZXQgSURcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5kZWxldGVDYWxsYWJsZXRpbWVzZXRzQ2FsbGFibGV0aW1lc2V0SWQgPSBmdW5jdGlvbiBkZWxldGVDYWxsYWJsZXRpbWVzZXRzQ2FsbGFibGV0aW1lc2V0SWQoY2FsbGFibGVUaW1lU2V0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbGxhYmxldGltZXNldHMve2NhbGxhYmxlVGltZVNldElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxhYmxlVGltZVNldElkID09PSB1bmRlZmluZWQgfHwgY2FsbGFibGVUaW1lU2V0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxhYmxlVGltZVNldElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxhYmxlVGltZVNldElkfScsIGNhbGxhYmxlVGltZVNldElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBhIGxpc3Qgb2YgZGlhbGVyIGNhbGwgYW5hbHlzaXMgcmVzcG9uc2Ugc2V0cy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVHlwZSAtIEZpbHRlciB0eXBlXG4gIEVRVUFMUyxcbiAgUkVHRVgsXG4gIENPTlRBSU5TLFxuICBQUkVGSVgsXG4gIExFU1NUSEFOLFxuICBMRVNTVEhBTkVRVUFMVE8sXG4gIEdSRUFURVJUSEFOLFxuICBHUkVBVEVSVEhBTkVRVUFMVE8sXG4gIEJFR0lOU1dJVEgsXG4gIEVORFNXSVRILFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgYXNjZW5kaW5nLFxuICBkZXNjZW5kaW5nLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldENhbGxhbmFseXNpc3Jlc3BvbnNlc2V0cyA9IGZ1bmN0aW9uIGdldENhbGxhbmFseXNpc3Jlc3BvbnNlc2V0cyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyVHlwZSwgbmFtZSwgc29ydEJ5LCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbGxhbmFseXNpc3Jlc3BvbnNlc2V0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZmlsdGVyVHlwZVwiXSA9IGZpbHRlclR5cGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBkaWFsZXIgY2FsbCBhbmFseXNpcyByZXNwb25zZSBzZXQuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBSZXNwb25zZVNldFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJlc3BvbnNlc1wiOiB7fVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJlc3BvbnNlc1wiOiB7fSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdENhbGxhbmFseXNpc3Jlc3BvbnNlc2V0cyA9IGZ1bmN0aW9uIHBvc3RDYWxsYW5hbHlzaXNyZXNwb25zZXNldHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FsbGFuYWx5c2lzcmVzcG9uc2VzZXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZGlhbGVyIGNhbGwgYW5hbHlzaXMgcmVzcG9uc2Ugc2V0LlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsQW5hbHlzaXNTZXRJZCAtIENhbGwgQW5hbHlzaXMgUmVzcG9uc2UgU2V0IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwicmVzcG9uc2VzXCI6IHt9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDYWxsYW5hbHlzaXNyZXNwb25zZXNldHNDYWxsYW5hbHlzaXNzZXRJZCA9IGZ1bmN0aW9uIGdldENhbGxhbmFseXNpc3Jlc3BvbnNlc2V0c0NhbGxhbmFseXNpc3NldElkKGNhbGxBbmFseXNpc1NldElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jYWxsYW5hbHlzaXNyZXNwb25zZXNldHMve2NhbGxBbmFseXNpc1NldElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxBbmFseXNpc1NldElkID09PSB1bmRlZmluZWQgfHwgY2FsbEFuYWx5c2lzU2V0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxBbmFseXNpc1NldElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxBbmFseXNpc1NldElkfScsIGNhbGxBbmFseXNpc1NldElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBkaWFsZXIgY2FsbCBhbmFseXNpcyByZXNwb25zZSBzZXQuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGxBbmFseXNpc1NldElkIC0gQ2FsbCBBbmFseXNpcyBSZXNwb25zZSBTZXQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFJlc3BvbnNlU2V0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwicmVzcG9uc2VzXCI6IHt9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwicmVzcG9uc2VzXCI6IHt9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wdXRDYWxsYW5hbHlzaXNyZXNwb25zZXNldHNDYWxsYW5hbHlzaXNzZXRJZCA9IGZ1bmN0aW9uIHB1dENhbGxhbmFseXNpc3Jlc3BvbnNlc2V0c0NhbGxhbmFseXNpc3NldElkKGNhbGxBbmFseXNpc1NldElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jYWxsYW5hbHlzaXNyZXNwb25zZXNldHMve2NhbGxBbmFseXNpc1NldElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGxBbmFseXNpc1NldElkID09PSB1bmRlZmluZWQgfHwgY2FsbEFuYWx5c2lzU2V0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGxBbmFseXNpc1NldElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGxBbmFseXNpc1NldElkfScsIGNhbGxBbmFseXNpc1NldElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGRpYWxlciBjYWxsIGFuYWx5c2lzIHJlc3BvbnNlIHNldC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbEFuYWx5c2lzU2V0SWQgLSBDYWxsIEFuYWx5c2lzIFJlc3BvbnNlIFNldCBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZUNhbGxhbmFseXNpc3Jlc3BvbnNlc2V0c0NhbGxhbmFseXNpc3NldElkID0gZnVuY3Rpb24gZGVsZXRlQ2FsbGFuYWx5c2lzcmVzcG9uc2VzZXRzQ2FsbGFuYWx5c2lzc2V0SWQoY2FsbEFuYWx5c2lzU2V0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbGxhbmFseXNpc3Jlc3BvbnNlc2V0cy97Y2FsbEFuYWx5c2lzU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsbEFuYWx5c2lzU2V0SWQgPT09IHVuZGVmaW5lZCB8fCBjYWxsQW5hbHlzaXNTZXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FsbEFuYWx5c2lzU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsbEFuYWx5c2lzU2V0SWR9JywgY2FsbEFuYWx5c2lzU2V0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGEgbGlzdCBvZiBkaWFsZXIgY2FtcGFpZ25zLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUeXBlIC0gRmlsdGVyIHR5cGVcbiAgRVFVQUxTLFxuICBSRUdFWCxcbiAgQ09OVEFJTlMsXG4gIFBSRUZJWCxcbiAgTEVTU1RIQU4sXG4gIExFU1NUSEFORVFVQUxUTyxcbiAgR1JFQVRFUlRIQU4sXG4gIEdSRUFURVJUSEFORVFVQUxUTyxcbiAgQkVHSU5TV0lUSCxcbiAgRU5EU1dJVEgsXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RMaXN0SWQgLSBDb250YWN0IExpc3QgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG5jTGlzdElkIC0gRE5DIGxpc3QgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZGlzdHJpYnV0aW9uUXVldWVJZCAtIERpc3RyaWJ1dGlvbiBxdWV1ZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlR3JvdXBJZCAtIEVkZ2UgZ3JvdXAgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbEFuYWx5c2lzUmVzcG9uc2VTZXRJZCAtIENhbGwgYW5hbHlzaXMgcmVzcG9uc2Ugc2V0IElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25zID0gZnVuY3Rpb24gZ2V0Q2FtcGFpZ25zKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBmaWx0ZXJUeXBlLCBuYW1lLCBjb250YWN0TGlzdElkLCBkbmNMaXN0SWQsIGRpc3RyaWJ1dGlvblF1ZXVlSWQsIGVkZ2VHcm91cElkLCBjYWxsQW5hbHlzaXNSZXNwb25zZVNldElkLCBzb3J0QnksIHNvcnRPcmRlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJmaWx0ZXJUeXBlXCJdID0gZmlsdGVyVHlwZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJjb250YWN0TGlzdElkXCJdID0gY29udGFjdExpc3RJZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJkbmNMaXN0SWRcIl0gPSBkbmNMaXN0SWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZGlzdHJpYnV0aW9uUXVldWVJZFwiXSA9IGRpc3RyaWJ1dGlvblF1ZXVlSWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZWRnZUdyb3VwSWRcIl0gPSBlZGdlR3JvdXBJZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJjYWxsQW5hbHlzaXNSZXNwb25zZVNldElkXCJdID0gY2FsbEFuYWx5c2lzUmVzcG9uc2VTZXRJZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIGNhbXBhaWduLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FtcGFpZ25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb250YWN0TGlzdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkaWFsaW5nTW9kZVwiOiBcIlwiLFxuICAgXCJzY3JpcHRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZWRnZUdyb3VwXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbXBhaWduU3RhdHVzXCI6IFwiXCIsXG4gICBcInBob25lQ29sdW1uc1wiOiBbXSxcbiAgIFwiYWJhbmRvblJhdGVcIjoge30sXG4gICBcImRuY0xpc3RzXCI6IFtdLFxuICAgXCJjYWxsYWJsZVRpbWVTZXRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbEFuYWx5c2lzUmVzcG9uc2VTZXRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbGVyTmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcIm91dGJvdW5kTGluZUNvdW50XCI6IDAsXG4gICBcInJ1bGVTZXRzXCI6IFtdLFxuICAgXCJza2lwUHJldmlld0Rpc2FibGVkXCI6IHRydWUsXG4gICBcInByZXZpZXdUaW1lT3V0U2Vjb25kc1wiOiAwLFxuICAgXCJjb250YWN0U29ydFwiOiB7XG4gICAgICBcImZpZWxkTmFtZVwiOiBcIlwiLFxuICAgICAgXCJkaXJlY3Rpb25cIjogXCJcIixcbiAgICAgIFwibnVtZXJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJub0Fuc3dlclRpbWVvdXRcIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbnRhY3RMaXN0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRpYWxpbmdNb2RlXCI6IFwiXCIsXG4gICBcInNjcmlwdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FtcGFpZ25TdGF0dXNcIjogXCJcIixcbiAgIFwicGhvbmVDb2x1bW5zXCI6IFtdLFxuICAgXCJhYmFuZG9uUmF0ZVwiOiB7fSxcbiAgIFwiZG5jTGlzdHNcIjogW10sXG4gICBcImNhbGxhYmxlVGltZVNldFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjYWxsQW5hbHlzaXNSZXNwb25zZVNldFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlcnJvcnNcIjogW10sXG4gICBcImNhbGxlck5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJvdXRib3VuZExpbmVDb3VudFwiOiAwLFxuICAgXCJydWxlU2V0c1wiOiBbXSxcbiAgIFwic2tpcFByZXZpZXdEaXNhYmxlZFwiOiB0cnVlLFxuICAgXCJwcmV2aWV3VGltZU91dFNlY29uZHNcIjogMCxcbiAgIFwiY29udGFjdFNvcnRcIjoge1xuICAgICAgXCJmaWVsZE5hbWVcIjogXCJcIixcbiAgICAgIFwiZGlyZWN0aW9uXCI6IFwiXCIsXG4gICAgICBcIm51bWVyaWNcIjogdHJ1ZVxuICAgfSxcbiAgIFwibm9BbnN3ZXJUaW1lb3V0XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnBvc3RDYW1wYWlnbnMgPSBmdW5jdGlvbiBwb3N0Q2FtcGFpZ25zKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbXBhaWducyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBwcm9ncmVzcyBmb3IgYSBsaXN0IG9mIGNhbXBhaWduc1xuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FtcGFpZ24gSURzXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImNhbXBhaWduXCI6IHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgfSxcbiAgXCJjb250YWN0TGlzdFwiOiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG4gIH0sXG4gIFwibnVtYmVyT2ZDb250YWN0c0NhbGxlZFwiOiAwLFxuICBcInRvdGFsTnVtYmVyT2ZDb250YWN0c1wiOiAwLFxuICBcInBlcmNlbnRhZ2VcIjogMFxuIH1cbl1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0Q2FtcGFpZ25zUHJvZ3Jlc3MgPSBmdW5jdGlvbiBwb3N0Q2FtcGFpZ25zUHJvZ3Jlc3MoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zL3Byb2dyZXNzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGRpYWxlciBjYW1wYWlnbi5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FtcGFpZ25JZCAtIENhbXBhaWduIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY29udGFjdExpc3RcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGlhbGluZ01vZGVcIjogXCJcIixcbiAgIFwic2NyaXB0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImVkZ2VHcm91cFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjYW1wYWlnblN0YXR1c1wiOiBcIlwiLFxuICAgXCJwaG9uZUNvbHVtbnNcIjogW10sXG4gICBcImFiYW5kb25SYXRlXCI6IHt9LFxuICAgXCJkbmNMaXN0c1wiOiBbXSxcbiAgIFwiY2FsbGFibGVUaW1lU2V0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxBbmFseXNpc1Jlc3BvbnNlU2V0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImVycm9yc1wiOiBbXSxcbiAgIFwiY2FsbGVyTmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcIm91dGJvdW5kTGluZUNvdW50XCI6IDAsXG4gICBcInJ1bGVTZXRzXCI6IFtdLFxuICAgXCJza2lwUHJldmlld0Rpc2FibGVkXCI6IHRydWUsXG4gICBcInByZXZpZXdUaW1lT3V0U2Vjb25kc1wiOiAwLFxuICAgXCJjb250YWN0U29ydFwiOiB7XG4gICAgICBcImZpZWxkTmFtZVwiOiBcIlwiLFxuICAgICAgXCJkaXJlY3Rpb25cIjogXCJcIixcbiAgICAgIFwibnVtZXJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJub0Fuc3dlclRpbWVvdXRcIjogMCxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZCA9IGZ1bmN0aW9uIGdldENhbXBhaWduc0NhbXBhaWduSWQoY2FtcGFpZ25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zL3tjYW1wYWlnbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbXBhaWduSWQgPT09IHVuZGVmaW5lZCB8fCBjYW1wYWlnbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYW1wYWlnbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbXBhaWduSWR9JywgY2FtcGFpZ25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgY2FtcGFpZ24uXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbXBhaWduSWQgLSBDYW1wYWlnbiBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FtcGFpZ25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb250YWN0TGlzdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkaWFsaW5nTW9kZVwiOiBcIlwiLFxuICAgXCJzY3JpcHRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZWRnZUdyb3VwXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbXBhaWduU3RhdHVzXCI6IFwiXCIsXG4gICBcInBob25lQ29sdW1uc1wiOiBbXSxcbiAgIFwiYWJhbmRvblJhdGVcIjoge30sXG4gICBcImRuY0xpc3RzXCI6IFtdLFxuICAgXCJjYWxsYWJsZVRpbWVTZXRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbEFuYWx5c2lzUmVzcG9uc2VTZXRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbGVyTmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcIm91dGJvdW5kTGluZUNvdW50XCI6IDAsXG4gICBcInJ1bGVTZXRzXCI6IFtdLFxuICAgXCJza2lwUHJldmlld0Rpc2FibGVkXCI6IHRydWUsXG4gICBcInByZXZpZXdUaW1lT3V0U2Vjb25kc1wiOiAwLFxuICAgXCJjb250YWN0U29ydFwiOiB7XG4gICAgICBcImZpZWxkTmFtZVwiOiBcIlwiLFxuICAgICAgXCJkaXJlY3Rpb25cIjogXCJcIixcbiAgICAgIFwibnVtZXJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJub0Fuc3dlclRpbWVvdXRcIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbnRhY3RMaXN0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRpYWxpbmdNb2RlXCI6IFwiXCIsXG4gICBcInNjcmlwdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FtcGFpZ25TdGF0dXNcIjogXCJcIixcbiAgIFwicGhvbmVDb2x1bW5zXCI6IFtdLFxuICAgXCJhYmFuZG9uUmF0ZVwiOiB7fSxcbiAgIFwiZG5jTGlzdHNcIjogW10sXG4gICBcImNhbGxhYmxlVGltZVNldFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjYWxsQW5hbHlzaXNSZXNwb25zZVNldFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlcnJvcnNcIjogW10sXG4gICBcImNhbGxlck5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJvdXRib3VuZExpbmVDb3VudFwiOiAwLFxuICAgXCJydWxlU2V0c1wiOiBbXSxcbiAgIFwic2tpcFByZXZpZXdEaXNhYmxlZFwiOiB0cnVlLFxuICAgXCJwcmV2aWV3VGltZU91dFNlY29uZHNcIjogMCxcbiAgIFwiY29udGFjdFNvcnRcIjoge1xuICAgICAgXCJmaWVsZE5hbWVcIjogXCJcIixcbiAgICAgIFwiZGlyZWN0aW9uXCI6IFwiXCIsXG4gICAgICBcIm51bWVyaWNcIjogdHJ1ZVxuICAgfSxcbiAgIFwibm9BbnN3ZXJUaW1lb3V0XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnB1dENhbXBhaWduc0NhbXBhaWduSWQgPSBmdW5jdGlvbiBwdXRDYW1wYWlnbnNDYW1wYWlnbklkKGNhbXBhaWduSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbXBhaWducy97Y2FtcGFpZ25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgY2FtcGFpZ24uXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbXBhaWduSWQgLSBDYW1wYWlnbiBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZUNhbXBhaWduc0NhbXBhaWduSWQgPSBmdW5jdGlvbiBkZWxldGVDYW1wYWlnbnNDYW1wYWlnbklkKGNhbXBhaWduSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbXBhaWducy97Y2FtcGFpZ25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlbmQgbm90aWZpY2F0aW9uIHRoYXQgYW4gYWdlbnQncyBzdGF0ZSBjaGFuZ2VkIFxuICAqIEBkZXNjcmlwdGlvbiBOZXcgYWdlbnQgc3RhdGUuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbXBhaWduSWQgLSBDYW1wYWlnbiBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBBZ2VudCdzIHVzZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIGFnZW50XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzdGFnZVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucHV0Q2FtcGFpZ25zQ2FtcGFpZ25JZEFnZW50c1VzZXJJZCA9IGZ1bmN0aW9uIHB1dENhbXBhaWduc0NhbXBhaWduSWRBZ2VudHNVc2VySWQoY2FtcGFpZ25JZCwgdXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jYW1wYWlnbnMve2NhbXBhaWduSWR9L2FnZW50cy97dXNlcklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbXBhaWduSWQgPT09IHVuZGVmaW5lZCB8fCBjYW1wYWlnbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYW1wYWlnbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbXBhaWduSWR9JywgY2FtcGFpZ25JZCk7XG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTY2hlZHVsZSBhIENhbGxiYWNrIGZvciBhIERpYWxlciBDYW1wYWlnblxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYW1wYWlnbklkIC0gQ2FtcGFpZ24gSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIENvbnRhY3RDYWxsYmFja1JlcXVlc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNhbXBhaWduSWRcIjogXCJcIixcbiAgIFwiY29udGFjdExpc3RJZFwiOiBcIlwiLFxuICAgXCJjb250YWN0SWRcIjogXCJcIixcbiAgIFwicGhvbmVDb2x1bW5cIjogXCJcIixcbiAgIFwic2NoZWR1bGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjYW1wYWlnbklkXCI6IFwiXCIsXG4gICBcImNvbnRhY3RMaXN0SWRcIjogXCJcIixcbiAgIFwiY29udGFjdElkXCI6IFwiXCIsXG4gICBcInBob25lQ29sdW1uXCI6IFwiXCIsXG4gICBcInNjaGVkdWxlXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0Q2FtcGFpZ25zQ2FtcGFpZ25JZENhbGxiYWNrU2NoZWR1bGUgPSBmdW5jdGlvbiBwb3N0Q2FtcGFpZ25zQ2FtcGFpZ25JZENhbGxiYWNrU2NoZWR1bGUoY2FtcGFpZ25JZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zL3tjYW1wYWlnbklkfS9jYWxsYmFjay9zY2hlZHVsZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbXBhaWduSWQgPT09IHVuZGVmaW5lZCB8fCBjYW1wYWlnbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYW1wYWlnbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbXBhaWduSWR9JywgY2FtcGFpZ25JZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGNhbXBhaWduIGRpYWdub3N0aWNzXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbXBhaWduSWQgLSBDYW1wYWlnbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjYWxsYWJsZUNvbnRhY3RzXCI6IHtcbiAgICAgIFwiZG5jTGlzdHNcIjogW10sXG4gICAgICBcImNhbGxhYmxlVGltZVNldFwiOiB7fSxcbiAgICAgIFwicnVsZVNldHNcIjogW11cbiAgIH0sXG4gICBcInF1ZXVlVXRpbGl6YXRpb25EaWFnbm9zdGljXCI6IHtcbiAgICAgIFwicXVldWVcIjoge30sXG4gICAgICBcInVzZXJzSW5RdWV1ZVwiOiAwLFxuICAgICAgXCJhY3RpdmVVc2Vyc0luUXVldWVcIjogMCxcbiAgICAgIFwidXNlcnNPblF1ZXVlXCI6IDAsXG4gICAgICBcInVzZXJzTm90VXRpbGl6ZWRcIjogMCxcbiAgICAgIFwidXNlcnNPblF1ZXVlV2l0aFN0YXRpb25cIjogMCxcbiAgICAgIFwidXNlcnNPbkFDYW1wYWlnbkNhbGxcIjogMCxcbiAgICAgIFwidXNlcnNPbkRpZmZlcmVudEVkZ2VHcm91cFwiOiAwLFxuICAgICAgXCJ1c2Vyc09uQU5vbkNhbXBhaWduQ2FsbFwiOiAwXG4gICB9LFxuICAgXCJydWxlU2V0RGlhZ25vc3RpY3NcIjogW10sXG4gICBcIm91dHN0YW5kaW5nSW50ZXJhY3Rpb25zQ291bnRcIjogMFxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldENhbXBhaWduc0NhbXBhaWduSWREaWFnbm9zdGljcyA9IGZ1bmN0aW9uIGdldENhbXBhaWduc0NhbXBhaWduSWREaWFnbm9zdGljcyhjYW1wYWlnbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jYW1wYWlnbnMve2NhbXBhaWduSWR9L2RpYWdub3N0aWNzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FtcGFpZ25JZCA9PT0gdW5kZWZpbmVkIHx8IGNhbXBhaWduSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbXBhaWduSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FtcGFpZ25JZH0nLCBjYW1wYWlnbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZGlhbGVyIGNhbXBhaWduIGludGVyYWN0aW9ucy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FtcGFpZ25JZCAtIENhbXBhaWduIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNhbXBhaWduXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInBlbmRpbmdJbnRlcmFjdGlvbnNcIjogW10sXG4gICBcInByb2NlZWRpbmdJbnRlcmFjdGlvbnNcIjogW10sXG4gICBcInByZXZpZXdpbmdJbnRlcmFjdGlvbnNcIjogW10sXG4gICBcImludGVyYWN0aW5nSW50ZXJhY3Rpb25zXCI6IFtdXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZEludGVyYWN0aW9ucyA9IGZ1bmN0aW9uIGdldENhbXBhaWduc0NhbXBhaWduSWRJbnRlcmFjdGlvbnMoY2FtcGFpZ25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zL3tjYW1wYWlnbklkfS9pbnRlcmFjdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBjYW1wYWlnbiBwcm9ncmVzc1xuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYW1wYWlnbklkIC0gQ2FtcGFpZ24gSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY2FtcGFpZ25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udGFjdExpc3RcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibnVtYmVyT2ZDb250YWN0c0NhbGxlZFwiOiAwLFxuICAgXCJ0b3RhbE51bWJlck9mQ29udGFjdHNcIjogMCxcbiAgIFwicGVyY2VudGFnZVwiOiAwXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZFByb2dyZXNzID0gZnVuY3Rpb24gZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZFByb2dyZXNzKGNhbXBhaWduSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbXBhaWducy97Y2FtcGFpZ25JZH0vcHJvZ3Jlc3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlc2V0IGNhbXBhaWduIHByb2dyZXNzIGFuZCByZWN5Y2xlIHRoZSBjYW1wYWlnblxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYW1wYWlnbklkIC0gQ2FtcGFpZ24gSURcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5kZWxldGVDYW1wYWlnbnNDYW1wYWlnbklkUHJvZ3Jlc3MgPSBmdW5jdGlvbiBkZWxldGVDYW1wYWlnbnNDYW1wYWlnbklkUHJvZ3Jlc3MoY2FtcGFpZ25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY2FtcGFpZ25zL3tjYW1wYWlnbklkfS9wcm9ncmVzcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbXBhaWduSWQgPT09IHVuZGVmaW5lZCB8fCBjYW1wYWlnbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYW1wYWlnbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbXBhaWduSWR9JywgY2FtcGFpZ25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHN0YXRpc3RpY3MgYWJvdXQgYSBEaWFsZXIgQ2FtcGFpZ25cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FtcGFpZ25JZCAtIENhbXBhaWduIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImNvbnRhY3RSYXRlXCI6IHtcbiAgICAgIFwiYXR0ZW1wdHNcIjogMCxcbiAgICAgIFwiY29ubmVjdHNcIjogMCxcbiAgICAgIFwiY29ubmVjdFJhdGlvXCI6IHt9XG4gICB9LFxuICAgXCJpZGxlQWdlbnRzXCI6IDAsXG4gICBcImFkanVzdGVkQ2FsbHNQZXJBZ2VudFwiOiB7fSxcbiAgIFwib3V0c3RhbmRpbmdDYWxsc1wiOiAwXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZFN0YXRzID0gZnVuY3Rpb24gZ2V0Q2FtcGFpZ25zQ2FtcGFpZ25JZFN0YXRzKGNhbXBhaWduSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NhbXBhaWducy97Y2FtcGFpZ25JZH0vc3RhdHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGEgbGlzdCBvZiBjb250YWN0IGxpc3RzLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUltcG9ydFN0YXR1cyAtIEluY2x1ZGUgaW1wb3J0IHN0YXR1c1xuICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZVNpemUgLSBJbmNsdWRlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVHlwZSAtIEZpbHRlciB0eXBlXG4gIEVRVUFMUyxcbiAgUkVHRVgsXG4gIENPTlRBSU5TLFxuICBQUkVGSVgsXG4gIExFU1NUSEFOLFxuICBMRVNTVEhBTkVRVUFMVE8sXG4gIEdSRUFURVJUSEFOLFxuICBHUkVBVEVSVEhBTkVRVUFMVE8sXG4gIEJFR0lOU1dJVEgsXG4gIEVORFNXSVRILFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgYXNjZW5kaW5nLFxuICBkZXNjZW5kaW5nLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldENvbnRhY3RsaXN0cyA9IGZ1bmN0aW9uIGdldENvbnRhY3RsaXN0cyhpbmNsdWRlSW1wb3J0U3RhdHVzLCBpbmNsdWRlU2l6ZSwgcGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlclR5cGUsIG5hbWUsIHNvcnRCeSwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJpbmNsdWRlSW1wb3J0U3RhdHVzXCJdID0gaW5jbHVkZUltcG9ydFN0YXR1cztcbiAgICByZXF1ZXN0UXVlcnlbXCJpbmNsdWRlU2l6ZVwiXSA9IGluY2x1ZGVTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZmlsdGVyVHlwZVwiXSA9IGZpbHRlclR5cGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBjb250YWN0IExpc3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDb250YWN0TGlzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbHVtbk5hbWVzXCI6IFtdLFxuICAgXCJwaG9uZUNvbHVtbnNcIjogW10sXG4gICBcInByZXZpZXdNb2RlQ29sdW1uTmFtZVwiOiBcIlwiLFxuICAgXCJwcmV2aWV3TW9kZUFjY2VwdGVkVmFsdWVzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY29sdW1uTmFtZXNcIjogW10sXG4gICBcInBob25lQ29sdW1uc1wiOiBbXSxcbiAgIFwiaW1wb3J0U3RhdHVzXCI6IHtcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidG90YWxSZWNvcmRzXCI6IDAsXG4gICAgICBcImNvbXBsZXRlZFJlY29yZHNcIjogMCxcbiAgICAgIFwicGVyY2VudENvbXBsZXRlXCI6IDAsXG4gICAgICBcImZhaWx1cmVSZWFzb25cIjogXCJcIlxuICAgfSxcbiAgIFwicHJldmlld01vZGVDb2x1bW5OYW1lXCI6IFwiXCIsXG4gICBcInByZXZpZXdNb2RlQWNjZXB0ZWRWYWx1ZXNcIjogW10sXG4gICBcInNpemVcIjogMCxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdENvbnRhY3RsaXN0cyA9IGZ1bmN0aW9uIHBvc3RDb250YWN0bGlzdHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY29udGFjdGxpc3RzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZGlhbGVyIGNvbnRhY3QgbGlzdC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdExpc3RJZCAtIENvbnRhY3RMaXN0IElEXG4gICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlSW1wb3J0U3RhdHVzIC0gSW1wb3J0IHN0YXR1c1xuICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZVNpemUgLSBJbmNsdWRlIHNpemVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb2x1bW5OYW1lc1wiOiBbXSxcbiAgIFwicGhvbmVDb2x1bW5zXCI6IFtdLFxuICAgXCJpbXBvcnRTdGF0dXNcIjoge1xuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0b3RhbFJlY29yZHNcIjogMCxcbiAgICAgIFwiY29tcGxldGVkUmVjb3Jkc1wiOiAwLFxuICAgICAgXCJwZXJjZW50Q29tcGxldGVcIjogMCxcbiAgICAgIFwiZmFpbHVyZVJlYXNvblwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmV2aWV3TW9kZUNvbHVtbk5hbWVcIjogXCJcIixcbiAgIFwicHJldmlld01vZGVBY2NlcHRlZFZhbHVlc1wiOiBbXSxcbiAgIFwic2l6ZVwiOiAwLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkID0gZnVuY3Rpb24gZ2V0Q29udGFjdGxpc3RzQ29udGFjdGxpc3RJZChjb250YWN0TGlzdElkLCBpbmNsdWRlSW1wb3J0U3RhdHVzLCBpbmNsdWRlU2l6ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvY29udGFjdGxpc3RzL3tjb250YWN0TGlzdElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnRhY3RMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0TGlzdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb250YWN0TGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnRhY3RMaXN0SWR9JywgY29udGFjdExpc3RJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaW5jbHVkZUltcG9ydFN0YXR1c1wiXSA9IGluY2x1ZGVJbXBvcnRTdGF0dXM7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaW5jbHVkZVNpemVcIl0gPSBpbmNsdWRlU2l6ZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBjb250YWN0IGxpc3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RMaXN0SWQgLSBDb250YWN0TGlzdCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ29udGFjdExpc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb2x1bW5OYW1lc1wiOiBbXSxcbiAgIFwicGhvbmVDb2x1bW5zXCI6IFtdLFxuICAgXCJwcmV2aWV3TW9kZUNvbHVtbk5hbWVcIjogXCJcIixcbiAgIFwicHJldmlld01vZGVBY2NlcHRlZFZhbHVlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbHVtbk5hbWVzXCI6IFtdLFxuICAgXCJwaG9uZUNvbHVtbnNcIjogW10sXG4gICBcImltcG9ydFN0YXR1c1wiOiB7XG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRvdGFsUmVjb3Jkc1wiOiAwLFxuICAgICAgXCJjb21wbGV0ZWRSZWNvcmRzXCI6IDAsXG4gICAgICBcInBlcmNlbnRDb21wbGV0ZVwiOiAwLFxuICAgICAgXCJmYWlsdXJlUmVhc29uXCI6IFwiXCJcbiAgIH0sXG4gICBcInByZXZpZXdNb2RlQ29sdW1uTmFtZVwiOiBcIlwiLFxuICAgXCJwcmV2aWV3TW9kZUFjY2VwdGVkVmFsdWVzXCI6IFtdLFxuICAgXCJzaXplXCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnB1dENvbnRhY3RsaXN0c0NvbnRhY3RsaXN0SWQgPSBmdW5jdGlvbiBwdXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkKGNvbnRhY3RMaXN0SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NvbnRhY3RsaXN0cy97Y29udGFjdExpc3RJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb250YWN0TGlzdElkID09PSB1bmRlZmluZWQgfHwgY29udGFjdExpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udGFjdExpc3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb250YWN0TGlzdElkfScsIGNvbnRhY3RMaXN0SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgY29udGFjdCBsaXN0LlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWN0TGlzdElkIC0gQ29udGFjdExpc3QgSURcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5kZWxldGVDb250YWN0bGlzdHNDb250YWN0bGlzdElkID0gZnVuY3Rpb24gZGVsZXRlQ29udGFjdGxpc3RzQ29udGFjdGxpc3RJZChjb250YWN0TGlzdElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udGFjdExpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRhY3RMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RMaXN0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udGFjdExpc3RJZH0nLCBjb250YWN0TGlzdElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgY29udGFjdHMgdG8gYSBjb250YWN0IGxpc3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RMaXN0SWQgLSBDb250YWN0IExpc3QgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIENvbnRhY3RcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByaW9yaXR5IC0gQ29udGFjdCBwcmlvcml0eS4gIFRydWUgbWVhbnMgdGhlIGNvbnRhY3Qocykgd2lsbCBnbyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0LCBmYWxzZSBtZWFucyBhdCB0aGUgZW5kLlxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImNvbnRhY3RMaXN0SWRcIjogXCJcIixcbiAgXCJkYXRhXCI6IHt9LFxuICBcImNhbGxhYmxlXCI6IHRydWUsXG4gIFwicGhvbmVOdW1iZXJTdGF0dXNcIjoge31cbiB9XG5dXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImlkXCI6IFwiXCIsXG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImNvbnRhY3RMaXN0SWRcIjogXCJcIixcbiAgXCJkYXRhXCI6IHt9LFxuICBcImNhbGxSZWNvcmRzXCI6IHt9LFxuICBcImNhbGxhYmxlXCI6IHRydWUsXG4gIFwicGhvbmVOdW1iZXJTdGF0dXNcIjoge30sXG4gIFwic2VsZlVyaVwiOiBcIlwiXG4gfVxuXVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnBvc3RDb250YWN0bGlzdHNDb250YWN0bGlzdElkQ29udGFjdHMgPSBmdW5jdGlvbiBwb3N0Q29udGFjdGxpc3RzQ29udGFjdGxpc3RJZENvbnRhY3RzKGNvbnRhY3RMaXN0SWQsIGJvZHksIHByaW9yaXR5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2NvbnRhY3RzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udGFjdExpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRhY3RMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RMaXN0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udGFjdExpc3RJZH0nLCBjb250YWN0TGlzdElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInByaW9yaXR5XCJdID0gcHJpb3JpdHk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGNvbnRhY3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RMaXN0SWQgLSBDb250YWN0IExpc3QgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdElkIC0gQ29udGFjdCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNvbnRhY3RMaXN0SWRcIjogXCJcIixcbiAgIFwiZGF0YVwiOiB7fSxcbiAgIFwiY2FsbFJlY29yZHNcIjoge30sXG4gICBcImNhbGxhYmxlXCI6IHRydWUsXG4gICBcInBob25lTnVtYmVyU3RhdHVzXCI6IHt9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkQ29udGFjdHNDb250YWN0SWQgPSBmdW5jdGlvbiBnZXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkQ29udGFjdHNDb250YWN0SWQoY29udGFjdExpc3RJZCwgY29udGFjdElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2NvbnRhY3RzL3tjb250YWN0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udGFjdExpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRhY3RMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RMaXN0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udGFjdExpc3RJZH0nLCBjb250YWN0TGlzdElkKTtcbiAgICBpZihjb250YWN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb250YWN0SWR9JywgY29udGFjdElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBjb250YWN0LlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWN0TGlzdElkIC0gQ29udGFjdCBMaXN0IElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RJZCAtIENvbnRhY3QgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIENvbnRhY3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY29udGFjdExpc3RJZFwiOiBcIlwiLFxuICAgXCJkYXRhXCI6IHt9LFxuICAgXCJjYWxsYWJsZVwiOiB0cnVlLFxuICAgXCJwaG9uZU51bWJlclN0YXR1c1wiOiB7fVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNvbnRhY3RMaXN0SWRcIjogXCJcIixcbiAgIFwiZGF0YVwiOiB7fSxcbiAgIFwiY2FsbFJlY29yZHNcIjoge30sXG4gICBcImNhbGxhYmxlXCI6IHRydWUsXG4gICBcInBob25lTnVtYmVyU3RhdHVzXCI6IHt9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wdXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkQ29udGFjdHNDb250YWN0SWQgPSBmdW5jdGlvbiBwdXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkQ29udGFjdHNDb250YWN0SWQoY29udGFjdExpc3RJZCwgY29udGFjdElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2NvbnRhY3RzL3tjb250YWN0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udGFjdExpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRhY3RMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RMaXN0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udGFjdExpc3RJZH0nLCBjb250YWN0TGlzdElkKTtcbiAgICBpZihjb250YWN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnRhY3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb250YWN0SWR9JywgY29udGFjdElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGNvbnRhY3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhY3RMaXN0SWQgLSBDb250YWN0IExpc3QgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdElkIC0gQ29udGFjdCBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZUNvbnRhY3RsaXN0c0NvbnRhY3RsaXN0SWRDb250YWN0c0NvbnRhY3RJZCA9IGZ1bmN0aW9uIGRlbGV0ZUNvbnRhY3RsaXN0c0NvbnRhY3RsaXN0SWRDb250YWN0c0NvbnRhY3RJZChjb250YWN0TGlzdElkLCBjb250YWN0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NvbnRhY3RsaXN0cy97Y29udGFjdExpc3RJZH0vY29udGFjdHMve2NvbnRhY3RJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb250YWN0TGlzdElkID09PSB1bmRlZmluZWQgfHwgY29udGFjdExpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udGFjdExpc3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb250YWN0TGlzdElkfScsIGNvbnRhY3RMaXN0SWQpO1xuICAgIGlmKGNvbnRhY3RJZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRhY3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udGFjdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnRhY3RJZH0nLCBjb250YWN0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgVVJJIG9mIGEgY29udGFjdCBsaXN0IGV4cG9ydC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdExpc3RJZCAtIENvbnRhY3RMaXN0IElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGRvd25sb2FkIC0gUmVkaXJlY3QgdG8gZG93bmxvYWQgdXJpXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInVyaVwiOiBcIlwiLFxuICAgXCJleHBvcnRUaW1lc3RhbXBcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldENvbnRhY3RsaXN0c0NvbnRhY3RsaXN0SWRFeHBvcnQgPSBmdW5jdGlvbiBnZXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkRXhwb3J0KGNvbnRhY3RMaXN0SWQsIGRvd25sb2FkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2V4cG9ydCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnRhY3RMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0TGlzdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb250YWN0TGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnRhY3RMaXN0SWR9JywgY29udGFjdExpc3RJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZG93bmxvYWRcIl0gPSBkb3dubG9hZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBJbml0aWF0ZSB0aGUgZXhwb3J0IG9mIGEgY29udGFjdCBsaXN0LlxuICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIDIwMCBpZiByZWNlaXZlZCBPSy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdExpc3RJZCAtIENvbnRhY3RMaXN0IElEXG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdENvbnRhY3RsaXN0c0NvbnRhY3RsaXN0SWRFeHBvcnQgPSBmdW5jdGlvbiBwb3N0Q29udGFjdGxpc3RzQ29udGFjdGxpc3RJZEV4cG9ydChjb250YWN0TGlzdElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2V4cG9ydCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnRhY3RMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0TGlzdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb250YWN0TGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnRhY3RMaXN0SWR9JywgY29udGFjdExpc3RJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBkaWFsZXIgY29udGFjdExpc3QgaW1wb3J0IHN0YXR1cy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udGFjdExpc3RJZCAtIENvbnRhY3RMaXN0IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInRvdGFsUmVjb3Jkc1wiOiAwLFxuICAgXCJjb21wbGV0ZWRSZWNvcmRzXCI6IDAsXG4gICBcInBlcmNlbnRDb21wbGV0ZVwiOiAwLFxuICAgXCJmYWlsdXJlUmVhc29uXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRDb250YWN0bGlzdHNDb250YWN0bGlzdElkSW1wb3J0c3RhdHVzID0gZnVuY3Rpb24gZ2V0Q29udGFjdGxpc3RzQ29udGFjdGxpc3RJZEltcG9ydHN0YXR1cyhjb250YWN0TGlzdElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9jb250YWN0bGlzdHMve2NvbnRhY3RMaXN0SWR9L2ltcG9ydHN0YXR1cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnRhY3RMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBjb250YWN0TGlzdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb250YWN0TGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnRhY3RMaXN0SWR9JywgY29udGFjdExpc3RJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQWRkIHBob25lIG51bWJlcnMgdG8gYSBEaWFsZXIgRE5DIGxpc3QuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gQ29udmVyc2F0aW9uIElEXG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZERuYyA9IGZ1bmN0aW9uIHBvc3RDb252ZXJzYXRpb25zQ29udmVyc2F0aW9uSWREbmMoY29udmVyc2F0aW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9kbmMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGRpYWxlciBETkMgbGlzdHNcbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVJbXBvcnRTdGF0dXMgLSBJbXBvcnQgc3RhdHVzXG4gICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlU2l6ZSAtIEluY2x1ZGUgc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUeXBlIC0gRmlsdGVyIHR5cGVcbiAgRVFVQUxTLFxuICBSRUdFWCxcbiAgQ09OVEFJTlMsXG4gIFBSRUZJWCxcbiAgTEVTU1RIQU4sXG4gIExFU1NUSEFORVFVQUxUTyxcbiAgR1JFQVRFUlRIQU4sXG4gIEdSRUFURVJUSEFORVFVQUxUTyxcbiAgQkVHSU5TV0lUSCxcbiAgRU5EU1dJVEgsXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0RG5jbGlzdHMgPSBmdW5jdGlvbiBnZXREbmNsaXN0cyhpbmNsdWRlSW1wb3J0U3RhdHVzLCBpbmNsdWRlU2l6ZSwgcGFnZVNpemUsIHBhZ2VOdW1iZXIsIGZpbHRlclR5cGUsIG5hbWUsIHNvcnRCeSwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9kbmNsaXN0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcImluY2x1ZGVJbXBvcnRTdGF0dXNcIl0gPSBpbmNsdWRlSW1wb3J0U3RhdHVzO1xuICAgIHJlcXVlc3RRdWVyeVtcImluY2x1ZGVTaXplXCJdID0gaW5jbHVkZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJmaWx0ZXJUeXBlXCJdID0gZmlsdGVyVHlwZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBkaWFsZXIgRE5DIGxpc3RcbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIERuY0xpc3RcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiaW1wb3J0U3RhdHVzXCI6IHtcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidG90YWxSZWNvcmRzXCI6IDAsXG4gICAgICBcImNvbXBsZXRlZFJlY29yZHNcIjogMCxcbiAgICAgIFwicGVyY2VudENvbXBsZXRlXCI6IDAsXG4gICAgICBcImZhaWx1cmVSZWFzb25cIjogXCJcIlxuICAgfSxcbiAgIFwic2l6ZVwiOiAwLFxuICAgXCJkbmNTb3VyY2VUeXBlXCI6IFwiXCIsXG4gICBcImxvZ2luSWRcIjogXCJcIixcbiAgIFwiZG5jQ29kZXNcIjogW10sXG4gICBcImxpY2Vuc2VJZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0RG5jbGlzdHMgPSBmdW5jdGlvbiBwb3N0RG5jbGlzdHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvZG5jbGlzdHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZGlhbGVyIEROQyBsaXN0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRuY0xpc3RJZCAtIERuY0xpc3QgSURcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVJbXBvcnRTdGF0dXMgLSBJbXBvcnQgc3RhdHVzXG4gICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlU2l6ZSAtIEluY2x1ZGUgc2l6ZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImltcG9ydFN0YXR1c1wiOiB7XG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRvdGFsUmVjb3Jkc1wiOiAwLFxuICAgICAgXCJjb21wbGV0ZWRSZWNvcmRzXCI6IDAsXG4gICAgICBcInBlcmNlbnRDb21wbGV0ZVwiOiAwLFxuICAgICAgXCJmYWlsdXJlUmVhc29uXCI6IFwiXCJcbiAgIH0sXG4gICBcInNpemVcIjogMCxcbiAgIFwiZG5jU291cmNlVHlwZVwiOiBcIlwiLFxuICAgXCJsb2dpbklkXCI6IFwiXCIsXG4gICBcImRuY0NvZGVzXCI6IFtdLFxuICAgXCJsaWNlbnNlSWRcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0RG5jbGlzdHNEbmNsaXN0SWQgPSBmdW5jdGlvbiBnZXREbmNsaXN0c0RuY2xpc3RJZChkbmNMaXN0SWQsIGluY2x1ZGVJbXBvcnRTdGF0dXMsIGluY2x1ZGVTaXplKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9kbmNsaXN0cy97ZG5jTGlzdElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRuY0xpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGRuY0xpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG5jTGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RuY0xpc3RJZH0nLCBkbmNMaXN0SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImluY2x1ZGVJbXBvcnRTdGF0dXNcIl0gPSBpbmNsdWRlSW1wb3J0U3RhdHVzO1xuICAgIHJlcXVlc3RRdWVyeVtcImluY2x1ZGVTaXplXCJdID0gaW5jbHVkZVNpemU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGRpYWxlciBETkMgbGlzdFxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkbmNMaXN0SWQgLSBEbmNMaXN0IElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBEbmNMaXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImltcG9ydFN0YXR1c1wiOiB7XG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRvdGFsUmVjb3Jkc1wiOiAwLFxuICAgICAgXCJjb21wbGV0ZWRSZWNvcmRzXCI6IDAsXG4gICAgICBcInBlcmNlbnRDb21wbGV0ZVwiOiAwLFxuICAgICAgXCJmYWlsdXJlUmVhc29uXCI6IFwiXCJcbiAgIH0sXG4gICBcInNpemVcIjogMCxcbiAgIFwiZG5jU291cmNlVHlwZVwiOiBcIlwiLFxuICAgXCJsb2dpbklkXCI6IFwiXCIsXG4gICBcImRuY0NvZGVzXCI6IFtdLFxuICAgXCJsaWNlbnNlSWRcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucHV0RG5jbGlzdHNEbmNsaXN0SWQgPSBmdW5jdGlvbiBwdXREbmNsaXN0c0RuY2xpc3RJZChkbmNMaXN0SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2RuY2xpc3RzL3tkbmNMaXN0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG5jTGlzdElkID09PSB1bmRlZmluZWQgfHwgZG5jTGlzdElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkbmNMaXN0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG5jTGlzdElkfScsIGRuY0xpc3RJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgZGlhbGVyIEROQyBsaXN0XG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRuY0xpc3RJZCAtIERuY0xpc3QgSURcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5kZWxldGVEbmNsaXN0c0RuY2xpc3RJZCA9IGZ1bmN0aW9uIGRlbGV0ZURuY2xpc3RzRG5jbGlzdElkKGRuY0xpc3RJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvZG5jbGlzdHMve2RuY0xpc3RJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkbmNMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBkbmNMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRuY0xpc3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkbmNMaXN0SWR9JywgZG5jTGlzdElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIFVSSSBvZiBhIEROQyBsaXN0IGV4cG9ydC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG5jTGlzdElkIC0gRG5jTGlzdCBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb3dubG9hZCAtIFJlZGlyZWN0IHRvIGRvd25sb2FkIHVyaVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ1cmlcIjogXCJcIixcbiAgIFwiZXhwb3J0VGltZXN0YW1wXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXREbmNsaXN0c0RuY2xpc3RJZEV4cG9ydCA9IGZ1bmN0aW9uIGdldERuY2xpc3RzRG5jbGlzdElkRXhwb3J0KGRuY0xpc3RJZCwgZG93bmxvYWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2RuY2xpc3RzL3tkbmNMaXN0SWR9L2V4cG9ydCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRuY0xpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGRuY0xpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG5jTGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RuY0xpc3RJZH0nLCBkbmNMaXN0SWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImRvd25sb2FkXCJdID0gZG93bmxvYWQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgSW5pdGlhdGUgdGhlIGV4cG9ydCBvZiBhIGRuYyBsaXN0LlxuICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIDIwMCBpZiByZWNlaXZlZCBPSy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG5jTGlzdElkIC0gRG5jTGlzdCBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLnBvc3REbmNsaXN0c0RuY2xpc3RJZEV4cG9ydCA9IGZ1bmN0aW9uIHBvc3REbmNsaXN0c0RuY2xpc3RJZEV4cG9ydChkbmNMaXN0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2RuY2xpc3RzL3tkbmNMaXN0SWR9L2V4cG9ydCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRuY0xpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGRuY0xpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG5jTGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RuY0xpc3RJZH0nLCBkbmNMaXN0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZGlhbGVyIGRuY0xpc3QgaW1wb3J0IHN0YXR1cy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG5jTGlzdElkIC0gRG5jTGlzdCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJ0b3RhbFJlY29yZHNcIjogMCxcbiAgIFwiY29tcGxldGVkUmVjb3Jkc1wiOiAwLFxuICAgXCJwZXJjZW50Q29tcGxldGVcIjogMCxcbiAgIFwiZmFpbHVyZVJlYXNvblwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0RG5jbGlzdHNEbmNsaXN0SWRJbXBvcnRzdGF0dXMgPSBmdW5jdGlvbiBnZXREbmNsaXN0c0RuY2xpc3RJZEltcG9ydHN0YXR1cyhkbmNMaXN0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL2RuY2xpc3RzL3tkbmNMaXN0SWR9L2ltcG9ydHN0YXR1cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRuY0xpc3RJZCA9PT0gdW5kZWZpbmVkIHx8IGRuY0xpc3RJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZG5jTGlzdElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RuY0xpc3RJZH0nLCBkbmNMaXN0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEFkZCBwaG9uZSBudW1iZXJzIHRvIGEgRGlhbGVyIEROQyBsaXN0LlxuICAqIEBkZXNjcmlwdGlvbiBPbmx5IEludGVybmFsIEROQyBsaXN0cyBtYXkgYmUgYXBwZW5kZWQgdG9cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG5jTGlzdElkIC0gRG5jTGlzdCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gRE5DIFBob25lIE51bWJlcnNcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0RG5jbGlzdHNEbmNsaXN0SWRQaG9uZW51bWJlcnMgPSBmdW5jdGlvbiBwb3N0RG5jbGlzdHNEbmNsaXN0SWRQaG9uZW51bWJlcnMoZG5jTGlzdElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9kbmNsaXN0cy97ZG5jTGlzdElkfS9waG9uZW51bWJlcnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkbmNMaXN0SWQgPT09IHVuZGVmaW5lZCB8fCBkbmNMaXN0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRuY0xpc3RJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkbmNMaXN0SWR9JywgZG5jTGlzdElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBhIGxpc3Qgb2YgUnVsZSBTZXRzLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJUeXBlIC0gRmlsdGVyIHR5cGVcbiAgRVFVQUxTLFxuICBSRUdFWCxcbiAgQ09OVEFJTlMsXG4gIFBSRUZJWCxcbiAgTEVTU1RIQU4sXG4gIExFU1NUSEFORVFVQUxUTyxcbiAgR1JFQVRFUlRIQU4sXG4gIEdSRUFURVJUSEFORVFVQUxUTyxcbiAgQkVHSU5TV0lUSCxcbiAgRU5EU1dJVEgsXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0UnVsZXNldHMgPSBmdW5jdGlvbiBnZXRSdWxlc2V0cyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyVHlwZSwgbmFtZSwgc29ydEJ5LCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3J1bGVzZXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJmaWx0ZXJUeXBlXCJdID0gZmlsdGVyVHlwZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIERpYWxlciBDYWxsIEFuYWx5c2lzIFJlc3BvbnNlIFNldC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFJ1bGVTZXRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb250YWN0TGlzdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJydWxlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbnRhY3RMaXN0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInJ1bGVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wb3N0UnVsZXNldHMgPSBmdW5jdGlvbiBwb3N0UnVsZXNldHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvcnVsZXNldHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBSdWxlIFNldCBieSBJRC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcnVsZVNldElkIC0gUnVsZSBTZXQgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb250YWN0TGlzdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJydWxlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0UnVsZXNldHNSdWxlc2V0SWQgPSBmdW5jdGlvbiBnZXRSdWxlc2V0c1J1bGVzZXRJZChydWxlU2V0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3J1bGVzZXRzL3tydWxlU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocnVsZVNldElkID09PSB1bmRlZmluZWQgfHwgcnVsZVNldElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBydWxlU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cnVsZVNldElkfScsIHJ1bGVTZXRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgUnVsZVNldC5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcnVsZVNldElkIC0gUnVsZSBTZXQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFJ1bGVTZXRcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjb250YWN0TGlzdFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJydWxlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNvbnRhY3RMaXN0XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInJ1bGVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wdXRSdWxlc2V0c1J1bGVzZXRJZCA9IGZ1bmN0aW9uIHB1dFJ1bGVzZXRzUnVsZXNldElkKHJ1bGVTZXRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvcnVsZXNldHMve3J1bGVTZXRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihydWxlU2V0SWQgPT09IHVuZGVmaW5lZCB8fCBydWxlU2V0SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJ1bGVTZXRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tydWxlU2V0SWR9JywgcnVsZVNldElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIFJ1bGUgc2V0LlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlU2V0SWQgLSBSdWxlIFNldCBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZVJ1bGVzZXRzUnVsZXNldElkID0gZnVuY3Rpb24gZGVsZXRlUnVsZXNldHNSdWxlc2V0SWQocnVsZVNldElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9ydWxlc2V0cy97cnVsZVNldElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJ1bGVTZXRJZCA9PT0gdW5kZWZpbmVkIHx8IHJ1bGVTZXRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcnVsZVNldElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3J1bGVTZXRJZH0nLCBydWxlU2V0SWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGZvciBhIGxpc3Qgb2YgZGlhbGVyIGNhbXBhaWduIHNjaGVkdWxlcy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgXCJ2ZXJzaW9uXCI6IDAsXG4gIFwiaW50ZXJ2YWxzXCI6IFtdLFxuICBcInRpbWVab25lXCI6IFwiXCIsXG4gIFwiY2FtcGFpZ25cIjoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxuICB9LFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5nZXRTY2hlZHVsZXNDYW1wYWlnbnMgPSBmdW5jdGlvbiBnZXRTY2hlZHVsZXNDYW1wYWlnbnMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9zY2hlZHVsZXMvY2FtcGFpZ25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZGlhbGVyIGNhbXBhaWduIHNjaGVkdWxlLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYW1wYWlnbklkIC0gQ2FtcGFpZ24gSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJpbnRlcnZhbHNcIjogW10sXG4gICBcInRpbWVab25lXCI6IFwiXCIsXG4gICBcImNhbXBhaWduXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldFNjaGVkdWxlc0NhbXBhaWduc0NhbXBhaWduSWQgPSBmdW5jdGlvbiBnZXRTY2hlZHVsZXNDYW1wYWlnbnNDYW1wYWlnbklkKGNhbXBhaWduSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NjaGVkdWxlcy9jYW1wYWlnbnMve2NhbXBhaWduSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FtcGFpZ25JZCA9PT0gdW5kZWZpbmVkIHx8IGNhbXBhaWduSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbXBhaWduSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FtcGFpZ25JZH0nLCBjYW1wYWlnbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBuZXcgY2FtcGFpZ24gc2NoZWR1bGUuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbXBhaWduSWQgLSBDYW1wYWlnbiBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FtcGFpZ25TY2hlZHVsZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImludGVydmFsc1wiOiBbXSxcbiAgIFwidGltZVpvbmVcIjogXCJcIixcbiAgIFwiY2FtcGFpZ25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImludGVydmFsc1wiOiBbXSxcbiAgIFwidGltZVpvbmVcIjogXCJcIixcbiAgIFwiY2FtcGFpZ25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucHV0U2NoZWR1bGVzQ2FtcGFpZ25zQ2FtcGFpZ25JZCA9IGZ1bmN0aW9uIHB1dFNjaGVkdWxlc0NhbXBhaWduc0NhbXBhaWduSWQoY2FtcGFpZ25JZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvc2NoZWR1bGVzL2NhbXBhaWducy97Y2FtcGFpZ25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjYW1wYWlnbklkID09PSB1bmRlZmluZWQgfHwgY2FtcGFpZ25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2FtcGFpZ25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjYW1wYWlnbklkfScsIGNhbXBhaWduSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgZGlhbGVyIGNhbXBhaWduIHNjaGVkdWxlLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYW1wYWlnbklkIC0gQ2FtcGFpZ24gSURcbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5kZWxldGVTY2hlZHVsZXNDYW1wYWlnbnNDYW1wYWlnbklkID0gZnVuY3Rpb24gZGVsZXRlU2NoZWR1bGVzQ2FtcGFpZ25zQ2FtcGFpZ25JZChjYW1wYWlnbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9zY2hlZHVsZXMvY2FtcGFpZ25zL3tjYW1wYWlnbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbXBhaWduSWQgPT09IHVuZGVmaW5lZCB8fCBjYW1wYWlnbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYW1wYWlnbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbXBhaWduSWR9JywgY2FtcGFpZ25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIGEgbGlzdCBvZiBkaWFsZXIgc2VxdWVuY2Ugc2NoZWR1bGVzLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiLFxuICBcIm5hbWVcIjogXCJcIixcbiAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICBcInZlcnNpb25cIjogMCxcbiAgXCJpbnRlcnZhbHNcIjogW10sXG4gIFwidGltZVpvbmVcIjogXCJcIixcbiAgXCJzZXF1ZW5jZVwiOiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG4gIH0sXG4gIFwic2VsZlVyaVwiOiBcIlwiXG4gfVxuXVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldFNjaGVkdWxlc1NlcXVlbmNlcyA9IGZ1bmN0aW9uIGdldFNjaGVkdWxlc1NlcXVlbmNlcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NjaGVkdWxlcy9zZXF1ZW5jZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBkaWFsZXIgc2VxdWVuY2Ugc2NoZWR1bGUuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNlcXVlbmNlSWQgLSBTZXF1ZW5jZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImludGVydmFsc1wiOiBbXSxcbiAgIFwidGltZVpvbmVcIjogXCJcIixcbiAgIFwic2VxdWVuY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUuZ2V0U2NoZWR1bGVzU2VxdWVuY2VzU2VxdWVuY2VJZCA9IGZ1bmN0aW9uIGdldFNjaGVkdWxlc1NlcXVlbmNlc1NlcXVlbmNlSWQoc2VxdWVuY2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvc2NoZWR1bGVzL3NlcXVlbmNlcy97c2VxdWVuY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzZXF1ZW5jZUlkID09PSB1bmRlZmluZWQgfHwgc2VxdWVuY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2VxdWVuY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzZXF1ZW5jZUlkfScsIHNlcXVlbmNlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIG5ldyBzZXF1ZW5jZSBzY2hlZHVsZS5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2VxdWVuY2VJZCAtIFNlcXVlbmNlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTZXF1ZW5jZVNjaGVkdWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiaW50ZXJ2YWxzXCI6IFtdLFxuICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgXCJzZXF1ZW5jZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiaW50ZXJ2YWxzXCI6IFtdLFxuICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgXCJzZXF1ZW5jZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cbk91dGJvdW5kQXBpLnByb3RvdHlwZS5wdXRTY2hlZHVsZXNTZXF1ZW5jZXNTZXF1ZW5jZUlkID0gZnVuY3Rpb24gcHV0U2NoZWR1bGVzU2VxdWVuY2VzU2VxdWVuY2VJZChzZXF1ZW5jZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9vdXRib3VuZC9zY2hlZHVsZXMvc2VxdWVuY2VzL3tzZXF1ZW5jZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNlcXVlbmNlSWQgPT09IHVuZGVmaW5lZCB8fCBzZXF1ZW5jZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzZXF1ZW5jZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NlcXVlbmNlSWR9Jywgc2VxdWVuY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBkaWFsZXIgc2VxdWVuY2Ugc2NoZWR1bGUuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNlcXVlbmNlSWQgLSBTZXF1ZW5jZSBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZVNjaGVkdWxlc1NlcXVlbmNlc1NlcXVlbmNlSWQgPSBmdW5jdGlvbiBkZWxldGVTY2hlZHVsZXNTZXF1ZW5jZXNTZXF1ZW5jZUlkKHNlcXVlbmNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NjaGVkdWxlcy9zZXF1ZW5jZXMve3NlcXVlbmNlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2VxdWVuY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHNlcXVlbmNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNlcXVlbmNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2VxdWVuY2VJZH0nLCBzZXF1ZW5jZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBRdWVyeSBhIGxpc3Qgb2YgZGlhbGVyIGNhbXBhaWduIHNlcXVlbmNlcy5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyVHlwZSAtIEZpbHRlciB0eXBlXG4gIEVRVUFMUyxcbiAgUkVHRVgsXG4gIENPTlRBSU5TLFxuICBQUkVGSVgsXG4gIExFU1NUSEFOLFxuICBMRVNTVEhBTkVRVUFMVE8sXG4gIEdSRUFURVJUSEFOLFxuICBHUkVBVEVSVEhBTkVRVUFMVE8sXG4gIEJFR0lOU1dJVEgsXG4gIEVORFNXSVRILFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgYXNjZW5kaW5nLFxuICBkZXNjZW5kaW5nLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldFNlcXVlbmNlcyA9IGZ1bmN0aW9uIGdldFNlcXVlbmNlcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgZmlsdGVyVHlwZSwgbmFtZSwgc29ydEJ5LCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NlcXVlbmNlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZmlsdGVyVHlwZVwiXSA9IGZpbHRlclR5cGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgY2FtcGFpZ24gc2VxdWVuY2UuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBPcmdhbml6YXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYW1wYWlnbnNcIjogW10sXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJyZXBlYXRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNhbXBhaWduc1wiOiBbXSxcbiAgIFwiY3VycmVudENhbXBhaWduXCI6IDAsXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJzdG9wTWVzc2FnZVwiOiBcIlwiLFxuICAgXCJyZXBlYXRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucG9zdFNlcXVlbmNlcyA9IGZ1bmN0aW9uIHBvc3RTZXF1ZW5jZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvc2VxdWVuY2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgZGlhbGVyIGNhbXBhaWduIHNlcXVlbmNlLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzZXF1ZW5jZUlkIC0gQ2FtcGFpZ24gU2VxdWVuY2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYW1wYWlnbnNcIjogW10sXG4gICBcImN1cnJlbnRDYW1wYWlnblwiOiAwLFxuICAgXCJzdGF0dXNcIjogXCJcIixcbiAgIFwic3RvcE1lc3NhZ2VcIjogXCJcIixcbiAgIFwicmVwZWF0XCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldFNlcXVlbmNlc1NlcXVlbmNlSWQgPSBmdW5jdGlvbiBnZXRTZXF1ZW5jZXNTZXF1ZW5jZUlkKHNlcXVlbmNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NlcXVlbmNlcy97c2VxdWVuY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzZXF1ZW5jZUlkID09PSB1bmRlZmluZWQgfHwgc2VxdWVuY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2VxdWVuY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzZXF1ZW5jZUlkfScsIHNlcXVlbmNlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIG5ldyBjYW1wYWlnbiBzZXF1ZW5jZS5cbiAgKiBAbWVtYmVyT2YgT3V0Ym91bmRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2VxdWVuY2VJZCAtIENhbXBhaWduIFNlcXVlbmNlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBPcmdhbml6YXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYW1wYWlnbnNcIjogW10sXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJyZXBlYXRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImNhbXBhaWduc1wiOiBbXSxcbiAgIFwiY3VycmVudENhbXBhaWduXCI6IDAsXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJzdG9wTWVzc2FnZVwiOiBcIlwiLFxuICAgXCJyZXBlYXRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucHV0U2VxdWVuY2VzU2VxdWVuY2VJZCA9IGZ1bmN0aW9uIHB1dFNlcXVlbmNlc1NlcXVlbmNlSWQoc2VxdWVuY2VJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvb3V0Ym91bmQvc2VxdWVuY2VzL3tzZXF1ZW5jZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNlcXVlbmNlSWQgPT09IHVuZGVmaW5lZCB8fCBzZXF1ZW5jZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzZXF1ZW5jZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NlcXVlbmNlSWR9Jywgc2VxdWVuY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBkaWFsZXIgY2FtcGFpZ24gc2VxdWVuY2UuXG4gICogQG1lbWJlck9mIE91dGJvdW5kQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNlcXVlbmNlSWQgLSBDYW1wYWlnbiBTZXF1ZW5jZSBJRFxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmRlbGV0ZVNlcXVlbmNlc1NlcXVlbmNlSWQgPSBmdW5jdGlvbiBkZWxldGVTZXF1ZW5jZXNTZXF1ZW5jZUlkKHNlcXVlbmNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3NlcXVlbmNlcy97c2VxdWVuY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzZXF1ZW5jZUlkID09PSB1bmRlZmluZWQgfHwgc2VxdWVuY2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2VxdWVuY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzZXF1ZW5jZUlkfScsIHNlcXVlbmNlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgRGlhbGVyIHdyYXAgdXAgY29kZSBtYXBwaW5nLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRlZmF1bHRTZXRcIjogW10sXG4gICBcIm1hcHBpbmdcIjoge30sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuT3V0Ym91bmRBcGkucHJvdG90eXBlLmdldFdyYXB1cGNvZGVtYXBwaW5ncyA9IGZ1bmN0aW9uIGdldFdyYXB1cGNvZGVtYXBwaW5ncygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3dyYXB1cGNvZGVtYXBwaW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSB0aGUgRGlhbGVyIHdyYXAgdXAgY29kZSBtYXBwaW5nLlxuICAqIEBtZW1iZXJPZiBPdXRib3VuZEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gd3JhcFVwQ29kZU1hcHBpbmdcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkZWZhdWx0U2V0XCI6IFtdLFxuICAgXCJtYXBwaW5nXCI6IHt9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGVmYXVsdFNldFwiOiBbXSxcbiAgIFwibWFwcGluZ1wiOiB7fSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5PdXRib3VuZEFwaS5wcm90b3R5cGUucHV0V3JhcHVwY29kZW1hcHBpbmdzID0gZnVuY3Rpb24gcHV0V3JhcHVwY29kZW1hcHBpbmdzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL291dGJvdW5kL3dyYXB1cGNvZGVtYXBwaW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IE91dGJvdW5kQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBQcmVzZW5jZUFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5QcmVzZW5jZUFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBQcmVzZW5jZUFwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgUHJlc2VuY2VBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlc2VuY2VBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXNlbmNlQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gT3JnYW5pemF0aW9uJ3MgbGlzdCBvZiBQcmVzZW5jZSBEZWZpbml0aW9uc1xuICAqIEBtZW1iZXJPZiBQcmVzZW5jZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb0RlbGV0ZWQgLSBEZWxldGVkIHF1ZXJ5IGNhbiBiZSB0cnVlLCBmYWxzZSBvciBhbGxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblByZXNlbmNlQXBpLnByb3RvdHlwZS5nZXRQcmVzZW5jZWRlZmluaXRpb25zID0gZnVuY3Rpb24gZ2V0UHJlc2VuY2VkZWZpbml0aW9ucyhwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZG9EZWxldGVkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9wcmVzZW5jZWRlZmluaXRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJkZWxldGVkXCJdID0gZG9EZWxldGVkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIFByZXNlbmNlIERlZmluaXRpb25cbiAgKiBAbWVtYmVyT2YgUHJlc2VuY2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRoZSBQcmVzZW5jZSBEZWZpbml0aW9uIHRvIGNyZWF0ZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJsYW5ndWFnZUxhYmVsc1wiOiB7fSxcbiAgIFwic3lzdGVtUHJlc2VuY2VcIjogXCJcIixcbiAgIFwiZGVhY3RpdmF0ZWRcIjogdHJ1ZSxcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImxhbmd1YWdlTGFiZWxzXCI6IHt9LFxuICAgXCJzeXN0ZW1QcmVzZW5jZVwiOiBcIlwiLFxuICAgXCJkZWFjdGl2YXRlZFwiOiB0cnVlLFxuICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUHJlc2VuY2VBcGkucHJvdG90eXBlLnBvc3RQcmVzZW5jZWRlZmluaXRpb25zID0gZnVuY3Rpb24gcG9zdFByZXNlbmNlZGVmaW5pdGlvbnMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcHJlc2VuY2VkZWZpbml0aW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIFByZXNlbmNlIERlZmluaXRpb25cbiAgKiBAbWVtYmVyT2YgUHJlc2VuY2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcHJlc2VuY2VJZCAtIE9yZ2FuaXphdGlvbiBQcmVzZW5jZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImxhbmd1YWdlTGFiZWxzXCI6IHt9LFxuICAgXCJzeXN0ZW1QcmVzZW5jZVwiOiBcIlwiLFxuICAgXCJkZWFjdGl2YXRlZFwiOiB0cnVlLFxuICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUHJlc2VuY2VBcGkucHJvdG90eXBlLmdldFByZXNlbmNlSWQgPSBmdW5jdGlvbiBnZXRQcmVzZW5jZUlkKHByZXNlbmNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3ByZXNlbmNlZGVmaW5pdGlvbnMve3ByZXNlbmNlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocHJlc2VuY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHByZXNlbmNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHByZXNlbmNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cHJlc2VuY2VJZH0nLCBwcmVzZW5jZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBQcmVzZW5jZSBEZWZpbml0aW9uXG4gICogQG1lbWJlck9mIFByZXNlbmNlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXNlbmNlSWQgLSBPcmdhbml6YXRpb24gUHJlc2VuY2UgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFRoZSBPcmdhbml6YXRpb25QcmVzZW5jZSB0byB1cGRhdGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibGFuZ3VhZ2VMYWJlbHNcIjoge30sXG4gICBcInN5c3RlbVByZXNlbmNlXCI6IFwiXCIsXG4gICBcImRlYWN0aXZhdGVkXCI6IHRydWUsXG4gICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH0sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJsYW5ndWFnZUxhYmVsc1wiOiB7fSxcbiAgIFwic3lzdGVtUHJlc2VuY2VcIjogXCJcIixcbiAgIFwiZGVhY3RpdmF0ZWRcIjogdHJ1ZSxcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblByZXNlbmNlQXBpLnByb3RvdHlwZS5wdXRQcmVzZW5jZUlkID0gZnVuY3Rpb24gcHV0UHJlc2VuY2VJZChwcmVzZW5jZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9wcmVzZW5jZWRlZmluaXRpb25zL3twcmVzZW5jZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHByZXNlbmNlSWQgPT09IHVuZGVmaW5lZCB8fCBwcmVzZW5jZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwcmVzZW5jZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3ByZXNlbmNlSWR9JywgcHJlc2VuY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBQcmVzZW5jZSBEZWZpbml0aW9uXG4gICogQG1lbWJlck9mIFByZXNlbmNlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXNlbmNlSWQgLSBPcmdhbml6YXRpb24gUHJlc2VuY2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJsYW5ndWFnZUxhYmVsc1wiOiB7fSxcbiAgIFwic3lzdGVtUHJlc2VuY2VcIjogXCJcIixcbiAgIFwiZGVhY3RpdmF0ZWRcIjogdHJ1ZSxcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblByZXNlbmNlQXBpLnByb3RvdHlwZS5kZWxldGVQcmVzZW5jZUlkID0gZnVuY3Rpb24gZGVsZXRlUHJlc2VuY2VJZChwcmVzZW5jZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9wcmVzZW5jZWRlZmluaXRpb25zL3twcmVzZW5jZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHByZXNlbmNlSWQgPT09IHVuZGVmaW5lZCB8fCBwcmVzZW5jZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwcmVzZW5jZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3ByZXNlbmNlSWR9JywgcHJlc2VuY2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIFN5c3RlbVByZXNlbmNlc1xuICAqIEBtZW1iZXJPZiBQcmVzZW5jZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiLFxuICBcIm5hbWVcIjogXCJcIixcbiAgXCJzZWxmVXJpXCI6IFwiXCJcbiB9XG5dXG4gICovXG5QcmVzZW5jZUFwaS5wcm90b3R5cGUuZ2V0U3lzdGVtcHJlc2VuY2VzID0gZnVuY3Rpb24gZ2V0U3lzdGVtcHJlc2VuY2VzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvc3lzdGVtcHJlc2VuY2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgdXNlcidzIFByZXNlbmNlXG4gICogQG1lbWJlck9mIFByZXNlbmNlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIHVzZXIgSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlSWQgLSBTb3VyY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzb3VyY2VcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJwcmVzZW5jZURlZmluaXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImxhbmd1YWdlTGFiZWxzXCI6IHt9LFxuICAgICAgXCJzeXN0ZW1QcmVzZW5jZVwiOiBcIlwiLFxuICAgICAgXCJkZWFjdGl2YXRlZFwiOiB0cnVlLFxuICAgICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICAgICBcImNyZWF0ZWRCeVwiOiB7fSxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiB7fSxcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVzc2FnZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5QcmVzZW5jZUFwaS5wcm90b3R5cGUuZ2V0VXNlcklkUHJlc2VuY2VzU291cmNlSWQgPSBmdW5jdGlvbiBnZXRVc2VySWRQcmVzZW5jZXNTb3VyY2VJZCh1c2VySWQsIHNvdXJjZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9wcmVzZW5jZXMve3NvdXJjZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKHNvdXJjZUlkID09PSB1bmRlZmluZWQgfHwgc291cmNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNvdXJjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NvdXJjZUlkfScsIHNvdXJjZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBQYXRjaCBhIHVzZXIncyBQcmVzZW5jZVxuICAqIEBkZXNjcmlwdGlvbiBUaGUgcHJlc2VuY2Ugb2JqZWN0IGNhbiBiZSBwYXRjaGVkIG9uZSBvZiB0aHJlZSB3YXlzLiBPcHRpb24gMTogU2V0IHRoZSAncHJpbWFyeScgcHJvcGVydHkgdG8gdHJ1ZS4gVGhpcyB3aWxsIHNldCB0aGUgJ3NvdXJjZScgZGVmaW5lZCBpbiB0aGUgcGF0aCBhcyB0aGUgdXNlcidzIHByaW1hcnkgcHJlc2VuY2Ugc291cmNlLiBPcHRpb24gMjogUHJvdmlkZSB0aGUgcHJlc2VuY2VEZWZpbml0aW9uIHZhbHVlLiBUaGUgJ2lkJyBpcyB0aGUgb25seSB2YWx1ZSByZXF1aXJlZCB3aXRoaW4gdGhlIHByZXNlbmNlRGVmaW5pdGlvbi4gT3B0aW9uIDM6IFByb3ZpZGUgdGhlIG1lc3NhZ2UgdmFsdWUuIE9wdGlvbiAxIGNhbiBiZSBjb21iaW5lZCB3aXRoIE9wdGlvbiAyIGFuZC9vciBPcHRpb24gMy5cbiAgKiBAbWVtYmVyT2YgUHJlc2VuY2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gdXNlciBJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJZCAtIFNvdXJjZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gVXNlciBwcmVzZW5jZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzb3VyY2VcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJwcmVzZW5jZURlZmluaXRpb25cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImxhbmd1YWdlTGFiZWxzXCI6IHt9LFxuICAgICAgXCJzeXN0ZW1QcmVzZW5jZVwiOiBcIlwiLFxuICAgICAgXCJkZWFjdGl2YXRlZFwiOiB0cnVlLFxuICAgICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICAgICBcImNyZWF0ZWRCeVwiOiB7fSxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiB7fSxcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCJcbiAgIH0sXG4gICBcIm1lc3NhZ2VcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJzb3VyY2VcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJwcmVzZW5jZURlZmluaXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImxhbmd1YWdlTGFiZWxzXCI6IHt9LFxuICAgICAgXCJzeXN0ZW1QcmVzZW5jZVwiOiBcIlwiLFxuICAgICAgXCJkZWFjdGl2YXRlZFwiOiB0cnVlLFxuICAgICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICAgICBcImNyZWF0ZWRCeVwiOiB7fSxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiB7fSxcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWVzc2FnZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5QcmVzZW5jZUFwaS5wcm90b3R5cGUucGF0Y2hVc2VySWRQcmVzZW5jZXNTb3VyY2VJZCA9IGZ1bmN0aW9uIHBhdGNoVXNlcklkUHJlc2VuY2VzU291cmNlSWQodXNlcklkLCBzb3VyY2VJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vcHJlc2VuY2VzL3tzb3VyY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihzb3VyY2VJZCA9PT0gdW5kZWZpbmVkIHx8IHNvdXJjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzb3VyY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzb3VyY2VJZH0nLCBzb3VyY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBQcmVzZW5jZUFwaTtcbiIsIi8qKlxuKiBAY2xhc3MgUXVhbGl0eUFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5RdWFsaXR5QXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFF1YWxpdHlBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIFF1YWxpdHlBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhbGl0eUFwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUXVhbGl0eUFwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIGV2YWx1YXRpb24gYWdncmVnYXRlc1xuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBxdWVyeVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaW50ZXJ2YWxcIjogXCJcIixcbiAgIFwiZ3JhbnVsYXJpdHlcIjogXCJcIixcbiAgIFwiZ3JvdXBCeVwiOiBbXSxcbiAgIFwiZmlsdGVyXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJjbGF1c2VzXCI6IFtdLFxuICAgICAgXCJwcmVkaWNhdGVzXCI6IFtdXG4gICB9LFxuICAgXCJtZXRyaWNzXCI6IFtdLFxuICAgXCJmbGF0dGVuTXVsdGl2YWx1ZWREaW1lbnNpb25zXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUucG9zdEV2YWx1YXRpb25zQWdncmVnYXRlc1F1ZXJ5ID0gZnVuY3Rpb24gcG9zdEV2YWx1YXRpb25zQWdncmVnYXRlc1F1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy9ldmFsdWF0aW9ucy9hZ2dyZWdhdGVzL3F1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0cyBhIGxpc3Qgb2YgQWdlbnQgQWN0aXZpdGllc1xuICAqIEBkZXNjcmlwdGlvbiBJbmNsdWRpbmcgdGhlIG51bWJlciBvZiBldmFsdWF0aW9ucyBhbmQgYXZlcmFnZSBldmFsdWF0aW9uIHNjb3JlXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gVGhlIHRvdGFsIHBhZ2Ugc2l6ZSByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBUaGUgcGFnZSBudW1iZXIgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIHRvIHNvcnQgYnlcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCBieSBleHBhbmQgbGlzdFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0UGFnZSAtIG5leHQgcGFnZSB0b2tlblxuICAqIEBwYXJhbSB7c3RyaW5nfSBwcmV2aW91c1BhZ2UgLSBQcmV2aW91cyBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHN0YXJ0VGltZSAtIFN0YXJ0IHRpbWUgb2YgYWdlbnQgYWN0aXZpdHkuIERhdGUgdGltZSBpcyByZXByZXNlbnRlZCBhcyBhbiBJU08tODYwMSBzdHJpbmcuIEZvciBleGFtcGxlOiB5eXl5LU1NLWRkVEhIOm1tOnNzLlNTU1pcbiAgKiBAcGFyYW0ge3N0cmluZ30gZW5kVGltZSAtIEVuZCB0aW1lIG9mIGFnZW50IGFjdGl2aXR5LiBEYXRlIHRpbWUgaXMgcmVwcmVzZW50ZWQgYXMgYW4gSVNPLTg2MDEgc3RyaW5nLiBGb3IgZXhhbXBsZTogeXl5eS1NTS1kZFRISDptbTpzcy5TU1NaXG4gICogQHBhcmFtIHthcnJheX0gYWdlbnRVc2VySWQgLSB1c2VyIGlkIG9mIGFnZW50IHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBldmFsdWF0b3JVc2VySWQgLSB1c2VyIGlkIG9mIHRoZSBldmFsdWF0b3JcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIG5hbWVcbiAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXAgLSBncm91cCBpZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0QWdlbnRzQWN0aXZpdHkgPSBmdW5jdGlvbiBnZXRBZ2VudHNBY3Rpdml0eShwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIHN0YXJ0VGltZSwgZW5kVGltZSwgYWdlbnRVc2VySWQsIGV2YWx1YXRvclVzZXJJZCwgbmFtZSwgZ3JvdXApe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvYWdlbnRzL2FjdGl2aXR5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5leHRQYWdlXCJdID0gbmV4dFBhZ2U7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJldmlvdXNQYWdlXCJdID0gcHJldmlvdXNQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInN0YXJ0VGltZVwiXSA9IHN0YXJ0VGltZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJlbmRUaW1lXCJdID0gZW5kVGltZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJhZ2VudFVzZXJJZFwiXSA9IGFnZW50VXNlcklkO1xuICAgIHJlcXVlc3RRdWVyeVtcImV2YWx1YXRvclVzZXJJZFwiXSA9IGV2YWx1YXRvclVzZXJJZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJncm91cFwiXSA9IGdyb3VwO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBjYWxpYnJhdGlvbnNcbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBUaGUgdG90YWwgcGFnZSBzaXplIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFRoZSBwYWdlIG51bWJlciByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgdG8gc29ydCBieVxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIGJ5IGV4cGFuZCBsaXN0XG4gICogQHBhcmFtIHtzdHJpbmd9IG5leHRQYWdlIC0gbmV4dCBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXZpb3VzUGFnZSAtIFByZXZpb3VzIHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb24gaWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc3RhcnRUaW1lIC0gQmVnaW5uaW5nIG9mIHRoZSBjYWxpYnJhdGlvbiBxdWVyeS4gRGF0ZSB0aW1lIGlzIHJlcHJlc2VudGVkIGFzIGFuIElTTy04NjAxIHN0cmluZy4gRm9yIGV4YW1wbGU6IHl5eXktTU0tZGRUSEg6bW06c3MuU1NTWlxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRUaW1lIC0gZW5kIG9mIHRoZSBjYWxpYnJhdGlvbiBxdWVyeS4gRGF0ZSB0aW1lIGlzIHJlcHJlc2VudGVkIGFzIGFuIElTTy04NjAxIHN0cmluZy4gRm9yIGV4YW1wbGU6IHl5eXktTU0tZGRUSEg6bW06c3MuU1NTWlxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxpYnJhdG9ySWQgLSB1c2VyIGlkIG9mIGNhbGlicmF0b3JcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmdldENhbGlicmF0aW9ucyA9IGZ1bmN0aW9uIGdldENhbGlicmF0aW9ucyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIGNvbnZlcnNhdGlvbklkLCBzdGFydFRpbWUsIGVuZFRpbWUsIGNhbGlicmF0b3JJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9jYWxpYnJhdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmV4dFBhZ2VcIl0gPSBuZXh0UGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwcmV2aW91c1BhZ2VcIl0gPSBwcmV2aW91c1BhZ2U7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiY29udmVyc2F0aW9uSWRcIl0gPSBjb252ZXJzYXRpb25JZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJzdGFydFRpbWVcIl0gPSBzdGFydFRpbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZW5kVGltZVwiXSA9IGVuZFRpbWU7XG4gICAgaWYoY2FsaWJyYXRvcklkID09PSB1bmRlZmluZWQgfHwgY2FsaWJyYXRvcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxpYnJhdG9ySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiY2FsaWJyYXRvcklkXCJdID0gY2FsaWJyYXRvcklkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIGNhbGlicmF0aW9uXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIGNhbGlicmF0aW9uXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIGNhbGlicmF0b3JJZFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjYWxpYnJhdG9yXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH0sXG4gICBcImFnZW50XCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCJcbiAgIH0sXG4gICBcImV2YWx1YXRpb25Gb3JtXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJwdWJsaXNoZWRcIjogdHJ1ZSxcbiAgICAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICAgICBcInF1ZXN0aW9uR3JvdXBzXCI6IFtdLFxuICAgICAgXCJwdWJsaXNoZWRWZXJzaW9uc1wiOiB7fVxuICAgfSxcbiAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICBcImF2ZXJhZ2VTY29yZVwiOiAwLFxuICAgXCJoaWdoU2NvcmVcIjogMCxcbiAgIFwibG93U2NvcmVcIjogMCxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiZXZhbHVhdGlvbnNcIjogW10sXG4gICBcImV2YWx1YXRvcnNcIjogW10sXG4gICBcInNjb3JpbmdJbmRleFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY29udmVyc2F0aW9uXCI6IHt9LFxuICAgICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdG9yXCI6IHt9LFxuICAgICAgXCJhZ2VudFwiOiB7fSxcbiAgICAgIFwiY2FsaWJyYXRpb25cIjoge30sXG4gICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJhbnN3ZXJzXCI6IHt9LFxuICAgICAgXCJhZ2VudEhhc1JlYWRcIjogdHJ1ZSxcbiAgICAgIFwicmVsZWFzZURhdGVcIjogXCJcIixcbiAgICAgIFwiYXNzaWduZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImNoYW5nZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInF1ZXVlXCI6IHt9LFxuICAgICAgXCJuZXZlclJlbGVhc2VcIjogdHJ1ZSxcbiAgICAgIFwicmVzb3VyY2VJZFwiOiBcIlwiLFxuICAgICAgXCJyZXNvdXJjZVR5cGVcIjogXCJcIixcbiAgICAgIFwicmVkYWN0ZWRcIjogdHJ1ZSxcbiAgICAgIFwiaXNTY29yaW5nSW5kZXhcIjogdHJ1ZVxuICAgfSxcbiAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH1cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjYWxpYnJhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgICAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgICAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICBcImF2ZXJhZ2VTY29yZVwiOiAwLFxuICAgXCJoaWdoU2NvcmVcIjogMCxcbiAgIFwibG93U2NvcmVcIjogMCxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwiZXZhbHVhdGlvbnNcIjogW10sXG4gICBcImV2YWx1YXRvcnNcIjogW10sXG4gICBcInNjb3JpbmdJbmRleFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY29udmVyc2F0aW9uXCI6IHt9LFxuICAgICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdG9yXCI6IHt9LFxuICAgICAgXCJhZ2VudFwiOiB7fSxcbiAgICAgIFwiY2FsaWJyYXRpb25cIjoge30sXG4gICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJhbnN3ZXJzXCI6IHt9LFxuICAgICAgXCJhZ2VudEhhc1JlYWRcIjogdHJ1ZSxcbiAgICAgIFwicmVsZWFzZURhdGVcIjogXCJcIixcbiAgICAgIFwiYXNzaWduZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImNoYW5nZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInF1ZXVlXCI6IHt9LFxuICAgICAgXCJuZXZlclJlbGVhc2VcIjogdHJ1ZSxcbiAgICAgIFwicmVzb3VyY2VJZFwiOiBcIlwiLFxuICAgICAgXCJyZXNvdXJjZVR5cGVcIjogXCJcIixcbiAgICAgIFwicmVkYWN0ZWRcIjogdHJ1ZSxcbiAgICAgIFwiaXNTY29yaW5nSW5kZXhcIjogdHJ1ZSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJleHBlcnRFdmFsdWF0b3JcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUucG9zdENhbGlicmF0aW9ucyA9IGZ1bmN0aW9uIHBvc3RDYWxpYnJhdGlvbnMoYm9keSwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2NhbGlicmF0aW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBjYWxpYnJhdGlvbiBieSBpZC5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxpYnJhdGlvbklkIC0gQ2FsaWJyYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsaWJyYXRvcklkIC0gY2FsaWJyYXRvcklkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2FsaWJyYXRvclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYWdlbnRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICAgICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICBcImxvd1Njb3JlXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgXCJzY29yaW5nSW5kZXhcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImV2YWx1YXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNhbGlicmF0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwiYW5zd2Vyc1wiOiB7fSxcbiAgICAgIFwiYWdlbnRIYXNSZWFkXCI6IHRydWUsXG4gICAgICBcInJlbGVhc2VEYXRlXCI6IFwiXCIsXG4gICAgICBcImFzc2lnbmVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJjaGFuZ2VkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZVwiOiB7fSxcbiAgICAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgICAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICAgICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICAgICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmdldENhbGlicmF0aW9uc0NhbGlicmF0aW9uSWQgPSBmdW5jdGlvbiBnZXRDYWxpYnJhdGlvbnNDYWxpYnJhdGlvbklkKGNhbGlicmF0aW9uSWQsIGNhbGlicmF0b3JJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9jYWxpYnJhdGlvbnMve2NhbGlicmF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsaWJyYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGlicmF0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGlicmF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsaWJyYXRpb25JZH0nLCBjYWxpYnJhdGlvbklkKTtcbiAgICBpZihjYWxpYnJhdG9ySWQgPT09IHVuZGVmaW5lZCB8fCBjYWxpYnJhdG9ySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGlicmF0b3JJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJjYWxpYnJhdG9ySWRcIl0gPSBjYWxpYnJhdG9ySWQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgY2FsaWJyYXRpb24gdG8gdGhlIHNwZWNpZmllZCBjYWxpYnJhdGlvbiB2aWEgUFVULiAgRWRpdGFibGUgZmllbGRzIGluY2x1ZGU6IGV2YWx1YXRvcnMsIGV4cGVydEV2YWx1YXRvciwgYW5kIHNjb3JpbmdJbmRleFxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNhbGlicmF0aW9uSWQgLSBDYWxpYnJhdGlvbiBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gQ2FsaWJyYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2FsaWJyYXRvclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJhZ2VudFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3NcIjogXCJcIixcbiAgICAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICAgICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgICAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgICAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge31cbiAgIH0sXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICBcImxvd1Njb3JlXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgXCJzY29yaW5nSW5kZXhcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImV2YWx1YXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNhbGlicmF0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwiYW5zd2Vyc1wiOiB7fSxcbiAgICAgIFwiYWdlbnRIYXNSZWFkXCI6IHRydWUsXG4gICAgICBcInJlbGVhc2VEYXRlXCI6IFwiXCIsXG4gICAgICBcImFzc2lnbmVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJjaGFuZ2VkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZVwiOiB7fSxcbiAgICAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgICAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICAgICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICAgICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWVcbiAgIH0sXG4gICBcImV4cGVydEV2YWx1YXRvclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2FsaWJyYXRvclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYWdlbnRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICAgICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICBcImxvd1Njb3JlXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgXCJzY29yaW5nSW5kZXhcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImV2YWx1YXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNhbGlicmF0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwiYW5zd2Vyc1wiOiB7fSxcbiAgICAgIFwiYWdlbnRIYXNSZWFkXCI6IHRydWUsXG4gICAgICBcInJlbGVhc2VEYXRlXCI6IFwiXCIsXG4gICAgICBcImFzc2lnbmVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJjaGFuZ2VkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZVwiOiB7fSxcbiAgICAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgICAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICAgICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICAgICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLnB1dENhbGlicmF0aW9uc0NhbGlicmF0aW9uSWQgPSBmdW5jdGlvbiBwdXRDYWxpYnJhdGlvbnNDYWxpYnJhdGlvbklkKGNhbGlicmF0aW9uSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvY2FsaWJyYXRpb25zL3tjYWxpYnJhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNhbGlicmF0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjYWxpYnJhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjYWxpYnJhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NhbGlicmF0aW9uSWR9JywgY2FsaWJyYXRpb25JZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBjYWxpYnJhdGlvbiBieSBpZC5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxpYnJhdGlvbklkIC0gQ2FsaWJyYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2FsaWJyYXRvcklkIC0gY2FsaWJyYXRvcklkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2FsaWJyYXRvclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYWdlbnRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICAgICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICBcImxvd1Njb3JlXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgXCJzY29yaW5nSW5kZXhcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImV2YWx1YXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNhbGlicmF0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwiYW5zd2Vyc1wiOiB7fSxcbiAgICAgIFwiYWdlbnRIYXNSZWFkXCI6IHRydWUsXG4gICAgICBcInJlbGVhc2VEYXRlXCI6IFwiXCIsXG4gICAgICBcImFzc2lnbmVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJjaGFuZ2VkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZVwiOiB7fSxcbiAgICAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgICAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICAgICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICAgICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmRlbGV0ZUNhbGlicmF0aW9uc0NhbGlicmF0aW9uSWQgPSBmdW5jdGlvbiBkZWxldGVDYWxpYnJhdGlvbnNDYWxpYnJhdGlvbklkKGNhbGlicmF0aW9uSWQsIGNhbGlicmF0b3JJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9jYWxpYnJhdGlvbnMve2NhbGlicmF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2FsaWJyYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNhbGlicmF0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGlicmF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2FsaWJyYXRpb25JZH0nLCBjYWxpYnJhdGlvbklkKTtcbiAgICBpZihjYWxpYnJhdG9ySWQgPT09IHVuZGVmaW5lZCB8fCBjYWxpYnJhdG9ySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNhbGlicmF0b3JJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJjYWxpYnJhdG9ySWRcIl0gPSBjYWxpYnJhdG9ySWQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGF1ZGl0cyBmb3IgY29udmVyc2F0aW9uIG9yIHJlY29yZGluZ1xuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gQ29udmVyc2F0aW9uIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFRoZSB0b3RhbCBwYWdlIHNpemUgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gVGhlIHBhZ2UgbnVtYmVyIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCB0byBzb3J0IGJ5XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgYnkgZXhwYW5kIGxpc3RcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dFBhZ2UgLSBuZXh0IHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gcHJldmlvdXNQYWdlIC0gUHJldmlvdXMgcGFnZSB0b2tlblxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIGlkIG9mIHRoZSByZWNvcmRpbmdcbiAgKiBAcGFyYW0ge3N0cmluZ30gZW50aXR5VHlwZSAtIGVudGl0eSB0eXBlIG9wdGlvbnM6IFJlY29yZGluZywgQ2FsaWJyYXRpb24sIEV2YWx1YXRpb24sIEFubm90YXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmdldENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEF1ZGl0cyA9IGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEF1ZGl0cyhjb252ZXJzYXRpb25JZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIsIHNvcnRCeSwgZXhwYW5kLCBuZXh0UGFnZSwgcHJldmlvdXNQYWdlLCByZWNvcmRpbmdJZCwgZW50aXR5VHlwZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vYXVkaXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuZXh0UGFnZVwiXSA9IG5leHRQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInByZXZpb3VzUGFnZVwiXSA9IHByZXZpb3VzUGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJyZWNvcmRpbmdJZFwiXSA9IHJlY29yZGluZ0lkO1xuICAgIHJlcXVlc3RRdWVyeVtcImVudGl0eVR5cGVcIl0gPSBlbnRpdHlUeXBlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhbiBldmFsdWF0aW9uXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb25JZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gZXZhbHVhdGlvblxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBldmFsdWF0b3JJZFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3NcIjogXCJcIixcbiAgICAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICAgICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgICAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgICAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge31cbiAgIH0sXG4gICBcImV2YWx1YXRvclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJhZ2VudFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJjYWxpYnJhdGlvblwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsaWJyYXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgICAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICAgICBcImxvd1Njb3JlXCI6IDAsXG4gICAgICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgICAgXCJzY29yaW5nSW5kZXhcIjoge30sXG4gICAgICBcImV4cGVydEV2YWx1YXRvclwiOiB7fVxuICAgfSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImFuc3dlcnNcIjoge1xuICAgICAgXCJ0b3RhbFNjb3JlXCI6IHt9LFxuICAgICAgXCJ0b3RhbENyaXRpY2FsU2NvcmVcIjoge30sXG4gICAgICBcInF1ZXN0aW9uR3JvdXBTY29yZXNcIjogW10sXG4gICAgICBcImFueUZhaWxlZEtpbGxRdWVzdGlvbnNcIjogdHJ1ZSxcbiAgICAgIFwiY29tbWVudHNcIjogXCJcIixcbiAgICAgIFwiYWdlbnRDb21tZW50c1wiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudEhhc1JlYWRcIjogdHJ1ZSxcbiAgIFwicmVsZWFzZURhdGVcIjogXCJcIixcbiAgIFwiYXNzaWduZWREYXRlXCI6IFwiXCIsXG4gICBcImNoYW5nZWREYXRlXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDBcbiAgIH0sXG4gICBcIm5ldmVyUmVsZWFzZVwiOiB0cnVlLFxuICAgXCJyZXNvdXJjZUlkXCI6IFwiXCIsXG4gICBcInJlc291cmNlVHlwZVwiOiBcIlwiLFxuICAgXCJyZWRhY3RlZFwiOiB0cnVlLFxuICAgXCJpc1Njb3JpbmdJbmRleFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgICAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgICAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsaWJyYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNhbGlicmF0b3JcIjoge30sXG4gICAgICBcImFnZW50XCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25cIjoge30sXG4gICAgICBcImV2YWx1YXRpb25Gb3JtXCI6IHt9LFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwiYXZlcmFnZVNjb3JlXCI6IDAsXG4gICAgICBcImhpZ2hTY29yZVwiOiAwLFxuICAgICAgXCJsb3dTY29yZVwiOiAwLFxuICAgICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJldmFsdWF0aW9uc1wiOiBbXSxcbiAgICAgIFwiZXZhbHVhdG9yc1wiOiBbXSxcbiAgICAgIFwic2NvcmluZ0luZGV4XCI6IHt9LFxuICAgICAgXCJleHBlcnRFdmFsdWF0b3JcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImFuc3dlcnNcIjoge1xuICAgICAgXCJ0b3RhbFNjb3JlXCI6IHt9LFxuICAgICAgXCJ0b3RhbENyaXRpY2FsU2NvcmVcIjoge30sXG4gICAgICBcInF1ZXN0aW9uR3JvdXBTY29yZXNcIjogW10sXG4gICAgICBcImFueUZhaWxlZEtpbGxRdWVzdGlvbnNcIjogdHJ1ZSxcbiAgICAgIFwiY29tbWVudHNcIjogXCJcIixcbiAgICAgIFwiYWdlbnRDb21tZW50c1wiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudEhhc1JlYWRcIjogdHJ1ZSxcbiAgIFwicmVsZWFzZURhdGVcIjogXCJcIixcbiAgIFwiYXNzaWduZWREYXRlXCI6IFwiXCIsXG4gICBcImNoYW5nZWREYXRlXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUucG9zdENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEV2YWx1YXRpb25zID0gZnVuY3Rpb24gcG9zdENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEV2YWx1YXRpb25zKGNvbnZlcnNhdGlvbklkLCBib2R5LCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L2V2YWx1YXRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gZXZhbHVhdGlvblxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXZhbHVhdGlvbklkIC0gZXZhbHVhdGlvbklkXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIGFnZW50LCBldmFsdWF0b3IsIGV2YWx1YXRpb25Gb3JtXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgICAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgICAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdG9yXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsaWJyYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNhbGlicmF0b3JcIjoge30sXG4gICAgICBcImFnZW50XCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25cIjoge30sXG4gICAgICBcImV2YWx1YXRpb25Gb3JtXCI6IHt9LFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwiYXZlcmFnZVNjb3JlXCI6IDAsXG4gICAgICBcImhpZ2hTY29yZVwiOiAwLFxuICAgICAgXCJsb3dTY29yZVwiOiAwLFxuICAgICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJldmFsdWF0aW9uc1wiOiBbXSxcbiAgICAgIFwiZXZhbHVhdG9yc1wiOiBbXSxcbiAgICAgIFwic2NvcmluZ0luZGV4XCI6IHt9LFxuICAgICAgXCJleHBlcnRFdmFsdWF0b3JcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImFuc3dlcnNcIjoge1xuICAgICAgXCJ0b3RhbFNjb3JlXCI6IHt9LFxuICAgICAgXCJ0b3RhbENyaXRpY2FsU2NvcmVcIjoge30sXG4gICAgICBcInF1ZXN0aW9uR3JvdXBTY29yZXNcIjogW10sXG4gICAgICBcImFueUZhaWxlZEtpbGxRdWVzdGlvbnNcIjogdHJ1ZSxcbiAgICAgIFwiY29tbWVudHNcIjogXCJcIixcbiAgICAgIFwiYWdlbnRDb21tZW50c1wiOiBcIlwiXG4gICB9LFxuICAgXCJhZ2VudEhhc1JlYWRcIjogdHJ1ZSxcbiAgIFwicmVsZWFzZURhdGVcIjogXCJcIixcbiAgIFwiYXNzaWduZWREYXRlXCI6IFwiXCIsXG4gICBcImNoYW5nZWREYXRlXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRXZhbHVhdGlvbnNFdmFsdWF0aW9uSWQgPSBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25zQ29udmVyc2F0aW9uSWRFdmFsdWF0aW9uc0V2YWx1YXRpb25JZChjb252ZXJzYXRpb25JZCwgZXZhbHVhdGlvbklkLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L2V2YWx1YXRpb25zL3tldmFsdWF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKGV2YWx1YXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGV2YWx1YXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXZhbHVhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2V2YWx1YXRpb25JZH0nLCBldmFsdWF0aW9uSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gZXZhbHVhdGlvblxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gY29udmVyc2F0aW9uSWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXZhbHVhdGlvbklkIC0gZXZhbHVhdGlvbklkXG4gICogQHBhcmFtIHt9IGJvZHkgLSBldmFsdWF0aW9uXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIGV2YWx1YXRvcklkXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCJcbiAgIH0sXG4gICBcImV2YWx1YXRpb25Gb3JtXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJwdWJsaXNoZWRcIjogdHJ1ZSxcbiAgICAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICAgICBcInF1ZXN0aW9uR3JvdXBzXCI6IFtdLFxuICAgICAgXCJwdWJsaXNoZWRWZXJzaW9uc1wiOiB7fVxuICAgfSxcbiAgIFwiZXZhbHVhdG9yXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH0sXG4gICBcImFnZW50XCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDBcbiAgIH0sXG4gICBcImNhbGlicmF0aW9uXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjYWxpYnJhdG9yXCI6IHt9LFxuICAgICAgXCJhZ2VudFwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uXCI6IHt9LFxuICAgICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7fSxcbiAgICAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICAgICBcImF2ZXJhZ2VTY29yZVwiOiAwLFxuICAgICAgXCJoaWdoU2NvcmVcIjogMCxcbiAgICAgIFwibG93U2NvcmVcIjogMCxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwiZXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImV2YWx1YXRvcnNcIjogW10sXG4gICAgICBcInNjb3JpbmdJbmRleFwiOiB7fSxcbiAgICAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHt9XG4gICB9LFxuICAgXCJzdGF0dXNcIjogXCJcIixcbiAgIFwiYW5zd2Vyc1wiOiB7XG4gICAgICBcInRvdGFsU2NvcmVcIjoge30sXG4gICAgICBcInRvdGFsQ3JpdGljYWxTY29yZVwiOiB7fSxcbiAgICAgIFwicXVlc3Rpb25Hcm91cFNjb3Jlc1wiOiBbXSxcbiAgICAgIFwiYW55RmFpbGVkS2lsbFF1ZXN0aW9uc1wiOiB0cnVlLFxuICAgICAgXCJjb21tZW50c1wiOiBcIlwiLFxuICAgICAgXCJhZ2VudENvbW1lbnRzXCI6IFwiXCJcbiAgIH0sXG4gICBcImFnZW50SGFzUmVhZFwiOiB0cnVlLFxuICAgXCJyZWxlYXNlRGF0ZVwiOiBcIlwiLFxuICAgXCJhc3NpZ25lZERhdGVcIjogXCJcIixcbiAgIFwiY2hhbmdlZERhdGVcIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICAgICBcImJ1bGxzZXllXCI6IHt9LFxuICAgICAgXCJhY3dTZXR0aW5nc1wiOiB7fSxcbiAgICAgIFwic2tpbGxFdmFsdWF0aW9uTWV0aG9kXCI6IFwiXCIsXG4gICAgICBcInF1ZXVlRmxvd1wiOiB7fSxcbiAgICAgIFwiY2FsbGluZ1BhcnR5TmFtZVwiOiBcIlwiLFxuICAgICAgXCJjYWxsaW5nUGFydHlOdW1iZXJcIjogXCJcIixcbiAgICAgIFwibWVtYmVyQ291bnRcIjogMFxuICAgfSxcbiAgIFwibmV2ZXJSZWxlYXNlXCI6IHRydWUsXG4gICBcInJlc291cmNlSWRcIjogXCJcIixcbiAgIFwicmVzb3VyY2VUeXBlXCI6IFwiXCIsXG4gICBcInJlZGFjdGVkXCI6IHRydWUsXG4gICBcImlzU2NvcmluZ0luZGV4XCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3NcIjogXCJcIixcbiAgICAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICAgICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImV2YWx1YXRpb25Gb3JtXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJwdWJsaXNoZWRcIjogdHJ1ZSxcbiAgICAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICAgICBcInF1ZXN0aW9uR3JvdXBzXCI6IFtdLFxuICAgICAgXCJwdWJsaXNoZWRWZXJzaW9uc1wiOiB7fSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJldmFsdWF0b3JcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImFnZW50XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjYWxpYnJhdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsaWJyYXRvclwiOiB7fSxcbiAgICAgIFwiYWdlbnRcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblwiOiB7fSxcbiAgICAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge30sXG4gICAgICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgICAgXCJhdmVyYWdlU2NvcmVcIjogMCxcbiAgICAgIFwiaGlnaFNjb3JlXCI6IDAsXG4gICAgICBcImxvd1Njb3JlXCI6IDAsXG4gICAgICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJldmFsdWF0b3JzXCI6IFtdLFxuICAgICAgXCJzY29yaW5nSW5kZXhcIjoge30sXG4gICAgICBcImV4cGVydEV2YWx1YXRvclwiOiB7fSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzdGF0dXNcIjogXCJcIixcbiAgIFwiYW5zd2Vyc1wiOiB7XG4gICAgICBcInRvdGFsU2NvcmVcIjoge30sXG4gICAgICBcInRvdGFsQ3JpdGljYWxTY29yZVwiOiB7fSxcbiAgICAgIFwicXVlc3Rpb25Hcm91cFNjb3Jlc1wiOiBbXSxcbiAgICAgIFwiYW55RmFpbGVkS2lsbFF1ZXN0aW9uc1wiOiB0cnVlLFxuICAgICAgXCJjb21tZW50c1wiOiBcIlwiLFxuICAgICAgXCJhZ2VudENvbW1lbnRzXCI6IFwiXCJcbiAgIH0sXG4gICBcImFnZW50SGFzUmVhZFwiOiB0cnVlLFxuICAgXCJyZWxlYXNlRGF0ZVwiOiBcIlwiLFxuICAgXCJhc3NpZ25lZERhdGVcIjogXCJcIixcbiAgIFwiY2hhbmdlZERhdGVcIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICAgICBcImJ1bGxzZXllXCI6IHt9LFxuICAgICAgXCJhY3dTZXR0aW5nc1wiOiB7fSxcbiAgICAgIFwic2tpbGxFdmFsdWF0aW9uTWV0aG9kXCI6IFwiXCIsXG4gICAgICBcInF1ZXVlRmxvd1wiOiB7fSxcbiAgICAgIFwiY2FsbGluZ1BhcnR5TmFtZVwiOiBcIlwiLFxuICAgICAgXCJjYWxsaW5nUGFydHlOdW1iZXJcIjogXCJcIixcbiAgICAgIFwibWVtYmVyQ291bnRcIjogMCxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJuZXZlclJlbGVhc2VcIjogdHJ1ZSxcbiAgIFwicmVzb3VyY2VJZFwiOiBcIlwiLFxuICAgXCJyZXNvdXJjZVR5cGVcIjogXCJcIixcbiAgIFwicmVkYWN0ZWRcIjogdHJ1ZSxcbiAgIFwiaXNTY29yaW5nSW5kZXhcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5wdXRDb252ZXJzYXRpb25zQ29udmVyc2F0aW9uSWRFdmFsdWF0aW9uc0V2YWx1YXRpb25JZCA9IGZ1bmN0aW9uIHB1dENvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEV2YWx1YXRpb25zRXZhbHVhdGlvbklkKGNvbnZlcnNhdGlvbklkLCBldmFsdWF0aW9uSWQsIGJvZHksIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vZXZhbHVhdGlvbnMve2V2YWx1YXRpb25JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYoZXZhbHVhdGlvbklkID09PSB1bmRlZmluZWQgfHwgZXZhbHVhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBldmFsdWF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZXZhbHVhdGlvbklkfScsIGV2YWx1YXRpb25JZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGV2YWx1YXRpb25cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIGNvbnZlcnNhdGlvbklkXG4gICogQHBhcmFtIHtzdHJpbmd9IGV2YWx1YXRpb25JZCAtIGV2YWx1YXRpb25JZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBldmFsdWF0b3JJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNvbnZlcnNhdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImVuZFRpbWVcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxuICAgICAgXCJwYXJ0aWNpcGFudHNcIjogW10sXG4gICAgICBcImNvbnZlcnNhdGlvbklkc1wiOiBbXSxcbiAgICAgIFwibWF4UGFydGljaXBhbnRzXCI6IDAsXG4gICAgICBcInJlY29yZGluZ1N0YXRlXCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICAgICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImV2YWx1YXRvclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiYWdlbnRcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGlicmF0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjYWxpYnJhdG9yXCI6IHt9LFxuICAgICAgXCJhZ2VudFwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uXCI6IHt9LFxuICAgICAgXCJldmFsdWF0aW9uRm9ybVwiOiB7fSxcbiAgICAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICAgICBcImF2ZXJhZ2VTY29yZVwiOiAwLFxuICAgICAgXCJoaWdoU2NvcmVcIjogMCxcbiAgICAgIFwibG93U2NvcmVcIjogMCxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwiZXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImV2YWx1YXRvcnNcIjogW10sXG4gICAgICBcInNjb3JpbmdJbmRleFwiOiB7fSxcbiAgICAgIFwiZXhwZXJ0RXZhbHVhdG9yXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJhbnN3ZXJzXCI6IHtcbiAgICAgIFwidG90YWxTY29yZVwiOiB7fSxcbiAgICAgIFwidG90YWxDcml0aWNhbFNjb3JlXCI6IHt9LFxuICAgICAgXCJxdWVzdGlvbkdyb3VwU2NvcmVzXCI6IFtdLFxuICAgICAgXCJhbnlGYWlsZWRLaWxsUXVlc3Rpb25zXCI6IHRydWUsXG4gICAgICBcImNvbW1lbnRzXCI6IFwiXCIsXG4gICAgICBcImFnZW50Q29tbWVudHNcIjogXCJcIlxuICAgfSxcbiAgIFwiYWdlbnRIYXNSZWFkXCI6IHRydWUsXG4gICBcInJlbGVhc2VEYXRlXCI6IFwiXCIsXG4gICBcImFzc2lnbmVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjaGFuZ2VkRGF0ZVwiOiBcIlwiLFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwibWVkaWFTZXR0aW5nc1wiOiB7fSxcbiAgICAgIFwiYnVsbHNleWVcIjoge30sXG4gICAgICBcImFjd1NldHRpbmdzXCI6IHt9LFxuICAgICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgICAgIFwicXVldWVGbG93XCI6IHt9LFxuICAgICAgXCJjYWxsaW5nUGFydHlOYW1lXCI6IFwiXCIsXG4gICAgICBcImNhbGxpbmdQYXJ0eU51bWJlclwiOiBcIlwiLFxuICAgICAgXCJtZW1iZXJDb3VudFwiOiAwLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm5ldmVyUmVsZWFzZVwiOiB0cnVlLFxuICAgXCJyZXNvdXJjZUlkXCI6IFwiXCIsXG4gICBcInJlc291cmNlVHlwZVwiOiBcIlwiLFxuICAgXCJyZWRhY3RlZFwiOiB0cnVlLFxuICAgXCJpc1Njb3JpbmdJbmRleFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmRlbGV0ZUNvbnZlcnNhdGlvbnNDb252ZXJzYXRpb25JZEV2YWx1YXRpb25zRXZhbHVhdGlvbklkID0gZnVuY3Rpb24gZGVsZXRlQ29udmVyc2F0aW9uc0NvbnZlcnNhdGlvbklkRXZhbHVhdGlvbnNFdmFsdWF0aW9uSWQoY29udmVyc2F0aW9uSWQsIGV2YWx1YXRpb25JZCwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9ldmFsdWF0aW9ucy97ZXZhbHVhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICBpZihldmFsdWF0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBldmFsdWF0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGV2YWx1YXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tldmFsdWF0aW9uSWR9JywgZXZhbHVhdGlvbklkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcmllcyBFdmFsdWF0aW9ucyBhbmQgcmV0dXJucyBhIHBhZ2VkIGxpc3RcbiAgKiBAZGVzY3JpcHRpb24gUXVlcnkgcGFyYW1zIG11c3QgaW5jbHVkZSBvbmUgb2YgY29udmVyc2F0aW9uSWQsIGV2YWx1YXRvclVzZXJJZCwgb3IgYWdlbnRVc2VySWRcbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBUaGUgdG90YWwgcGFnZSBzaXplIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFRoZSBwYWdlIG51bWJlciByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgdG8gc29ydCBieVxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIGJ5IGV4cGFuZCBsaXN0XG4gICogQHBhcmFtIHtzdHJpbmd9IG5leHRQYWdlIC0gbmV4dCBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXZpb3VzUGFnZSAtIFByZXZpb3VzIHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBjb252ZXJzYXRpb25JZCBzcGVjaWZpZWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gYWdlbnRVc2VySWQgLSB1c2VyIGlkIG9mIHRoZSBhZ2VudFxuICAqIEBwYXJhbSB7c3RyaW5nfSBldmFsdWF0b3JVc2VySWQgLSBldmFsdWF0b3IgdXNlciBpZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gcXVldWUgaWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc3RhcnRUaW1lIC0gc3RhcnQgdGltZSBvZiB0aGUgZXZhbHVhdGlvbiBxdWVyeVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRUaW1lIC0gZW5kIHRpbWUgb2YgdGhlIGV2YWx1YXRpb24gcXVlcnlcbiAgKiBAcGFyYW0ge2FycmF5fSBldmFsdWF0aW9uU3RhdGUgLSBldmFsdWF0aW9uIHN0YXRlIG9wdGlvbnM6IFBlbmRpbmcsIEluUHJvZ3Jlc3MsIEZpbmlzaGVkXG4gICogQHBhcmFtIHtib29sZWFufSBpc1JlbGVhc2VkIC0gdGhlIGV2YWx1YXRpb24gaGFzIGJlZW4gcmVsZWFzZWRcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGFnZW50SGFzUmVhZCAtIGFnZW50IGhhcyB0aGUgZXZhbHVhdGlvblxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gZXhwYW5kQW5zd2VyVG90YWxTY29yZXMgLSBnZXQgdGhlIHRvdGFsIHNjb3JlcyBmb3IgZXZhbHVhdGlvbnNcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IG1heGltdW0gLSBtYXhpbXVtXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5nZXRFdmFsdWF0aW9uc1F1ZXJ5ID0gZnVuY3Rpb24gZ2V0RXZhbHVhdGlvbnNRdWVyeShwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIGNvbnZlcnNhdGlvbklkLCBhZ2VudFVzZXJJZCwgZXZhbHVhdG9yVXNlcklkLCBxdWV1ZUlkLCBzdGFydFRpbWUsIGVuZFRpbWUsIGV2YWx1YXRpb25TdGF0ZSwgaXNSZWxlYXNlZCwgYWdlbnRIYXNSZWFkLCBleHBhbmRBbnN3ZXJUb3RhbFNjb3JlcywgbWF4aW11bSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9ldmFsdWF0aW9ucy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuZXh0UGFnZVwiXSA9IG5leHRQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInByZXZpb3VzUGFnZVwiXSA9IHByZXZpb3VzUGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJjb252ZXJzYXRpb25JZFwiXSA9IGNvbnZlcnNhdGlvbklkO1xuICAgIHJlcXVlc3RRdWVyeVtcImFnZW50VXNlcklkXCJdID0gYWdlbnRVc2VySWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXZhbHVhdG9yVXNlcklkXCJdID0gZXZhbHVhdG9yVXNlcklkO1xuICAgIHJlcXVlc3RRdWVyeVtcInF1ZXVlSWRcIl0gPSBxdWV1ZUlkO1xuICAgIHJlcXVlc3RRdWVyeVtcInN0YXJ0VGltZVwiXSA9IHN0YXJ0VGltZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJlbmRUaW1lXCJdID0gZW5kVGltZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJldmFsdWF0aW9uU3RhdGVcIl0gPSBldmFsdWF0aW9uU3RhdGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaXNSZWxlYXNlZFwiXSA9IGlzUmVsZWFzZWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiYWdlbnRIYXNSZWFkXCJdID0gYWdlbnRIYXNSZWFkO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZEFuc3dlclRvdGFsU2NvcmVzXCJdID0gZXhwYW5kQW5zd2VyVG90YWxTY29yZXM7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibWF4aW11bVwiXSA9IG1heGltdW07XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2NvcmUgZXZhbHVhdGlvblxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBldmFsdWF0aW9uQW5kU2NvcmluZ1NldFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiZXZhbHVhdGlvbkZvcm1cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgICAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICAgICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHt9XG4gICB9LFxuICAgXCJhbnN3ZXJzXCI6IHtcbiAgICAgIFwidG90YWxTY29yZVwiOiB7fSxcbiAgICAgIFwidG90YWxDcml0aWNhbFNjb3JlXCI6IHt9LFxuICAgICAgXCJxdWVzdGlvbkdyb3VwU2NvcmVzXCI6IFtdLFxuICAgICAgXCJhbnlGYWlsZWRLaWxsUXVlc3Rpb25zXCI6IHRydWUsXG4gICAgICBcImNvbW1lbnRzXCI6IFwiXCIsXG4gICAgICBcImFnZW50Q29tbWVudHNcIjogXCJcIlxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFNjb3JlXCI6IHt9LFxuICAgXCJ0b3RhbENyaXRpY2FsU2NvcmVcIjoge30sXG4gICBcInF1ZXN0aW9uR3JvdXBTY29yZXNcIjogW10sXG4gICBcImFueUZhaWxlZEtpbGxRdWVzdGlvbnNcIjogdHJ1ZSxcbiAgIFwiY29tbWVudHNcIjogXCJcIixcbiAgIFwiYWdlbnRDb21tZW50c1wiOiBcIlwiXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5wb3N0RXZhbHVhdGlvbnNTY29yaW5nID0gZnVuY3Rpb24gcG9zdEV2YWx1YXRpb25zU2NvcmluZyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2V2YWx1YXRpb25zL3Njb3JpbmcnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gZXZhbHVhdG9yIGFjdGl2aXR5XG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gVGhlIHRvdGFsIHBhZ2Ugc2l6ZSByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBUaGUgcGFnZSBudW1iZXIgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIHRvIHNvcnQgYnlcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCBieSBleHBhbmQgbGlzdFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0UGFnZSAtIG5leHQgcGFnZSB0b2tlblxuICAqIEBwYXJhbSB7c3RyaW5nfSBwcmV2aW91c1BhZ2UgLSBQcmV2aW91cyBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHN0YXJ0VGltZSAtIFRoZSBzdGFydCB0aW1lIHNwZWNpZmllZC4gRGF0ZSB0aW1lIGlzIHJlcHJlc2VudGVkIGFzIGFuIElTTy04NjAxIHN0cmluZy4gRm9yIGV4YW1wbGU6IHl5eXktTU0tZGRUSEg6bW06c3MuU1NTWlxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRUaW1lIC0gVGhlIGVuZCB0aW1lIHNwZWNpZmllZC4gRGF0ZSB0aW1lIGlzIHJlcHJlc2VudGVkIGFzIGFuIElTTy04NjAxIHN0cmluZy4gRm9yIGV4YW1wbGU6IHl5eXktTU0tZGRUSEg6bW06c3MuU1NTWlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gRXZhbHVhdG9yIG5hbWVcbiAgKiBAcGFyYW0ge2FycmF5fSBwZXJtaXNzaW9uIC0gcGVybWlzc2lvbiBzdHJpbmdzXG4gICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwIC0gZ3JvdXAgaWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmdldEV2YWx1YXRvcnNBY3Rpdml0eSA9IGZ1bmN0aW9uIGdldEV2YWx1YXRvcnNBY3Rpdml0eShwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIHN0YXJ0VGltZSwgZW5kVGltZSwgbmFtZSwgcGVybWlzc2lvbiwgZ3JvdXApe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvZXZhbHVhdG9ycy9hY3Rpdml0eSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuZXh0UGFnZVwiXSA9IG5leHRQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInByZXZpb3VzUGFnZVwiXSA9IHByZXZpb3VzUGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzdGFydFRpbWVcIl0gPSBzdGFydFRpbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZW5kVGltZVwiXSA9IGVuZFRpbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGVybWlzc2lvblwiXSA9IHBlcm1pc3Npb247XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZ3JvdXBcIl0gPSBncm91cDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGxpc3Qgb2YgZXZhbHVhdGlvbiBmb3Jtc1xuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFRoZSB0b3RhbCBwYWdlIHNpemUgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gVGhlIHBhZ2UgbnVtYmVyIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCB0byBzb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IG5leHRQYWdlIC0gbmV4dCBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXZpb3VzUGFnZSAtIFByZXZpb3VzIHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gZXhwYW5kIC0gRXhwYW5kXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5nZXRGb3JtcyA9IGZ1bmN0aW9uIGdldEZvcm1zKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0QnksIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIGV4cGFuZCwgbmFtZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9mb3Jtcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcIm5leHRQYWdlXCJdID0gbmV4dFBhZ2U7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJldmlvdXNQYWdlXCJdID0gcHJldmlvdXNQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYW4gZXZhbHVhdGlvbiBmb3JtLlxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFdmFsdWF0aW9uIGZvcm1cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICAgICBcInRvdGFsXCI6IDAsXG4gICAgICBcImVudGl0aWVzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICAgICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICAgICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICAgICBcIm5leHRVcmlcIjogXCJcIixcbiAgICAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwYWdlQ291bnRcIjogMFxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHtcbiAgICAgIFwicGFnZVNpemVcIjogMCxcbiAgICAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgICAgXCJ0b3RhbFwiOiAwLFxuICAgICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICAgICBcImxhc3RVcmlcIjogXCJcIixcbiAgICAgIFwicGFnZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUucG9zdEZvcm1zID0gZnVuY3Rpb24gcG9zdEZvcm1zKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvZm9ybXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYW4gZXZhbHVhdGlvbiBmb3JtXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybUlkIC0gRm9ybSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHtcbiAgICAgIFwicGFnZVNpemVcIjogMCxcbiAgICAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgICAgXCJ0b3RhbFwiOiAwLFxuICAgICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICAgICBcImxhc3RVcmlcIjogXCJcIixcbiAgICAgIFwicGFnZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0Rm9ybXNGb3JtSWQgPSBmdW5jdGlvbiBnZXRGb3Jtc0Zvcm1JZChmb3JtSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvZm9ybXMve2Zvcm1JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihmb3JtSWQgPT09IHVuZGVmaW5lZCB8fCBmb3JtSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGZvcm1JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tmb3JtSWR9JywgZm9ybUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gZXZhbHVhdGlvbiBmb3JtLlxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGZvcm1JZCAtIEZvcm0gSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIEV2YWx1YXRpb24gZm9ybVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJwdWJsaXNoZWRcIjogdHJ1ZSxcbiAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICBcInF1ZXN0aW9uR3JvdXBzXCI6IFtdLFxuICAgXCJwdWJsaXNoZWRWZXJzaW9uc1wiOiB7XG4gICAgICBcInBhZ2VTaXplXCI6IDAsXG4gICAgICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgICAgIFwidG90YWxcIjogMCxcbiAgICAgIFwiZW50aXRpZXNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIixcbiAgICAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgICAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgICAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICAgICBcInBhZ2VDb3VudFwiOiAwXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICAgICBcInRvdGFsXCI6IDAsXG4gICAgICBcImVudGl0aWVzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICAgICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICAgICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICAgICBcIm5leHRVcmlcIjogXCJcIixcbiAgICAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwYWdlQ291bnRcIjogMFxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5wdXRGb3Jtc0Zvcm1JZCA9IGZ1bmN0aW9uIHB1dEZvcm1zRm9ybUlkKGZvcm1JZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9mb3Jtcy97Zm9ybUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGZvcm1JZCA9PT0gdW5kZWZpbmVkIHx8IGZvcm1JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZm9ybUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2Zvcm1JZH0nLCBmb3JtSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGV2YWx1YXRpb24gZm9ybS5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtSWQgLSBGb3JtIElEXG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5kZWxldGVGb3Jtc0Zvcm1JZCA9IGZ1bmN0aW9uIGRlbGV0ZUZvcm1zRm9ybUlkKGZvcm1JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9mb3Jtcy97Zm9ybUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGZvcm1JZCA9PT0gdW5kZWZpbmVkIHx8IGZvcm1JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZm9ybUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2Zvcm1JZH0nLCBmb3JtSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgYWxsIHRoZSByZXZpc2lvbnMgZm9yIGEgc3BlY2lmaWMgZXZhbHVhdGlvbi5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtSWQgLSBGb3JtIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5nZXRGb3Jtc0Zvcm1JZFZlcnNpb25zID0gZnVuY3Rpb24gZ2V0Rm9ybXNGb3JtSWRWZXJzaW9ucyhmb3JtSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2Zvcm1zL3tmb3JtSWR9L3ZlcnNpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZm9ybUlkID09PSB1bmRlZmluZWQgfHwgZm9ybUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBmb3JtSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Zm9ybUlkfScsIGZvcm1JZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGxpc3Qgb2Yga2V5d29yZCBzZXRzXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gVGhlIHRvdGFsIHBhZ2Ugc2l6ZSByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBUaGUgcGFnZSBudW1iZXIgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIHRvIHNvcnQgYnlcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCBieSBleHBhbmQgbGlzdFxuICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0UGFnZSAtIG5leHQgcGFnZSB0b2tlblxuICAqIEBwYXJhbSB7c3RyaW5nfSBwcmV2aW91c1BhZ2UgLSBQcmV2aW91cyBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSB0aGUga2V5d29yZCBzZXQgbmFtZSAtIHVzZWQgZm9yIGZpbHRlcmluZyByZXN1bHRzIGluIHNlYXJjaGVzLlxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0S2V5d29yZHNldHMgPSBmdW5jdGlvbiBnZXRLZXl3b3Jkc2V0cyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2UsIG5hbWUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkva2V5d29yZHNldHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmV4dFBhZ2VcIl0gPSBuZXh0UGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwcmV2aW91c1BhZ2VcIl0gPSBwcmV2aW91c1BhZ2U7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgS2V5d29yZCBTZXRcbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0ga2V5d29yZFNldFxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBxdWV1ZUlkXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDBcbiAgIH0sXG4gICBcInF1ZXVlc1wiOiBbXSxcbiAgIFwibGFuZ3VhZ2VcIjogXCJcIixcbiAgIFwiYWdlbnRzXCI6IFtdLFxuICAgXCJrZXl3b3Jkc1wiOiBbXSxcbiAgIFwicGFydGljaXBhbnRQdXJwb3Nlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicXVldWVzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiBcIlwiLFxuICAgXCJhZ2VudHNcIjogW10sXG4gICBcImtleXdvcmRzXCI6IFtdLFxuICAgXCJwYXJ0aWNpcGFudFB1cnBvc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLnBvc3RLZXl3b3Jkc2V0cyA9IGZ1bmN0aW9uIHBvc3RLZXl3b3Jkc2V0cyhib2R5LCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkva2V5d29yZHNldHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGtleXdvcmQgc2V0c1xuICAqIEBkZXNjcmlwdGlvbiBCdWxrIGRlbGV0ZSBvZiBrZXl3b3JkIHNldHM7IHRoaXMgd2lsbCBvbmx5IGRlbGV0ZSB0aGUga2V5d29yZCBzZXRzIHRoYXQgbWF0Y2ggdGhlIGlkcyBzcGVjaWZpZWQgaW4gdGhlIHF1ZXJ5IHBhcmFtLlxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGlkcyAtIEEgY29tbWEtZGVsaW1pdGVkIGxpc3Qgb2YgdmFsaWQgS2V5d29yZFNldCBpZHNcbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmRlbGV0ZUtleXdvcmRzZXRzID0gZnVuY3Rpb24gZGVsZXRlS2V5d29yZHNldHMoaWRzKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2tleXdvcmRzZXRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoaWRzID09PSB1bmRlZmluZWQgfHwgaWRzID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBpZHMnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiaWRzXCJdID0gaWRzO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGtleXdvcmRTZXQgYnkgaWQuXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30ga2V5d29yZFNldElkIC0gS2V5d29yZFNldCBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicXVldWVzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiBcIlwiLFxuICAgXCJhZ2VudHNcIjogW10sXG4gICBcImtleXdvcmRzXCI6IFtdLFxuICAgXCJwYXJ0aWNpcGFudFB1cnBvc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmdldEtleXdvcmRzZXRzS2V5d29yZHNldElkID0gZnVuY3Rpb24gZ2V0S2V5d29yZHNldHNLZXl3b3Jkc2V0SWQoa2V5d29yZFNldElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2tleXdvcmRzZXRzL3trZXl3b3JkU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoa2V5d29yZFNldElkID09PSB1bmRlZmluZWQgfHwga2V5d29yZFNldElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBrZXl3b3JkU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7a2V5d29yZFNldElkfScsIGtleXdvcmRTZXRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEga2V5d29yZFNldCB0byB0aGUgc3BlY2lmaWVkIGtleXdvcmRTZXQgdmlhIFBVVC5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBrZXl3b3JkU2V0SWQgLSBLZXl3b3JkU2V0IElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBrZXl3b3JkU2V0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDBcbiAgIH0sXG4gICBcInF1ZXVlc1wiOiBbXSxcbiAgIFwibGFuZ3VhZ2VcIjogXCJcIixcbiAgIFwiYWdlbnRzXCI6IFtdLFxuICAgXCJrZXl3b3Jkc1wiOiBbXSxcbiAgIFwicGFydGljaXBhbnRQdXJwb3Nlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicXVldWVzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiBcIlwiLFxuICAgXCJhZ2VudHNcIjogW10sXG4gICBcImtleXdvcmRzXCI6IFtdLFxuICAgXCJwYXJ0aWNpcGFudFB1cnBvc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLnB1dEtleXdvcmRzZXRzS2V5d29yZHNldElkID0gZnVuY3Rpb24gcHV0S2V5d29yZHNldHNLZXl3b3Jkc2V0SWQoa2V5d29yZFNldElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2tleXdvcmRzZXRzL3trZXl3b3JkU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoa2V5d29yZFNldElkID09PSB1bmRlZmluZWQgfHwga2V5d29yZFNldElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBrZXl3b3JkU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7a2V5d29yZFNldElkfScsIGtleXdvcmRTZXRJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBrZXl3b3JkU2V0IGJ5IGlkLlxuICAqIEBtZW1iZXJPZiBRdWFsaXR5QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGtleXdvcmRTZXRJZCAtIEtleXdvcmRTZXQgSURcbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLmRlbGV0ZUtleXdvcmRzZXRzS2V5d29yZHNldElkID0gZnVuY3Rpb24gZGVsZXRlS2V5d29yZHNldHNLZXl3b3Jkc2V0SWQoa2V5d29yZFNldElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L2tleXdvcmRzZXRzL3trZXl3b3JkU2V0SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoa2V5d29yZFNldElkID09PSB1bmRlZmluZWQgfHwga2V5d29yZFNldElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBrZXl3b3JkU2V0SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7a2V5d29yZFNldElkfScsIGtleXdvcmRTZXRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBwdWJsaXNoZWQgZXZhbHVhdGlvbiBmb3Jtcy5cbiAgKiBAbWVtYmVyT2YgUXVhbGl0eUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0UHVibGlzaGVkZm9ybXMgPSBmdW5jdGlvbiBnZXRQdWJsaXNoZWRmb3JtcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgbmFtZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9wdWJsaXNoZWRmb3Jtcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUHVibGlzaCBhbiBldmFsdWF0aW9uIGZvcm0uXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEV2YWx1YXRpb24gZm9ybVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJwdWJsaXNoZWRcIjogdHJ1ZSxcbiAgIFwiY29udGV4dElkXCI6IFwiXCIsXG4gICBcInF1ZXN0aW9uR3JvdXBzXCI6IFtdLFxuICAgXCJwdWJsaXNoZWRWZXJzaW9uc1wiOiB7XG4gICAgICBcInBhZ2VTaXplXCI6IDAsXG4gICAgICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgICAgIFwidG90YWxcIjogMCxcbiAgICAgIFwiZW50aXRpZXNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIixcbiAgICAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgICAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgICAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICAgICBcInBhZ2VDb3VudFwiOiAwXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwicHVibGlzaGVkXCI6IHRydWUsXG4gICBcImNvbnRleHRJZFwiOiBcIlwiLFxuICAgXCJxdWVzdGlvbkdyb3Vwc1wiOiBbXSxcbiAgIFwicHVibGlzaGVkVmVyc2lvbnNcIjoge1xuICAgICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICAgICBcInRvdGFsXCI6IDAsXG4gICAgICBcImVudGl0aWVzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICAgICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICAgICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICAgICBcIm5leHRVcmlcIjogXCJcIixcbiAgICAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwYWdlQ291bnRcIjogMFxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5RdWFsaXR5QXBpLnByb3RvdHlwZS5wb3N0UHVibGlzaGVkZm9ybXMgPSBmdW5jdGlvbiBwb3N0UHVibGlzaGVkZm9ybXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcXVhbGl0eS9wdWJsaXNoZWRmb3Jtcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgcHVibGlzaGVkIGV2YWx1YXRpb24gZm9ybXMuXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybUlkIC0gRm9ybSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInB1Ymxpc2hlZFwiOiB0cnVlLFxuICAgXCJjb250ZXh0SWRcIjogXCJcIixcbiAgIFwicXVlc3Rpb25Hcm91cHNcIjogW10sXG4gICBcInB1Ymxpc2hlZFZlcnNpb25zXCI6IHtcbiAgICAgIFwicGFnZVNpemVcIjogMCxcbiAgICAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgICAgXCJ0b3RhbFwiOiAwLFxuICAgICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICAgICBcImxhc3RVcmlcIjogXCJcIixcbiAgICAgIFwicGFnZUNvdW50XCI6IDBcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUXVhbGl0eUFwaS5wcm90b3R5cGUuZ2V0UHVibGlzaGVkZm9ybXNGb3JtSWQgPSBmdW5jdGlvbiBnZXRQdWJsaXNoZWRmb3Jtc0Zvcm1JZChmb3JtSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3F1YWxpdHkvcHVibGlzaGVkZm9ybXMve2Zvcm1JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihmb3JtSWQgPT09IHVuZGVmaW5lZCB8fCBmb3JtSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGZvcm1JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tmb3JtSWR9JywgZm9ybUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXRyaWV2ZSB0aGUgc3BvdGFiaWxpdHkgc3RhdGlzdGljXG4gICogQG1lbWJlck9mIFF1YWxpdHlBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEtleXdvcmQgU2V0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDBcbiAgIH0sXG4gICBcInF1ZXVlc1wiOiBbXSxcbiAgIFwibGFuZ3VhZ2VcIjogXCJcIixcbiAgIFwiYWdlbnRzXCI6IFtdLFxuICAgXCJrZXl3b3Jkc1wiOiBbXSxcbiAgIFwicGFydGljaXBhbnRQdXJwb3Nlc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInF1ZXVlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJtZWRpYVNldHRpbmdzXCI6IHt9LFxuICAgICAgXCJidWxsc2V5ZVwiOiB7fSxcbiAgICAgIFwiYWN3U2V0dGluZ3NcIjoge30sXG4gICAgICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgICAgXCJxdWV1ZUZsb3dcIjoge30sXG4gICAgICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgICAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICAgICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicXVldWVzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiBcIlwiLFxuICAgXCJhZ2VudHNcIjogW10sXG4gICBcImtleXdvcmRzXCI6IFtdLFxuICAgXCJwYXJ0aWNpcGFudFB1cnBvc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblF1YWxpdHlBcGkucHJvdG90eXBlLnBvc3RTcG90YWJpbGl0eSA9IGZ1bmN0aW9uIHBvc3RTcG90YWJpbGl0eShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9xdWFsaXR5L3Nwb3RhYmlsaXR5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFF1YWxpdHlBcGk7XG4iLCIvKipcbiogQGNsYXNzIFJlY29yZGluZ0FwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5SZWNvcmRpbmdBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gUmVjb3JkaW5nQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBSZWNvcmRpbmdBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjb3JkaW5nQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNvcmRpbmdBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhbGwgb2YgYSBDb252ZXJzYXRpb24ncyBSZWNvcmRpbmdzLlxuICAqIEBtZW1iZXJPZiBSZWNvcmRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBDb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IG1heFdhaXRNcyAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgdGhlIHJlY29yZGluZyB0byBiZSByZWFkeS5cbiAgQW55IGludGVnZXIgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAuLFxuICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXRJZCAtIFRoZSBkZXNpcmVkIG1lZGlhIGZvcm1hdFxuICBXQVYsXG4gIFdFQk0sXG4gIFdBVl9VTEFXLFxuICBPR0dfVk9SQklTLFxuICBPR0dfT1BVUyxcbiAgTk9ORSxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiY29udmVyc2F0aW9uSWRcIjogXCJcIixcbiAgXCJwYXRoXCI6IFwiXCIsXG4gIFwic3RhcnRUaW1lXCI6IFwiXCIsXG4gIFwiZW5kVGltZVwiOiBcIlwiLFxuICBcIm1lZGlhXCI6IFwiXCIsXG4gIFwiYW5ub3RhdGlvbnNcIjogW10sXG4gIFwidHJhbnNjcmlwdFwiOiBbXSxcbiAgXCJlbWFpbFRyYW5zY3JpcHRcIjogW10sXG4gIFwiZmlsZVN0YXRlXCI6IFwiXCIsXG4gIFwicmVzdG9yZUV4cGlyYXRpb25UaW1lXCI6IFwiXCIsXG4gIFwibWVkaWFVcmlzXCI6IHt9LFxuICBcImVzdGltYXRlZFRyYW5zY29kZVRpbWVNc1wiOiAwLFxuICBcImFjdHVhbFRyYW5zY29kZVRpbWVNc1wiOiAwLFxuICBcImFyY2hpdmVEYXRlXCI6IFwiXCIsXG4gIFwiYXJjaGl2ZU1lZGl1bVwiOiBcIlwiLFxuICBcImRlbGV0ZURhdGVcIjogXCJcIixcbiAgXCJtYXhBbGxvd2VkUmVzdG9yYXRpb25zRm9yT3JnXCI6IDAsXG4gIFwicmVtYWluaW5nUmVzdG9yYXRpb25zQWxsb3dlZEZvck9yZ1wiOiAwLFxuICBcInNlc3Npb25JZFwiOiBcIlwiLFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cblJlY29yZGluZ0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzID0gZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzKGNvbnZlcnNhdGlvbklkLCBtYXhXYWl0TXMsIGZvcm1hdElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vcmVjb3JkaW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJtYXhXYWl0TXNcIl0gPSBtYXhXYWl0TXM7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZm9ybWF0SWRcIl0gPSBmb3JtYXRJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXRzIGEgc3BlY2lmaWMgcmVjb3JkaW5nLlxuICAqIEBtZW1iZXJPZiBSZWNvcmRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBDb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVjb3JkaW5nSWQgLSBSZWNvcmRpbmcgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0SWQgLSBUaGUgZGVzaXJlZCBtZWRpYSBmb3JtYXQuXG4gIFdBVixcbiAgV0VCTSxcbiAgV0FWX1VMQVcsXG4gIE9HR19WT1JCSVMsXG4gIE9HR19PUFVTLFxuICBOT05FLFxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG93bmxvYWQgLSByZXF1ZXN0aW5nIGEgZG93bmxvYWQgZm9ybWF0IG9mIHRoZSByZWNvcmRpbmdcbiAgdHJ1ZSxcbiAgZmFsc2UsXG4gICogQHBhcmFtIHtzdHJpbmd9IGZpbGVOYW1lIC0gdGhlIG5hbWUgb2YgdGhlIGRvd25sb2FkZWQgZmlsZU5hbWVcbiAgKi9cblJlY29yZGluZ0FwaS5wcm90b3R5cGUuZ2V0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWQgPSBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZChjb252ZXJzYXRpb25JZCwgcmVjb3JkaW5nSWQsIGZvcm1hdElkLCBkb3dubG9hZCwgZmlsZU5hbWUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9yZWNvcmRpbmdzL3tyZWNvcmRpbmdJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYocmVjb3JkaW5nSWQgPT09IHVuZGVmaW5lZCB8fCByZWNvcmRpbmdJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcmVjb3JkaW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cmVjb3JkaW5nSWR9JywgcmVjb3JkaW5nSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImZvcm1hdElkXCJdID0gZm9ybWF0SWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZG93bmxvYWRcIl0gPSBkb3dubG9hZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJmaWxlTmFtZVwiXSA9IGZpbGVOYW1lO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZXMgdGhlIHJldGVudGlvbiByZWNvcmRzIG9uIGEgcmVjb3JkaW5nLlxuICAqIEBkZXNjcmlwdGlvbiBDdXJyZW50bHkgc3VwcG9ydHMgdXBkYXRpbmcgYW5kIHJlbW92aW5nIGJvdGggYXJjaGl2ZSBhbmQgZGVsZXRlIGRhdGVzIGZvciBlbGlnaWJsZSByZWNvcmRpbmdzLiBBIHJlcXVlc3QgdG8gY2hhbmdlIHRoZSBhcmNoaXZhbCBkYXRlIG9mIGFuIGFyY2hpdmVkIHJlY29yZGluZyB3aWxsIHJlc3VsdCBpbiBhIHJlc3RvcmF0aW9uIG9mIHRoZSByZWNvcmRpbmcgdW50aWwgdGhlIG5ldyBkYXRlIHNldC4gVXNlIG9mIHRoZSBxdWVyeSBwYXJhbWV0ZXIgJ3Jlc3RvcmVEYXlzJyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiByZWxlYXNlLiBJZiAncmVzdG9yZURheXMnIGlzIHByb3ZpZGVkLCBubyBhdHRlbXB0IGF0IHVwZGF0aW5nIG90aGVyIHJldGVudGlvbiBkYXRhIHdpbGwgYmUgbWFkZS4gVG8gbWlncmF0ZSB0byB0aGUgbmV3IHVzYWdlLCBpc3N1aW5nIGEgcmVxdWVzdCB3aXRoIHJlc3RvcmVEYXlzPTEwIHdvdWxkIGluc3RlYWQgc2V0IHRoZSBhcmNoaXZlRGF0ZSdzIHRpbWUgc3RhbXAgaW4gdGhlIFBVVCBib2R5IHRvIDEwIGRheXMgaW4gdGhlIGZ1dHVyZS5cbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gQ29udmVyc2F0aW9uIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHJlY29yZGluZ0lkIC0gUmVjb3JkaW5nIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSByZWNvcmRpbmdcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY29udmVyc2F0aW9uSWRcIjogXCJcIixcbiAgIFwicGF0aFwiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgXCJtZWRpYVwiOiBcIlwiLFxuICAgXCJhbm5vdGF0aW9uc1wiOiBbXSxcbiAgIFwidHJhbnNjcmlwdFwiOiBbXSxcbiAgIFwiZW1haWxUcmFuc2NyaXB0XCI6IFtdLFxuICAgXCJmaWxlU3RhdGVcIjogXCJcIixcbiAgIFwicmVzdG9yZUV4cGlyYXRpb25UaW1lXCI6IFwiXCIsXG4gICBcIm1lZGlhVXJpc1wiOiB7fSxcbiAgIFwiZXN0aW1hdGVkVHJhbnNjb2RlVGltZU1zXCI6IDAsXG4gICBcImFjdHVhbFRyYW5zY29kZVRpbWVNc1wiOiAwLFxuICAgXCJhcmNoaXZlRGF0ZVwiOiBcIlwiLFxuICAgXCJhcmNoaXZlTWVkaXVtXCI6IFwiXCIsXG4gICBcImRlbGV0ZURhdGVcIjogXCJcIixcbiAgIFwibWF4QWxsb3dlZFJlc3RvcmF0aW9uc0Zvck9yZ1wiOiAwLFxuICAgXCJyZW1haW5pbmdSZXN0b3JhdGlvbnNBbGxvd2VkRm9yT3JnXCI6IDAsXG4gICBcInNlc3Npb25JZFwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLnB1dENvbnZlcnNhdGlvbklkUmVjb3JkaW5nc1JlY29yZGluZ0lkID0gZnVuY3Rpb24gcHV0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWQoY29udmVyc2F0aW9uSWQsIHJlY29yZGluZ0lkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vcmVjb3JkaW5ncy97cmVjb3JkaW5nSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKHJlY29yZGluZ0lkID09PSB1bmRlZmluZWQgfHwgcmVjb3JkaW5nSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJlY29yZGluZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JlY29yZGluZ0lkfScsIHJlY29yZGluZ0lkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhbm5vdGF0aW9ucyBmb3IgcmVjb3JkaW5nXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIENvbnZlcnNhdGlvbiBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIFJlY29yZGluZyBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJpZFwiOiBcIlwiLFxuICBcIm5hbWVcIjogXCJcIixcbiAgXCJ0eXBlXCI6IFwiXCIsXG4gIFwibG9jYXRpb25cIjogMCxcbiAgXCJkdXJhdGlvbk1zXCI6IDAsXG4gIFwidXNlclwiOiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2hhdFwiOiB7fSxcbiAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidGl0bGVcIjogXCJcIixcbiAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICBcInByZXNlbmNlXCI6IHt9LFxuICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICBcInN0YXRpb25cIjoge30sXG4gICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxuICB9LFxuICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gIFwic2VsZlVyaVwiOiBcIlwiXG4gfVxuXVxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5nZXRDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZEFubm90YXRpb25zID0gZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWRBbm5vdGF0aW9ucyhjb252ZXJzYXRpb25JZCwgcmVjb3JkaW5nSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbnZlcnNhdGlvbnMve2NvbnZlcnNhdGlvbklkfS9yZWNvcmRpbmdzL3tyZWNvcmRpbmdJZH0vYW5ub3RhdGlvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IGNvbnZlcnNhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb252ZXJzYXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb252ZXJzYXRpb25JZH0nLCBjb252ZXJzYXRpb25JZCk7XG4gICAgaWYocmVjb3JkaW5nSWQgPT09IHVuZGVmaW5lZCB8fCByZWNvcmRpbmdJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcmVjb3JkaW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cmVjb3JkaW5nSWR9JywgcmVjb3JkaW5nSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhbm5vdGF0aW9uXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIENvbnZlcnNhdGlvbiBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIFJlY29yZGluZyBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gYW5ub3RhdGlvblxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcImxvY2F0aW9uXCI6IDAsXG4gICBcImR1cmF0aW9uTXNcIjogMCxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJsb2NhdGlvblwiOiAwLFxuICAgXCJkdXJhdGlvbk1zXCI6IDAsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5wb3N0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uIHBvc3RDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZEFubm90YXRpb25zKGNvbnZlcnNhdGlvbklkLCByZWNvcmRpbmdJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3JlY29yZGluZ3Mve3JlY29yZGluZ0lkfS9hbm5vdGF0aW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICBpZihyZWNvcmRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IHJlY29yZGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZWNvcmRpbmdJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyZWNvcmRpbmdJZH0nLCByZWNvcmRpbmdJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFubm90YXRpb25cbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvbnZlcnNhdGlvbklkIC0gQ29udmVyc2F0aW9uIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHJlY29yZGluZ0lkIC0gUmVjb3JkaW5nIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGFubm90YXRpb25JZCAtIEFubm90YXRpb24gSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcImxvY2F0aW9uXCI6IDAsXG4gICBcImR1cmF0aW9uTXNcIjogMCxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmdldENvbnZlcnNhdGlvbklkUmVjb3JkaW5nc1JlY29yZGluZ0lkQW5ub3RhdGlvbnNBbm5vdGF0aW9uSWQgPSBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZEFubm90YXRpb25zQW5ub3RhdGlvbklkKGNvbnZlcnNhdGlvbklkLCByZWNvcmRpbmdJZCwgYW5ub3RhdGlvbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb252ZXJzYXRpb25zL3tjb252ZXJzYXRpb25JZH0vcmVjb3JkaW5ncy97cmVjb3JkaW5nSWR9L2Fubm90YXRpb25zL3thbm5vdGF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29udmVyc2F0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBjb252ZXJzYXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29udmVyc2F0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29udmVyc2F0aW9uSWR9JywgY29udmVyc2F0aW9uSWQpO1xuICAgIGlmKHJlY29yZGluZ0lkID09PSB1bmRlZmluZWQgfHwgcmVjb3JkaW5nSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJlY29yZGluZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JlY29yZGluZ0lkfScsIHJlY29yZGluZ0lkKTtcbiAgICBpZihhbm5vdGF0aW9uSWQgPT09IHVuZGVmaW5lZCB8fCBhbm5vdGF0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGFubm90YXRpb25JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3thbm5vdGF0aW9uSWR9JywgYW5ub3RhdGlvbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW5ub3RhdGlvblxuICAqIEBtZW1iZXJPZiBSZWNvcmRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBDb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVjb3JkaW5nSWQgLSBSZWNvcmRpbmcgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gYW5ub3RhdGlvbklkIC0gQW5ub3RhdGlvbiBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gYW5ub3RhdGlvblxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcImxvY2F0aW9uXCI6IDAsXG4gICBcImR1cmF0aW9uTXNcIjogMCxcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJsb2NhdGlvblwiOiAwLFxuICAgXCJkdXJhdGlvbk1zXCI6IDAsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5wdXRDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZEFubm90YXRpb25zQW5ub3RhdGlvbklkID0gZnVuY3Rpb24gcHV0Q29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWRBbm5vdGF0aW9uc0Fubm90YXRpb25JZChjb252ZXJzYXRpb25JZCwgcmVjb3JkaW5nSWQsIGFubm90YXRpb25JZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3JlY29yZGluZ3Mve3JlY29yZGluZ0lkfS9hbm5vdGF0aW9ucy97YW5ub3RhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICBpZihyZWNvcmRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IHJlY29yZGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZWNvcmRpbmdJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyZWNvcmRpbmdJZH0nLCByZWNvcmRpbmdJZCk7XG4gICAgaWYoYW5ub3RhdGlvbklkID09PSB1bmRlZmluZWQgfHwgYW5ub3RhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbm5vdGF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7YW5ub3RhdGlvbklkfScsIGFubm90YXRpb25JZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYW5ub3RhdGlvblxuICAqIEBtZW1iZXJPZiBSZWNvcmRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBDb252ZXJzYXRpb24gSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVjb3JkaW5nSWQgLSBSZWNvcmRpbmcgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gYW5ub3RhdGlvbklkIC0gQW5ub3RhdGlvbiBJRFxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5kZWxldGVDb252ZXJzYXRpb25JZFJlY29yZGluZ3NSZWNvcmRpbmdJZEFubm90YXRpb25zQW5ub3RhdGlvbklkID0gZnVuY3Rpb24gZGVsZXRlQ29udmVyc2F0aW9uSWRSZWNvcmRpbmdzUmVjb3JkaW5nSWRBbm5vdGF0aW9uc0Fubm90YXRpb25JZChjb252ZXJzYXRpb25JZCwgcmVjb3JkaW5nSWQsIGFubm90YXRpb25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29udmVyc2F0aW9ucy97Y29udmVyc2F0aW9uSWR9L3JlY29yZGluZ3Mve3JlY29yZGluZ0lkfS9hbm5vdGF0aW9ucy97YW5ub3RhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQgfHwgY29udmVyc2F0aW9uSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvbnZlcnNhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvbnZlcnNhdGlvbklkfScsIGNvbnZlcnNhdGlvbklkKTtcbiAgICBpZihyZWNvcmRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IHJlY29yZGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZWNvcmRpbmdJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyZWNvcmRpbmdJZH0nLCByZWNvcmRpbmdJZCk7XG4gICAgaWYoYW5ub3RhdGlvbklkID09PSB1bmRlZmluZWQgfHwgYW5ub3RhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBhbm5vdGF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7YW5ub3RhdGlvbklkfScsIGFubm90YXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0cyBhbGwgb3JwaGFuIHJlY29yZGluZ3NcbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFRoZSB0b3RhbCBwYWdlIHNpemUgcmVxdWVzdGVkXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gVGhlIHBhZ2UgbnVtYmVyIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSB2YXJpYWJsZSBuYW1lIHJlcXVlc3RlZCB0byBzb3J0IGJ5XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgYnkgZXhwYW5kIGxpc3RcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dFBhZ2UgLSBuZXh0IHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gcHJldmlvdXNQYWdlIC0gUHJldmlvdXMgcGFnZSB0b2tlblxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5nZXRPcnBoYW5yZWNvcmRpbmdzID0gZnVuY3Rpb24gZ2V0T3JwaGFucmVjb3JkaW5ncyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBleHBhbmQsIG5leHRQYWdlLCBwcmV2aW91c1BhZ2Upe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL29ycGhhbnJlY29yZGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmV4dFBhZ2VcIl0gPSBuZXh0UGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwcmV2aW91c1BhZ2VcIl0gPSBwcmV2aW91c1BhZ2U7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0cyBhIHNpbmdsZSBvcnBoYW4gcmVjb3JkaW5nXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBvcnBoYW5JZCAtIE9ycGhhbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRUaW1lXCI6IFwiXCIsXG4gICBcInJlY292ZXJlZFRpbWVcIjogXCJcIixcbiAgIFwicHJvdmlkZXJUeXBlXCI6IFwiXCIsXG4gICBcIm1lZGlhU2l6ZUJ5dGVzXCI6IDAsXG4gICBcIm1lZGlhVHlwZVwiOiBcIlwiLFxuICAgXCJmaWxlU3RhdGVcIjogXCJcIixcbiAgIFwicHJvdmlkZXJFbmRwb2ludFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY291bnRcIjogMCxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgICAgIFwic2NoZW1hXCI6IHt9LFxuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcImRpZHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicmVjb3JkaW5nXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjb252ZXJzYXRpb25JZFwiOiBcIlwiLFxuICAgICAgXCJwYXRoXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcIm1lZGlhXCI6IFwiXCIsXG4gICAgICBcImFubm90YXRpb25zXCI6IFtdLFxuICAgICAgXCJ0cmFuc2NyaXB0XCI6IFtdLFxuICAgICAgXCJlbWFpbFRyYW5zY3JpcHRcIjogW10sXG4gICAgICBcImZpbGVTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJyZXN0b3JlRXhwaXJhdGlvblRpbWVcIjogXCJcIixcbiAgICAgIFwibWVkaWFVcmlzXCI6IHt9LFxuICAgICAgXCJlc3RpbWF0ZWRUcmFuc2NvZGVUaW1lTXNcIjogMCxcbiAgICAgIFwiYWN0dWFsVHJhbnNjb2RlVGltZU1zXCI6IDAsXG4gICAgICBcImFyY2hpdmVEYXRlXCI6IFwiXCIsXG4gICAgICBcImFyY2hpdmVNZWRpdW1cIjogXCJcIixcbiAgICAgIFwiZGVsZXRlRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtYXhBbGxvd2VkUmVzdG9yYXRpb25zRm9yT3JnXCI6IDAsXG4gICAgICBcInJlbWFpbmluZ1Jlc3RvcmF0aW9uc0FsbG93ZWRGb3JPcmdcIjogMCxcbiAgICAgIFwic2Vzc2lvbklkXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmdldE9ycGhhbklkID0gZnVuY3Rpb24gZ2V0T3JwaGFuSWQob3JwaGFuSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL29ycGhhbnJlY29yZGluZ3Mve29ycGhhbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKG9ycGhhbklkID09PSB1bmRlZmluZWQgfHwgb3JwaGFuSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG9ycGhhbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne29ycGhhbklkfScsIG9ycGhhbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSAgZGVsZXRlcyBhIHNpbmdsZSBvcnBoYW4gcmVjb3JkaW5nXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBvcnBoYW5JZCAtIE9ycGhhbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRUaW1lXCI6IFwiXCIsXG4gICBcInJlY292ZXJlZFRpbWVcIjogXCJcIixcbiAgIFwicHJvdmlkZXJUeXBlXCI6IFwiXCIsXG4gICBcIm1lZGlhU2l6ZUJ5dGVzXCI6IDAsXG4gICBcIm1lZGlhVHlwZVwiOiBcIlwiLFxuICAgXCJmaWxlU3RhdGVcIjogXCJcIixcbiAgIFwicHJvdmlkZXJFbmRwb2ludFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY291bnRcIjogMCxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgICAgIFwic2NoZW1hXCI6IHt9LFxuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcImRpZHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicmVjb3JkaW5nXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjb252ZXJzYXRpb25JZFwiOiBcIlwiLFxuICAgICAgXCJwYXRoXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcIm1lZGlhXCI6IFwiXCIsXG4gICAgICBcImFubm90YXRpb25zXCI6IFtdLFxuICAgICAgXCJ0cmFuc2NyaXB0XCI6IFtdLFxuICAgICAgXCJlbWFpbFRyYW5zY3JpcHRcIjogW10sXG4gICAgICBcImZpbGVTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJyZXN0b3JlRXhwaXJhdGlvblRpbWVcIjogXCJcIixcbiAgICAgIFwibWVkaWFVcmlzXCI6IHt9LFxuICAgICAgXCJlc3RpbWF0ZWRUcmFuc2NvZGVUaW1lTXNcIjogMCxcbiAgICAgIFwiYWN0dWFsVHJhbnNjb2RlVGltZU1zXCI6IDAsXG4gICAgICBcImFyY2hpdmVEYXRlXCI6IFwiXCIsXG4gICAgICBcImFyY2hpdmVNZWRpdW1cIjogXCJcIixcbiAgICAgIFwiZGVsZXRlRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtYXhBbGxvd2VkUmVzdG9yYXRpb25zRm9yT3JnXCI6IDAsXG4gICAgICBcInJlbWFpbmluZ1Jlc3RvcmF0aW9uc0FsbG93ZWRGb3JPcmdcIjogMCxcbiAgICAgIFwic2Vzc2lvbklkXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZU9ycGhhbklkID0gZnVuY3Rpb24gZGVsZXRlT3JwaGFuSWQob3JwaGFuSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL29ycGhhbnJlY29yZGluZ3Mve29ycGhhbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKG9ycGhhbklkID09PSB1bmRlZmluZWQgfHwgb3JwaGFuSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG9ycGhhbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne29ycGhhbklkfScsIG9ycGhhbklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXRzIG1lZGlhIHJldGVudGlvbiBwb2xpY3kgbGlzdCB3aXRoIHF1ZXJ5IG9wdGlvbnMgdG8gZmlsdGVyIG9uIG5hbWUgYW5kIGVuYWJsZWQuXG4gICogQGRlc2NyaXB0aW9uIGZvciBhIGxlc3MgdmVyYm9zZSByZXNwb25zZSwgYWRkIHN1bW1hcnk9dHJ1ZSB0byB0aGlzIGVuZHBvaW50XG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBUaGUgdG90YWwgcGFnZSBzaXplIHJlcXVlc3RlZFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFRoZSBwYWdlIG51bWJlciByZXF1ZXN0ZWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gdmFyaWFibGUgbmFtZSByZXF1ZXN0ZWQgdG8gc29ydCBieVxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIHZhcmlhYmxlIG5hbWUgcmVxdWVzdGVkIGJ5IGV4cGFuZCBsaXN0XG4gICogQHBhcmFtIHtzdHJpbmd9IG5leHRQYWdlIC0gbmV4dCBwYWdlIHRva2VuXG4gICogQHBhcmFtIHtzdHJpbmd9IHByZXZpb3VzUGFnZSAtIFByZXZpb3VzIHBhZ2UgdG9rZW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHRoZSBwb2xpY3kgbmFtZSAtIHVzZWQgZm9yIGZpbHRlcmluZyByZXN1bHRzIGluIHNlYXJjaGVzLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCAtIGNoZWNrcyB0byBzZWUgaWYgcG9saWN5IGlzIGVuYWJsZWQgLSB1c2UgZW5hYmxlZCA9IHRydWUgb3IgZW5hYmxlZCA9IGZhbHNlXG4gICogQHBhcmFtIHtib29sZWFufSBzdW1tYXJ5IC0gcHJvdmlkZXMgYSBsZXNzIHZlcmJvc2UgcmVzcG9uc2Ugb2YgcG9saWN5IGxpc3RzLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzRXJyb3JzIC0gcHJvdmlkZXMgYSB3YXkgdG8gZmV0Y2ggYWxsIHBvbGljaWVzIHdpdGggZXJyb3JzIG9yIHBvbGljaWVzIHRoYXQgZG8gbm90IGhhdmUgZXJyb3JzXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmdldE1lZGlhcmV0ZW50aW9ucG9saWNpZXMgPSBmdW5jdGlvbiBnZXRNZWRpYXJldGVudGlvbnBvbGljaWVzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0QnksIGV4cGFuZCwgbmV4dFBhZ2UsIHByZXZpb3VzUGFnZSwgbmFtZSwgZW5hYmxlZCwgc3VtbWFyeSwgaGFzRXJyb3JzKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvbWVkaWFyZXRlbnRpb25wb2xpY2llcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJuZXh0UGFnZVwiXSA9IG5leHRQYWdlO1xuICAgIHJlcXVlc3RRdWVyeVtcInByZXZpb3VzUGFnZVwiXSA9IHByZXZpb3VzUGFnZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJlbmFibGVkXCJdID0gZW5hYmxlZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJzdW1tYXJ5XCJdID0gc3VtbWFyeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJoYXNFcnJvcnNcIl0gPSBoYXNFcnJvcnM7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIG1lZGlhIHJldGVudGlvbiBwb2xpY3lcbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQb2xpY3lcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm9yZGVyXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwibWVkaWFQb2xpY2llc1wiOiB7XG4gICAgICBcImNhbGxQb2xpY3lcIjoge30sXG4gICAgICBcImNoYXRQb2xpY3lcIjoge30sXG4gICAgICBcImVtYWlsUG9saWN5XCI6IHt9XG4gICB9LFxuICAgXCJjb25kaXRpb25zXCI6IHtcbiAgICAgIFwiZm9yVXNlcnNcIjogW10sXG4gICAgICBcImRpcmVjdGlvbnNcIjogW10sXG4gICAgICBcImRhdGVSYW5nZXNcIjogW10sXG4gICAgICBcIm1lZGlhVHlwZXNcIjogW10sXG4gICAgICBcImZvclF1ZXVlc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25cIjoge30sXG4gICAgICBcIndyYXB1cENvZGVzXCI6IFtdLFxuICAgICAgXCJ0aW1lQWxsb3dlZFwiOiB7fVxuICAgfSxcbiAgIFwiYWN0aW9uc1wiOiB7XG4gICAgICBcInJldGFpblJlY29yZGluZ1wiOiB0cnVlLFxuICAgICAgXCJkZWxldGVSZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiYWx3YXlzRGVsZXRlXCI6IHRydWUsXG4gICAgICBcImFzc2lnbkV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25NZXRlcmVkRXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImFzc2lnbkNhbGlicmF0aW9uc1wiOiBbXSxcbiAgICAgIFwicmV0ZW50aW9uRHVyYXRpb25cIjoge30sXG4gICAgICBcImluaXRpYXRlU2NyZWVuUmVjb3JkaW5nXCI6IHt9XG4gICB9LFxuICAgXCJwb2xpY3lFcnJvcnNcIjoge1xuICAgICAgXCJwb2xpY3lFcnJvck1lc3NhZ2VzXCI6IFtdXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm9yZGVyXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwibWVkaWFQb2xpY2llc1wiOiB7XG4gICAgICBcImNhbGxQb2xpY3lcIjoge30sXG4gICAgICBcImNoYXRQb2xpY3lcIjoge30sXG4gICAgICBcImVtYWlsUG9saWN5XCI6IHt9XG4gICB9LFxuICAgXCJjb25kaXRpb25zXCI6IHtcbiAgICAgIFwiZm9yVXNlcnNcIjogW10sXG4gICAgICBcImRpcmVjdGlvbnNcIjogW10sXG4gICAgICBcImRhdGVSYW5nZXNcIjogW10sXG4gICAgICBcIm1lZGlhVHlwZXNcIjogW10sXG4gICAgICBcImZvclF1ZXVlc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25cIjoge30sXG4gICAgICBcIndyYXB1cENvZGVzXCI6IFtdLFxuICAgICAgXCJ0aW1lQWxsb3dlZFwiOiB7fVxuICAgfSxcbiAgIFwiYWN0aW9uc1wiOiB7XG4gICAgICBcInJldGFpblJlY29yZGluZ1wiOiB0cnVlLFxuICAgICAgXCJkZWxldGVSZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiYWx3YXlzRGVsZXRlXCI6IHRydWUsXG4gICAgICBcImFzc2lnbkV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25NZXRlcmVkRXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImFzc2lnbkNhbGlicmF0aW9uc1wiOiBbXSxcbiAgICAgIFwicmV0ZW50aW9uRHVyYXRpb25cIjoge30sXG4gICAgICBcImluaXRpYXRlU2NyZWVuUmVjb3JkaW5nXCI6IHt9XG4gICB9LFxuICAgXCJwb2xpY3lFcnJvcnNcIjoge1xuICAgICAgXCJwb2xpY3lFcnJvck1lc3NhZ2VzXCI6IFtdXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJlY29yZGluZ0FwaS5wcm90b3R5cGUucG9zdE1lZGlhcmV0ZW50aW9ucG9saWNpZXMgPSBmdW5jdGlvbiBwb3N0TWVkaWFyZXRlbnRpb25wb2xpY2llcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvbWVkaWFyZXRlbnRpb25wb2xpY2llcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBtZWRpYSByZXRlbnRpb24gcG9saWNpZXNcbiAgKiBAZGVzY3JpcHRpb24gQnVsayBkZWxldGUgb2YgbWVkaWEgcmV0ZW50aW9uIHBvbGljaWVzLCB0aGlzIHdpbGwgb25seSBkZWxldGUgdGhlIHBvbGljZXMgdGhhdCBtYXRjaCB0aGUgaWRzIHNwZWNpZmllZCBpbiB0aGUgcXVlcnkgcGFyYW0uXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBpZHMgLSBCdWxrIGRlbGV0ZSBvZiBtZWRpYSByZXRlbnRpb24gcG9saWNpZXMsIHRoaXMgd2lsbCBvbmx5IGRlbGV0ZSB0aGUgcG9saWNlcyB0aGF0IG1hdGNoIHRoZSBpZHMgc3BlY2lmaWVkIGluIHRoZSBxdWVyeSBwYXJhbS5cbiAgKi9cblJlY29yZGluZ0FwaS5wcm90b3R5cGUuZGVsZXRlTWVkaWFyZXRlbnRpb25wb2xpY2llcyA9IGZ1bmN0aW9uIGRlbGV0ZU1lZGlhcmV0ZW50aW9ucG9saWNpZXMoaWRzKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZWNvcmRpbmcvbWVkaWFyZXRlbnRpb25wb2xpY2llcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGlkcyA9PT0gdW5kZWZpbmVkIHx8IGlkcyA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogaWRzJyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcImlkc1wiXSA9IGlkcztcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBtZWRpYSByZXRlbnRpb24gcG9saWN5XG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBwb2xpY3lJZCAtIFBvbGljeSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJvcmRlclwiOiAwLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcIm1lZGlhUG9saWNpZXNcIjoge1xuICAgICAgXCJjYWxsUG9saWN5XCI6IHt9LFxuICAgICAgXCJjaGF0UG9saWN5XCI6IHt9LFxuICAgICAgXCJlbWFpbFBvbGljeVwiOiB7fVxuICAgfSxcbiAgIFwiY29uZGl0aW9uc1wiOiB7XG4gICAgICBcImZvclVzZXJzXCI6IFtdLFxuICAgICAgXCJkaXJlY3Rpb25zXCI6IFtdLFxuICAgICAgXCJkYXRlUmFuZ2VzXCI6IFtdLFxuICAgICAgXCJtZWRpYVR5cGVzXCI6IFtdLFxuICAgICAgXCJmb3JRdWV1ZXNcIjogW10sXG4gICAgICBcImR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJ3cmFwdXBDb2Rlc1wiOiBbXSxcbiAgICAgIFwidGltZUFsbG93ZWRcIjoge31cbiAgIH0sXG4gICBcImFjdGlvbnNcIjoge1xuICAgICAgXCJyZXRhaW5SZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiZGVsZXRlUmVjb3JkaW5nXCI6IHRydWUsXG4gICAgICBcImFsd2F5c0RlbGV0ZVwiOiB0cnVlLFxuICAgICAgXCJhc3NpZ25FdmFsdWF0aW9uc1wiOiBbXSxcbiAgICAgIFwiYXNzaWduTWV0ZXJlZEV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25DYWxpYnJhdGlvbnNcIjogW10sXG4gICAgICBcInJldGVudGlvbkR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJpbml0aWF0ZVNjcmVlblJlY29yZGluZ1wiOiB7fVxuICAgfSxcbiAgIFwicG9saWN5RXJyb3JzXCI6IHtcbiAgICAgIFwicG9saWN5RXJyb3JNZXNzYWdlc1wiOiBbXVxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmdldE1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZCA9IGZ1bmN0aW9uIGdldE1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZChwb2xpY3lJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5nL21lZGlhcmV0ZW50aW9ucG9saWNpZXMve3BvbGljeUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBvbGljeUlkID09PSB1bmRlZmluZWQgfHwgcG9saWN5SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBvbGljeUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BvbGljeUlkfScsIHBvbGljeUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBtZWRpYSByZXRlbnRpb24gcG9saWN5XG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBwb2xpY3lJZCAtIFBvbGljeSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUG9saWN5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJvcmRlclwiOiAwLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcIm1lZGlhUG9saWNpZXNcIjoge1xuICAgICAgXCJjYWxsUG9saWN5XCI6IHt9LFxuICAgICAgXCJjaGF0UG9saWN5XCI6IHt9LFxuICAgICAgXCJlbWFpbFBvbGljeVwiOiB7fVxuICAgfSxcbiAgIFwiY29uZGl0aW9uc1wiOiB7XG4gICAgICBcImZvclVzZXJzXCI6IFtdLFxuICAgICAgXCJkaXJlY3Rpb25zXCI6IFtdLFxuICAgICAgXCJkYXRlUmFuZ2VzXCI6IFtdLFxuICAgICAgXCJtZWRpYVR5cGVzXCI6IFtdLFxuICAgICAgXCJmb3JRdWV1ZXNcIjogW10sXG4gICAgICBcImR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJ3cmFwdXBDb2Rlc1wiOiBbXSxcbiAgICAgIFwidGltZUFsbG93ZWRcIjoge31cbiAgIH0sXG4gICBcImFjdGlvbnNcIjoge1xuICAgICAgXCJyZXRhaW5SZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiZGVsZXRlUmVjb3JkaW5nXCI6IHRydWUsXG4gICAgICBcImFsd2F5c0RlbGV0ZVwiOiB0cnVlLFxuICAgICAgXCJhc3NpZ25FdmFsdWF0aW9uc1wiOiBbXSxcbiAgICAgIFwiYXNzaWduTWV0ZXJlZEV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25DYWxpYnJhdGlvbnNcIjogW10sXG4gICAgICBcInJldGVudGlvbkR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJpbml0aWF0ZVNjcmVlblJlY29yZGluZ1wiOiB7fVxuICAgfSxcbiAgIFwicG9saWN5RXJyb3JzXCI6IHtcbiAgICAgIFwicG9saWN5RXJyb3JNZXNzYWdlc1wiOiBbXVxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJvcmRlclwiOiAwLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcIm1lZGlhUG9saWNpZXNcIjoge1xuICAgICAgXCJjYWxsUG9saWN5XCI6IHt9LFxuICAgICAgXCJjaGF0UG9saWN5XCI6IHt9LFxuICAgICAgXCJlbWFpbFBvbGljeVwiOiB7fVxuICAgfSxcbiAgIFwiY29uZGl0aW9uc1wiOiB7XG4gICAgICBcImZvclVzZXJzXCI6IFtdLFxuICAgICAgXCJkaXJlY3Rpb25zXCI6IFtdLFxuICAgICAgXCJkYXRlUmFuZ2VzXCI6IFtdLFxuICAgICAgXCJtZWRpYVR5cGVzXCI6IFtdLFxuICAgICAgXCJmb3JRdWV1ZXNcIjogW10sXG4gICAgICBcImR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJ3cmFwdXBDb2Rlc1wiOiBbXSxcbiAgICAgIFwidGltZUFsbG93ZWRcIjoge31cbiAgIH0sXG4gICBcImFjdGlvbnNcIjoge1xuICAgICAgXCJyZXRhaW5SZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiZGVsZXRlUmVjb3JkaW5nXCI6IHRydWUsXG4gICAgICBcImFsd2F5c0RlbGV0ZVwiOiB0cnVlLFxuICAgICAgXCJhc3NpZ25FdmFsdWF0aW9uc1wiOiBbXSxcbiAgICAgIFwiYXNzaWduTWV0ZXJlZEV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25DYWxpYnJhdGlvbnNcIjogW10sXG4gICAgICBcInJldGVudGlvbkR1cmF0aW9uXCI6IHt9LFxuICAgICAgXCJpbml0aWF0ZVNjcmVlblJlY29yZGluZ1wiOiB7fVxuICAgfSxcbiAgIFwicG9saWN5RXJyb3JzXCI6IHtcbiAgICAgIFwicG9saWN5RXJyb3JNZXNzYWdlc1wiOiBbXVxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLnB1dE1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZCA9IGZ1bmN0aW9uIHB1dE1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZChwb2xpY3lJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5nL21lZGlhcmV0ZW50aW9ucG9saWNpZXMve3BvbGljeUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBvbGljeUlkID09PSB1bmRlZmluZWQgfHwgcG9saWN5SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBvbGljeUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BvbGljeUlkfScsIHBvbGljeUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIG1lZGlhIHJldGVudGlvbiBwb2xpY3lcbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHBvbGljeUlkIC0gUG9saWN5IElEXG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZU1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZCA9IGZ1bmN0aW9uIGRlbGV0ZU1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZChwb2xpY3lJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5nL21lZGlhcmV0ZW50aW9ucG9saWNpZXMve3BvbGljeUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBvbGljeUlkID09PSB1bmRlZmluZWQgfHwgcG9saWN5SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBvbGljeUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BvbGljeUlkfScsIHBvbGljeUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBQYXRjaCBhIG1lZGlhIHJldGVudGlvbiBwb2xpY3lcbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHBvbGljeUlkIC0gUG9saWN5IElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQb2xpY3lcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm9yZGVyXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwibWVkaWFQb2xpY2llc1wiOiB7XG4gICAgICBcImNhbGxQb2xpY3lcIjoge30sXG4gICAgICBcImNoYXRQb2xpY3lcIjoge30sXG4gICAgICBcImVtYWlsUG9saWN5XCI6IHt9XG4gICB9LFxuICAgXCJjb25kaXRpb25zXCI6IHtcbiAgICAgIFwiZm9yVXNlcnNcIjogW10sXG4gICAgICBcImRpcmVjdGlvbnNcIjogW10sXG4gICAgICBcImRhdGVSYW5nZXNcIjogW10sXG4gICAgICBcIm1lZGlhVHlwZXNcIjogW10sXG4gICAgICBcImZvclF1ZXVlc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25cIjoge30sXG4gICAgICBcIndyYXB1cENvZGVzXCI6IFtdLFxuICAgICAgXCJ0aW1lQWxsb3dlZFwiOiB7fVxuICAgfSxcbiAgIFwiYWN0aW9uc1wiOiB7XG4gICAgICBcInJldGFpblJlY29yZGluZ1wiOiB0cnVlLFxuICAgICAgXCJkZWxldGVSZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiYWx3YXlzRGVsZXRlXCI6IHRydWUsXG4gICAgICBcImFzc2lnbkV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25NZXRlcmVkRXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImFzc2lnbkNhbGlicmF0aW9uc1wiOiBbXSxcbiAgICAgIFwicmV0ZW50aW9uRHVyYXRpb25cIjoge30sXG4gICAgICBcImluaXRpYXRlU2NyZWVuUmVjb3JkaW5nXCI6IHt9XG4gICB9LFxuICAgXCJwb2xpY3lFcnJvcnNcIjoge1xuICAgICAgXCJwb2xpY3lFcnJvck1lc3NhZ2VzXCI6IFtdXG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm9yZGVyXCI6IDAsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwibWVkaWFQb2xpY2llc1wiOiB7XG4gICAgICBcImNhbGxQb2xpY3lcIjoge30sXG4gICAgICBcImNoYXRQb2xpY3lcIjoge30sXG4gICAgICBcImVtYWlsUG9saWN5XCI6IHt9XG4gICB9LFxuICAgXCJjb25kaXRpb25zXCI6IHtcbiAgICAgIFwiZm9yVXNlcnNcIjogW10sXG4gICAgICBcImRpcmVjdGlvbnNcIjogW10sXG4gICAgICBcImRhdGVSYW5nZXNcIjogW10sXG4gICAgICBcIm1lZGlhVHlwZXNcIjogW10sXG4gICAgICBcImZvclF1ZXVlc1wiOiBbXSxcbiAgICAgIFwiZHVyYXRpb25cIjoge30sXG4gICAgICBcIndyYXB1cENvZGVzXCI6IFtdLFxuICAgICAgXCJ0aW1lQWxsb3dlZFwiOiB7fVxuICAgfSxcbiAgIFwiYWN0aW9uc1wiOiB7XG4gICAgICBcInJldGFpblJlY29yZGluZ1wiOiB0cnVlLFxuICAgICAgXCJkZWxldGVSZWNvcmRpbmdcIjogdHJ1ZSxcbiAgICAgIFwiYWx3YXlzRGVsZXRlXCI6IHRydWUsXG4gICAgICBcImFzc2lnbkV2YWx1YXRpb25zXCI6IFtdLFxuICAgICAgXCJhc3NpZ25NZXRlcmVkRXZhbHVhdGlvbnNcIjogW10sXG4gICAgICBcImFzc2lnbkNhbGlicmF0aW9uc1wiOiBbXSxcbiAgICAgIFwicmV0ZW50aW9uRHVyYXRpb25cIjoge30sXG4gICAgICBcImluaXRpYXRlU2NyZWVuUmVjb3JkaW5nXCI6IHt9XG4gICB9LFxuICAgXCJwb2xpY3lFcnJvcnNcIjoge1xuICAgICAgXCJwb2xpY3lFcnJvck1lc3NhZ2VzXCI6IFtdXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJlY29yZGluZ0FwaS5wcm90b3R5cGUucGF0Y2hNZWRpYXJldGVudGlvbnBvbGljaWVzUG9saWN5SWQgPSBmdW5jdGlvbiBwYXRjaE1lZGlhcmV0ZW50aW9ucG9saWNpZXNQb2xpY3lJZChwb2xpY3lJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5nL21lZGlhcmV0ZW50aW9ucG9saWNpZXMve3BvbGljeUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBvbGljeUlkID09PSB1bmRlZmluZWQgfHwgcG9saWN5SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBvbGljeUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3BvbGljeUlkfScsIHBvbGljeUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBSZWNvcmRpbmcgU2V0dGluZ3MgZm9yIHRoZSBPcmdhbml6YXRpb25cbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtib29sZWFufSBjcmVhdGVEZWZhdWx0IC0gSWYgbm8gc2V0dGluZ3MgYXJlIGZvdW5kLCBhIG5ldyBvbmUgaXMgY3JlYXRlZCB3aXRoIGRlZmF1bHQgdmFsdWVzXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm1heFNpbXVsdGFuZW91c1N0cmVhbXNcIjogMFxufVxuICAqL1xuUmVjb3JkaW5nQXBpLnByb3RvdHlwZS5nZXRTZXR0aW5ncyA9IGZ1bmN0aW9uIGdldFNldHRpbmdzKGNyZWF0ZURlZmF1bHQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JlY29yZGluZy9zZXR0aW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcImNyZWF0ZURlZmF1bHRcIl0gPSBjcmVhdGVEZWZhdWx0O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSB0aGUgUmVjb3JkaW5nIFNldHRpbmdzIGZvciB0aGUgT3JnYW5pemF0aW9uXG4gICogQG1lbWJlck9mIFJlY29yZGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUmVjb3JkaW5nIHNldHRpbmdzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJtYXhTaW11bHRhbmVvdXNTdHJlYW1zXCI6IDBcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibWF4U2ltdWx0YW5lb3VzU3RyZWFtc1wiOiAwXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLnB1dFNldHRpbmdzID0gZnVuY3Rpb24gcHV0U2V0dGluZ3MoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5nL3NldHRpbmdzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXRyaWV2ZXMgYSBwYWdlZCBsaXN0aW5nIG9mIHNjcmVlbiByZWNvcmRpbmcgc2Vzc2lvbnNcbiAgKiBAbWVtYmVyT2YgUmVjb3JkaW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5SZWNvcmRpbmdBcGkucHJvdG90eXBlLmdldHNTY3JlZW5zZXNzaW9ucyA9IGZ1bmN0aW9uIGdldHNTY3JlZW5zZXNzaW9ucyhwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVjb3JkaW5ncy9zY3JlZW5zZXNzaW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY29yZGluZ0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgUmVzcG9uc2VNYW5hZ2VtZW50QXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlJlc3BvbnNlTWFuYWdlbWVudEFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBSZXNwb25zZU1hbmFnZW1lbnRBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZU1hbmFnZW1lbnRBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3BvbnNlTWFuYWdlbWVudEFwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgR2V0cyBhIGxpc3Qgb2YgZXhpc3RpbmcgcmVzcG9uc2UgbGlicmFyaWVzLlxuICAqIEBtZW1iZXJPZiBSZXNwb25zZU1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJlc3BvbnNlTWFuYWdlbWVudEFwaS5wcm90b3R5cGUuZ2V0TGlicmFyaWVzID0gZnVuY3Rpb24gZ2V0TGlicmFyaWVzKHBhZ2VOdW1iZXIsIHBhZ2VTaXplKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvbGlicmFyaWVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSByZXNwb25zZSBsaWJyYXJ5LlxuICAqIEBtZW1iZXJPZiBSZXNwb25zZU1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIExpYnJhcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJlc3BvbnNlTWFuYWdlbWVudEFwaS5wcm90b3R5cGUucG9zdExpYnJhcmllcyA9IGZ1bmN0aW9uIHBvc3RMaWJyYXJpZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVzcG9uc2VtYW5hZ2VtZW50L2xpYnJhcmllcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBkZXRhaWxzIGFib3V0IGFuIGV4aXN0aW5nIHJlc3BvbnNlIGxpYnJhcnkuXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaWJyYXJ5SWQgLSBMaWJyYXJ5IElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUmVzcG9uc2VNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRMaWJyYXJpZXNMaWJyYXJ5SWQgPSBmdW5jdGlvbiBnZXRMaWJyYXJpZXNMaWJyYXJ5SWQobGlicmFyeUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvbGlicmFyaWVzL3tsaWJyYXJ5SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYobGlicmFyeUlkID09PSB1bmRlZmluZWQgfHwgbGlicmFyeUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsaWJyYXJ5SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bGlicmFyeUlkfScsIGxpYnJhcnlJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGFuIGV4aXN0aW5nIHJlc3BvbnNlIGxpYnJhcnkuXG4gICogQGRlc2NyaXB0aW9uIEZpZWxkcyB0aGF0IGNhbiBiZSB1cGRhdGVkOiBuYW1lLiBUaGUgbW9zdCByZWNlbnQgdmVyc2lvbiBpcyByZXF1aXJlZCBmb3IgdXBkYXRlcy5cbiAgKiBAbWVtYmVyT2YgUmVzcG9uc2VNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxpYnJhcnlJZCAtIExpYnJhcnkgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIExpYnJhcnlcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJlc3BvbnNlTWFuYWdlbWVudEFwaS5wcm90b3R5cGUucHV0TGlicmFyaWVzTGlicmFyeUlkID0gZnVuY3Rpb24gcHV0TGlicmFyaWVzTGlicmFyeUlkKGxpYnJhcnlJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcmVzcG9uc2VtYW5hZ2VtZW50L2xpYnJhcmllcy97bGlicmFyeUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGxpYnJhcnlJZCA9PT0gdW5kZWZpbmVkIHx8IGxpYnJhcnlJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbGlicmFyeUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2xpYnJhcnlJZH0nLCBsaWJyYXJ5SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGV4aXN0aW5nIHJlc3BvbnNlIGxpYnJhcnkuXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgd2lsbCByZW1vdmUgYW55IHJlc3BvbnNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGxpYnJhcnkuXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaWJyYXJ5SWQgLSBMaWJyYXJ5IElEXG4gICovXG5SZXNwb25zZU1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmRlbGV0ZUxpYnJhcmllc0xpYnJhcnlJZCA9IGZ1bmN0aW9uIGRlbGV0ZUxpYnJhcmllc0xpYnJhcnlJZChsaWJyYXJ5SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3Jlc3BvbnNlbWFuYWdlbWVudC9saWJyYXJpZXMve2xpYnJhcnlJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihsaWJyYXJ5SWQgPT09IHVuZGVmaW5lZCB8fCBsaWJyYXJ5SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGxpYnJhcnlJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tsaWJyYXJ5SWR9JywgbGlicmFyeUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXRzIGEgbGlzdCBvZiBleGlzdGluZyByZXNwb25zZXMuXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaWJyYXJ5SWQgLSBMaWJyYXJ5IElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5SZXNwb25zZU1hbmFnZW1lbnRBcGkucHJvdG90eXBlLmdldFJlc3BvbnNlcyA9IGZ1bmN0aW9uIGdldFJlc3BvbnNlcyhsaWJyYXJ5SWQsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvcmVzcG9uc2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYobGlicmFyeUlkID09PSB1bmRlZmluZWQgfHwgbGlicmFyeUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsaWJyYXJ5SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wibGlicmFyeUlkXCJdID0gbGlicmFyeUlkO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgcmVzcG9uc2UuXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUmVzcG9uc2VcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJsaWJyYXJpZXNcIjogW10sXG4gICBcInRleHRzXCI6IFtdLFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiaW50ZXJhY3Rpb25UeXBlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImxpYnJhcmllc1wiOiBbXSxcbiAgIFwidGV4dHNcIjogW10sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiaW50ZXJhY3Rpb25UeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUmVzcG9uc2VNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5wb3N0UmVzcG9uc2VzID0gZnVuY3Rpb24gcG9zdFJlc3BvbnNlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvcmVzcG9uc2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgcmVzcG9uc2VzXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUmVzcG9uc2VcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInF1ZXJ5UGhyYXNlXCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcImZpbHRlcnNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcInBhZ2VTaXplXCI6IDAsXG4gICAgICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgICAgIFwidG90YWxcIjogMCxcbiAgICAgIFwiZW50aXRpZXNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIixcbiAgICAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgICAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgICAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICAgICBcInBhZ2VDb3VudFwiOiAwXG4gICB9XG59XG4gICovXG5SZXNwb25zZU1hbmFnZW1lbnRBcGkucHJvdG90eXBlLnBvc3RSZXNwb25zZXNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RSZXNwb25zZXNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvcmVzcG9uc2VzL3F1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGRldGFpbHMgYWJvdXQgYW4gZXhpc3RpbmcgcmVzcG9uc2UuXG4gICogQG1lbWJlck9mIFJlc3BvbnNlTWFuYWdlbWVudEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByZXNwb25zZUlkIC0gUmVzcG9uc2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImxpYnJhcmllc1wiOiBbXSxcbiAgIFwidGV4dHNcIjogW10sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiaW50ZXJhY3Rpb25UeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUmVzcG9uc2VNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5nZXRSZXNwb25zZXNSZXNwb25zZUlkID0gZnVuY3Rpb24gZ2V0UmVzcG9uc2VzUmVzcG9uc2VJZChyZXNwb25zZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvcmVzcG9uc2VzL3tyZXNwb25zZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJlc3BvbnNlSWQgPT09IHVuZGVmaW5lZCB8fCByZXNwb25zZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZXNwb25zZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Jlc3BvbnNlSWR9JywgcmVzcG9uc2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGFuIGV4aXN0aW5nIHJlc3BvbnNlLlxuICAqIEBkZXNjcmlwdGlvbiBGaWVsZHMgdGhhdCBjYW4gYmUgdXBkYXRlZDogbmFtZSwgbGlicmFyaWVzLCBhbmQgdGV4dHMuIFRoZSBtb3N0IHJlY2VudCB2ZXJzaW9uIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVzLlxuICAqIEBtZW1iZXJPZiBSZXNwb25zZU1hbmFnZW1lbnRBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VJZCAtIFJlc3BvbnNlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBSZXNwb25zZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImxpYnJhcmllc1wiOiBbXSxcbiAgIFwidGV4dHNcIjogW10sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJpbnRlcmFjdGlvblR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwibGlicmFyaWVzXCI6IFtdLFxuICAgXCJ0ZXh0c1wiOiBbXSxcbiAgIFwiY3JlYXRlZEJ5XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJpbnRlcmFjdGlvblR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5SZXNwb25zZU1hbmFnZW1lbnRBcGkucHJvdG90eXBlLnB1dFJlc3BvbnNlc1Jlc3BvbnNlSWQgPSBmdW5jdGlvbiBwdXRSZXNwb25zZXNSZXNwb25zZUlkKHJlc3BvbnNlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3Jlc3BvbnNlbWFuYWdlbWVudC9yZXNwb25zZXMve3Jlc3BvbnNlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocmVzcG9uc2VJZCA9PT0gdW5kZWZpbmVkIHx8IHJlc3BvbnNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJlc3BvbnNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cmVzcG9uc2VJZH0nLCByZXNwb25zZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhbiBleGlzdGluZyByZXNwb25zZS5cbiAgKiBAZGVzY3JpcHRpb24gVGhpcyB3aWxsIHJlbW92ZSB0aGUgcmVzcG9uc2UgZnJvbSBhbnkgbGlicmFyaWVzIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgKiBAbWVtYmVyT2YgUmVzcG9uc2VNYW5hZ2VtZW50QXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlSWQgLSBSZXNwb25zZSBJRFxuICAqL1xuUmVzcG9uc2VNYW5hZ2VtZW50QXBpLnByb3RvdHlwZS5kZWxldGVSZXNwb25zZXNSZXNwb25zZUlkID0gZnVuY3Rpb24gZGVsZXRlUmVzcG9uc2VzUmVzcG9uc2VJZChyZXNwb25zZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yZXNwb25zZW1hbmFnZW1lbnQvcmVzcG9uc2VzL3tyZXNwb25zZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJlc3BvbnNlSWQgPT09IHVuZGVmaW5lZCB8fCByZXNwb25zZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZXNwb25zZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Jlc3BvbnNlSWR9JywgcmVzcG9uc2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3BvbnNlTWFuYWdlbWVudEFwaTtcbiIsIi8qKlxuKiBAY2xhc3MgUm91dGluZ0FwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5Sb3V0aW5nQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFJvdXRpbmdBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIFJvdXRpbmdBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91dGluZ0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUm91dGluZ0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIHF1ZXVlIG9ic2VydmF0aW9uc1xuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBxdWVyeVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiZmlsdGVyXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJjbGF1c2VzXCI6IFtdLFxuICAgICAgXCJwcmVkaWNhdGVzXCI6IFtdXG4gICB9LFxuICAgXCJtZXRyaWNzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInN5c3RlbVRvT3JnYW5pemF0aW9uTWFwcGluZ3NcIjoge30sXG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLnBvc3RRdWV1ZXNPYnNlcnZhdGlvbnNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RRdWV1ZXNPYnNlcnZhdGlvbnNRdWVyeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9hbmFseXRpY3MvcXVldWVzL29ic2VydmF0aW9ucy9xdWVyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBkb21haW5zXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldEVtYWlsRG9tYWlucyA9IGZ1bmN0aW9uIGdldEVtYWlsRG9tYWlucygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvZW1haWwvZG9tYWlucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIGRvbWFpblxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBEb21haW5cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwibXhSZWNvcmRTdGF0dXNcIjogXCJcIixcbiAgIFwic3ViRG9tYWluXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJteFJlY29yZFN0YXR1c1wiOiBcIlwiLFxuICAgXCJzdWJEb21haW5cIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wb3N0RW1haWxEb21haW5zID0gZnVuY3Rpb24gcG9zdEVtYWlsRG9tYWlucyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL2VtYWlsL2RvbWFpbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBkb21haW5cbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW5JZCAtIGRvbWFpbiBJRFxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZGVsZXRlRW1haWxEb21haW5zRG9tYWluSWQgPSBmdW5jdGlvbiBkZWxldGVFbWFpbERvbWFpbnNEb21haW5JZChkb21haW5JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9lbWFpbC9kb21haW5zL3tkb21haW5JZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihkb21haW5JZCA9PT0gdW5kZWZpbmVkIHx8IGRvbWFpbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb21haW5JZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tkb21haW5JZH0nLCBkb21haW5JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHJvdXRlc1xuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbk5hbWUgLSBlbWFpbCBkb21haW5cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldEVtYWlsRG9tYWluc0RvbWFpbm5hbWVSb3V0ZXMgPSBmdW5jdGlvbiBnZXRFbWFpbERvbWFpbnNEb21haW5uYW1lUm91dGVzKGRvbWFpbk5hbWUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvZW1haWwvZG9tYWlucy97ZG9tYWluTmFtZX0vcm91dGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9tYWluTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGRvbWFpbk5hbWUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvbWFpbk5hbWUnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9tYWluTmFtZX0nLCBkb21haW5OYW1lKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSByb3V0ZVxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbk5hbWUgLSBlbWFpbCBkb21haW5cbiAgKiBAcGFyYW0ge30gYm9keSAtIFJvdXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBhdHRlcm5cIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJpb3JpdHlcIjogMCxcbiAgIFwic2tpbGxzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJmcm9tTmFtZVwiOiBcIlwiLFxuICAgXCJmcm9tRW1haWxcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBhdHRlcm5cIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJpb3JpdHlcIjogMCxcbiAgIFwic2tpbGxzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJmcm9tTmFtZVwiOiBcIlwiLFxuICAgXCJmcm9tRW1haWxcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wb3N0RW1haWxEb21haW5zRG9tYWlubmFtZVJvdXRlcyA9IGZ1bmN0aW9uIHBvc3RFbWFpbERvbWFpbnNEb21haW5uYW1lUm91dGVzKGRvbWFpbk5hbWUsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvZW1haWwvZG9tYWlucy97ZG9tYWluTmFtZX0vcm91dGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9tYWluTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGRvbWFpbk5hbWUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvbWFpbk5hbWUnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9tYWluTmFtZX0nLCBkb21haW5OYW1lKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSByb3V0ZVxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbk5hbWUgLSBlbWFpbCBkb21haW5cbiAgKiBAcGFyYW0ge3N0cmluZ30gcm91dGVJZCAtIHJvdXRlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicGF0dGVyblwiOiBcIlwiLFxuICAgXCJxdWV1ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmlvcml0eVwiOiAwLFxuICAgXCJza2lsbHNcIjogW10sXG4gICBcImxhbmd1YWdlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImZyb21OYW1lXCI6IFwiXCIsXG4gICBcImZyb21FbWFpbFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldEVtYWlsRG9tYWluc0RvbWFpbm5hbWVSb3V0ZXNSb3V0ZUlkID0gZnVuY3Rpb24gZ2V0RW1haWxEb21haW5zRG9tYWlubmFtZVJvdXRlc1JvdXRlSWQoZG9tYWluTmFtZSwgcm91dGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9lbWFpbC9kb21haW5zL3tkb21haW5OYW1lfS9yb3V0ZXMve3JvdXRlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9tYWluTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGRvbWFpbk5hbWUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvbWFpbk5hbWUnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9tYWluTmFtZX0nLCBkb21haW5OYW1lKTtcbiAgICBpZihyb3V0ZUlkID09PSB1bmRlZmluZWQgfHwgcm91dGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcm91dGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyb3V0ZUlkfScsIHJvdXRlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIHJvdXRlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluTmFtZSAtIGVtYWlsIGRvbWFpblxuICAqIEBwYXJhbSB7c3RyaW5nfSByb3V0ZUlkIC0gcm91dGUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFJvdXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBhdHRlcm5cIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJpb3JpdHlcIjogMCxcbiAgIFwic2tpbGxzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJmcm9tTmFtZVwiOiBcIlwiLFxuICAgXCJmcm9tRW1haWxcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInBhdHRlcm5cIjogXCJcIixcbiAgIFwicXVldWVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJpb3JpdHlcIjogMCxcbiAgIFwic2tpbGxzXCI6IFtdLFxuICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJmcm9tTmFtZVwiOiBcIlwiLFxuICAgXCJmcm9tRW1haWxcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wdXRFbWFpbERvbWFpbnNEb21haW5uYW1lUm91dGVzUm91dGVJZCA9IGZ1bmN0aW9uIHB1dEVtYWlsRG9tYWluc0RvbWFpbm5hbWVSb3V0ZXNSb3V0ZUlkKGRvbWFpbk5hbWUsIHJvdXRlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvZW1haWwvZG9tYWlucy97ZG9tYWluTmFtZX0vcm91dGVzL3tyb3V0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRvbWFpbk5hbWUgPT09IHVuZGVmaW5lZCB8fCBkb21haW5OYW1lID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkb21haW5OYW1lJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RvbWFpbk5hbWV9JywgZG9tYWluTmFtZSk7XG4gICAgaWYocm91dGVJZCA9PT0gdW5kZWZpbmVkIHx8IHJvdXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJvdXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cm91dGVJZH0nLCByb3V0ZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIHJvdXRlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluTmFtZSAtIGVtYWlsIGRvbWFpblxuICAqIEBwYXJhbSB7c3RyaW5nfSByb3V0ZUlkIC0gcm91dGUgSURcbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZUVtYWlsRG9tYWluc0RvbWFpbm5hbWVSb3V0ZXNSb3V0ZUlkID0gZnVuY3Rpb24gZGVsZXRlRW1haWxEb21haW5zRG9tYWlubmFtZVJvdXRlc1JvdXRlSWQoZG9tYWluTmFtZSwgcm91dGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9lbWFpbC9kb21haW5zL3tkb21haW5OYW1lfS9yb3V0ZXMve3JvdXRlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZG9tYWluTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGRvbWFpbk5hbWUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRvbWFpbk5hbWUnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZG9tYWluTmFtZX0nLCBkb21haW5OYW1lKTtcbiAgICBpZihyb3V0ZUlkID09PSB1bmRlZmluZWQgfHwgcm91dGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcm91dGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyb3V0ZUlkfScsIHJvdXRlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBlbWFpbCBzZXR1cFxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJvb3REb21haW5cIjogXCJcIlxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZ2V0RW1haWxTZXR1cCA9IGZ1bmN0aW9uIGdldEVtYWlsU2V0dXAoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL2VtYWlsL3NldHVwJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGxpc3Qgb2YgcXVldWVzLlxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGFjdGl2ZSAtIEFjdGl2ZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZ2V0UXVldWVzID0gZnVuY3Rpb24gZ2V0UXVldWVzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0QnksIG5hbWUsIGFjdGl2ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJhY3RpdmVcIl0gPSBhY3RpdmU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIHF1ZXVlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFF1ZXVlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcInNvdXJjZVF1ZXVlSWRcIjogXCJcIixcbiAgIFwibWVtYmVyQ291bnRcIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUucG9zdFF1ZXVlcyA9IGZ1bmN0aW9uIHBvc3RRdWV1ZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZGV0YWlscyBhYm91dCB0aGlzIHF1ZXVlLlxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHF1ZXVlSWQgLSBRdWV1ZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZ2V0UXVldWVzUXVldWVJZCA9IGZ1bmN0aW9uIGdldFF1ZXVlc1F1ZXVlSWQocXVldWVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBxdWV1ZVxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHF1ZXVlSWQgLSBRdWV1ZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUXVldWVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwibWVkaWFTZXR0aW5nc1wiOiB7fSxcbiAgIFwiYnVsbHNleWVcIjoge1xuICAgICAgXCJyaW5nc1wiOiBbXVxuICAgfSxcbiAgIFwiYWN3U2V0dGluZ3NcIjoge1xuICAgICAgXCJ3cmFwdXBQcm9tcHRcIjogXCJcIixcbiAgICAgIFwidGltZW91dE1zXCI6IDBcbiAgIH0sXG4gICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgXCJxdWV1ZUZsb3dcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbGluZ1BhcnR5TmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsaW5nUGFydHlOdW1iZXJcIjogXCJcIixcbiAgIFwibWVtYmVyQ291bnRcIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUucHV0UXVldWVzUXVldWVJZCA9IGZ1bmN0aW9uIHB1dFF1ZXVlc1F1ZXVlSWQocXVldWVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIHF1ZXVlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcXVldWVJZCAtIFF1ZXVlIElEXG4gICogQHBhcmFtIHtib29sZWFufSBmb3JjZURlbGV0ZSAtIGZvcmNlRGVsZXRlXG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5kZWxldGVRdWV1ZXNRdWV1ZUlkID0gZnVuY3Rpb24gZGVsZXRlUXVldWVzUXVldWVJZChxdWV1ZUlkLCBmb3JjZURlbGV0ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJmb3JjZURlbGV0ZVwiXSA9IGZvcmNlRGVsZXRlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCByZWNlbnQgY29udmVyc2F0aW9ucyB0aGF0IGFyZSBzdGlsbCBhY3RpdmVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRDb252ZXJzYXRpb25zID0gZnVuY3Rpb24gZ2V0UXVldWVzUXVldWVJZENvbnZlcnNhdGlvbnMocXVldWVJZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvcXVldWVzL3txdWV1ZUlkfS9jb252ZXJzYXRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCByZWNlbnQgY2FsbGJhY2sgY29udmVyc2F0aW9ucyB0aGF0IGFyZSBzdGlsbCBhY3RpdmVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRDb252ZXJzYXRpb25zQ2FsbGJhY2tzID0gZnVuY3Rpb24gZ2V0UXVldWVzUXVldWVJZENvbnZlcnNhdGlvbnNDYWxsYmFja3MocXVldWVJZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvcXVldWVzL3txdWV1ZUlkfS9jb252ZXJzYXRpb25zL2NhbGxiYWNrcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHF1ZXVlSWQgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxdWV1ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3F1ZXVlSWR9JywgcXVldWVJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgcmVjZW50IGNhbGwgY29udmVyc2F0aW9ucyB0aGF0IGFyZSBzdGlsbCBhY3RpdmVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRDb252ZXJzYXRpb25zQ2FsbHMgPSBmdW5jdGlvbiBnZXRRdWV1ZXNRdWV1ZUlkQ29udmVyc2F0aW9uc0NhbGxzKHF1ZXVlSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3F1ZXVlcy97cXVldWVJZH0vY29udmVyc2F0aW9ucy9jYWxscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHF1ZXVlSWQgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxdWV1ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3F1ZXVlSWR9JywgcXVldWVJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgcmVjZW50IGNoYXQgY29udmVyc2F0aW9ucyB0aGF0IGFyZSBzdGlsbCBhY3RpdmVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRDb252ZXJzYXRpb25zQ2hhdHMgPSBmdW5jdGlvbiBnZXRRdWV1ZXNRdWV1ZUlkQ29udmVyc2F0aW9uc0NoYXRzKHF1ZXVlSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3F1ZXVlcy97cXVldWVJZH0vY29udmVyc2F0aW9ucy9jaGF0cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHF1ZXVlSWQgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxdWV1ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3F1ZXVlSWR9JywgcXVldWVJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgcmVjZW50IGVtYWlsIGNvbnZlcnNhdGlvbnMgdGhhdCBhcmUgc3RpbGwgYWN0aXZlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcXVldWVJZCAtIFF1ZXVlIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5nZXRRdWV1ZXNRdWV1ZUlkQ29udmVyc2F0aW9uc0VtYWlscyA9IGZ1bmN0aW9uIGdldFF1ZXVlc1F1ZXVlSWRDb252ZXJzYXRpb25zRW1haWxzKHF1ZXVlSWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3F1ZXVlcy97cXVldWVJZH0vY29udmVyc2F0aW9ucy9lbWFpbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxdWV1ZUlkID09PSB1bmRlZmluZWQgfHwgcXVldWVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcXVldWVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3txdWV1ZUlkfScsIHF1ZXVlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IEVzdGltYXRlZCBXYWl0IFRpbWVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gcXVldWVJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb252ZXJzYXRpb25JZCAtIGNvbnZlcnNhdGlvbklkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRFc3RpbWF0ZWR3YWl0dGltZSA9IGZ1bmN0aW9uIGdldFF1ZXVlc1F1ZXVlSWRFc3RpbWF0ZWR3YWl0dGltZShxdWV1ZUlkLCBjb252ZXJzYXRpb25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9L2VzdGltYXRlZHdhaXR0aW1lJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJjb252ZXJzYXRpb25JZFwiXSA9IGNvbnZlcnNhdGlvbklkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbWVtYmVycyBvZiB0aGlzIHF1ZXVlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcXVldWVJZCAtIFF1ZXVlIElEXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSBXaGljaCBmaWVsZHMsIGlmIGFueSwgdG8gZXhwYW5kLiBWYWxpZCBWYWx1ZXM6IHJvdXRpbmdTdGF0dXMsIHByZXNlbmNlLCBjb252ZXJzYXRpb25TdW1tYXJ5LCBvdXRPZk9mZmljZSwgZ2VvbG9jYXRpb24sIHN0YXRpb24sIGF1dGhvcml6YXRpb24sIHByb2ZpbGVTa2lsbHMsIGRhdGUsIGdlb2xvY2F0aW9uc2V0dGluZ3MsIG9yZ2FuaXphdGlvbiwgcHJlc2VuY2VkZWZpbml0aW9ucywgbG9jYXRpb25zXG4gICogQHBhcmFtIHtib29sZWFufSBqb2luZWQgLSBGaWx0ZXIgYnkgam9pbmVkIHN0YXR1c1xuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gRmlsdGVyIGJ5IHF1ZXVlIG1lbWJlciBuYW1lXG4gICogQHBhcmFtIHthcnJheX0gc2tpbGxzIC0gRmlsdGVyIGJ5IHNraWxsXG4gICogQHBhcmFtIHthcnJheX0gbGFuZ3VhZ2VzIC0gRmlsdGVyIGJ5IGxhbmd1YWdlXG4gICogQHBhcmFtIHthcnJheX0gcm91dGluZ1N0YXR1cyAtIEZpbHRlciBieSByb3V0aW5nIHN0YXR1c1xuICAqIEBwYXJhbSB7YXJyYXl9IHByZXNlbmNlIC0gRmlsdGVyIGJ5IHByZXNlbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5nZXRRdWV1ZXNRdWV1ZUlkVXNlcnMgPSBmdW5jdGlvbiBnZXRRdWV1ZXNRdWV1ZUlkVXNlcnMocXVldWVJZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIsIHNvcnRCeSwgZXhwYW5kLCBqb2luZWQsIG5hbWUsIHNraWxscywgbGFuZ3VhZ2VzLCByb3V0aW5nU3RhdHVzLCBwcmVzZW5jZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9L3VzZXJzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiam9pbmVkXCJdID0gam9pbmVkO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5hbWVcIl0gPSBuYW1lO1xuICAgIHJlcXVlc3RRdWVyeVtcInNraWxsc1wiXSA9IHNraWxscztcbiAgICByZXF1ZXN0UXVlcnlbXCJsYW5ndWFnZXNcIl0gPSBsYW5ndWFnZXM7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicm91dGluZ1N0YXR1c1wiXSA9IHJvdXRpbmdTdGF0dXM7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJlc2VuY2VcIl0gPSBwcmVzZW5jZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBCdWxrIGFkZCBvciBkZWxldGUgdXAgdG8gMTAwIHF1ZXVlIG1lbWJlcnNcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFF1ZXVlIE1lbWJlcnNcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRGVsZXRlIC0gVHJ1ZSB0byBkZWxldGUgcXVldWUgbWVtYmVyc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwibmFtZVwiOiBcIlwiLFxuICBcInVzZXJcIjoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNoYXRcIjoge30sXG4gICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgIFwiZW1haWxcIjogXCJcIixcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgXCJpbWFnZXNcIjogW10sXG4gICBcInZlcnNpb25cIjogMFxuICB9LFxuICBcInJpbmdOdW1iZXJcIjogMCxcbiAgXCJqb2luZWRcIjogdHJ1ZSxcbiAgXCJtZW1iZXJCeVwiOiBcIlwiLFxuICBcInJvdXRpbmdTdGF0dXNcIjoge1xuICAgXCJ1c2VySWRcIjogXCJcIixcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiXG4gIH1cbiB9XG5dXG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wb3N0UXVldWVzUXVldWVJZFVzZXJzID0gZnVuY3Rpb24gcG9zdFF1ZXVlc1F1ZXVlSWRVc2VycyhxdWV1ZUlkLCBib2R5LCBkb0RlbGV0ZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9L3VzZXJzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcImRlbGV0ZVwiXSA9IGRvRGVsZXRlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBKb2luIG9yIHVuam9pbiBhIHNldCBvZiB1c2VycyBmb3IgYSBxdWV1ZVxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHF1ZXVlSWQgLSBRdWV1ZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUXVldWUgTWVtYmVyc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwibmFtZVwiOiBcIlwiLFxuICBcInVzZXJcIjoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNoYXRcIjoge30sXG4gICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgIFwiZW1haWxcIjogXCJcIixcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgXCJpbWFnZXNcIjogW10sXG4gICBcInZlcnNpb25cIjogMFxuICB9LFxuICBcInJpbmdOdW1iZXJcIjogMCxcbiAgXCJqb2luZWRcIjogdHJ1ZSxcbiAgXCJtZW1iZXJCeVwiOiBcIlwiLFxuICBcInJvdXRpbmdTdGF0dXNcIjoge1xuICAgXCJ1c2VySWRcIjogXCJcIixcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiXG4gIH1cbiB9XG5dXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wYXRjaFF1ZXVlc1F1ZXVlSWRVc2VycyA9IGZ1bmN0aW9uIHBhdGNoUXVldWVzUXVldWVJZFVzZXJzKHF1ZXVlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvcXVldWVzL3txdWV1ZUlkfS91c2Vycyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHF1ZXVlSWQgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxdWV1ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3F1ZXVlSWR9JywgcXVldWVJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBxdWV1ZSBtZW1iZXJcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVtYmVySWQgLSBNZW1iZXIgSURcbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZVF1ZXVlc1F1ZXVlSWRVc2Vyc01lbWJlcklkID0gZnVuY3Rpb24gZGVsZXRlUXVldWVzUXVldWVJZFVzZXJzTWVtYmVySWQocXVldWVJZCwgbWVtYmVySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvcXVldWVzL3txdWV1ZUlkfS91c2Vycy97bWVtYmVySWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICBpZihtZW1iZXJJZCA9PT0gdW5kZWZpbmVkIHx8IG1lbWJlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBtZW1iZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3ttZW1iZXJJZH0nLCBtZW1iZXJJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSByaW5nIG51bWJlciBvZiBqb2luZWQgc3RhdHVzIGZvciBhIFVzZXIgaW4gYSBRdWV1ZVxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHF1ZXVlSWQgLSBRdWV1ZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBtZW1iZXJJZCAtIE1lbWJlciBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUXVldWUgTWVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfSxcbiAgIFwicmluZ051bWJlclwiOiAwLFxuICAgXCJqb2luZWRcIjogdHJ1ZSxcbiAgIFwibWVtYmVyQnlcIjogXCJcIixcbiAgIFwicm91dGluZ1N0YXR1c1wiOiB7XG4gICAgICBcInVzZXJJZFwiOiBcIlwiLFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCJcbiAgIH1cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ1c2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJyaW5nTnVtYmVyXCI6IDAsXG4gICBcImpvaW5lZFwiOiB0cnVlLFxuICAgXCJtZW1iZXJCeVwiOiBcIlwiLFxuICAgXCJyb3V0aW5nU3RhdHVzXCI6IHtcbiAgICAgIFwidXNlcklkXCI6IFwiXCIsXG4gICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wYXRjaFF1ZXVlc1F1ZXVlSWRVc2Vyc01lbWJlcklkID0gZnVuY3Rpb24gcGF0Y2hRdWV1ZXNRdWV1ZUlkVXNlcnNNZW1iZXJJZChxdWV1ZUlkLCBtZW1iZXJJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9L3VzZXJzL3ttZW1iZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxdWV1ZUlkID09PSB1bmRlZmluZWQgfHwgcXVldWVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcXVldWVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3txdWV1ZUlkfScsIHF1ZXVlSWQpO1xuICAgIGlmKG1lbWJlcklkID09PSB1bmRlZmluZWQgfHwgbWVtYmVySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG1lbWJlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne21lbWJlcklkfScsIG1lbWJlcklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSB3cmFwLXVwIGNvZGVzIGZvciBhIHF1ZXVlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcXVldWVJZCAtIFF1ZXVlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGNvZGVJZCAtIENvZGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFF1ZXVlc1F1ZXVlSWRXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIGdldFF1ZXVlc1F1ZXVlSWRXcmFwdXBjb2RlcyhxdWV1ZUlkLCBjb2RlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvcXVldWVzL3txdWV1ZUlkfS93cmFwdXBjb2Rlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHF1ZXVlSWQgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxdWV1ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3F1ZXVlSWR9JywgcXVldWVJZCk7XG4gICAgaWYoY29kZUlkID09PSB1bmRlZmluZWQgfHwgY29kZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2RlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29kZUlkfScsIGNvZGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQWRkIHVwIHRvIDEwMCB3cmFwLXVwIGNvZGVzIHRvIGEgcXVldWVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29kZUlkIC0gQ29kZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTGlzdCBvZiB3cmFwdXAgY29kZXNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcIm5hbWVcIjogXCJcIixcbiAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgXCJjcmVhdGVkQnlcIjogXCJcIlxuIH1cbl1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gIFwic2VsZlVyaVwiOiBcIlwiXG4gfVxuXVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUucG9zdFF1ZXVlc1F1ZXVlSWRXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIHBvc3RRdWV1ZXNRdWV1ZUlkV3JhcHVwY29kZXMocXVldWVJZCwgY29kZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3F1ZXVlcy97cXVldWVJZH0vd3JhcHVwY29kZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxdWV1ZUlkID09PSB1bmRlZmluZWQgfHwgcXVldWVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcXVldWVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3txdWV1ZUlkfScsIHF1ZXVlSWQpO1xuICAgIGlmKGNvZGVJZCA9PT0gdW5kZWZpbmVkIHx8IGNvZGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29kZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvZGVJZH0nLCBjb2RlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIHdyYXAtdXAgY29kZSBmcm9tIGEgcXVldWVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29kZUlkIC0gQ29kZSBJRFxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZGVsZXRlUXVldWVzUXVldWVJZFdyYXB1cGNvZGVzQ29kZUlkID0gZnVuY3Rpb24gZGVsZXRlUXVldWVzUXVldWVJZFdyYXB1cGNvZGVzQ29kZUlkKHF1ZXVlSWQsIGNvZGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9xdWV1ZXMve3F1ZXVlSWR9L3dyYXB1cGNvZGVzL3tjb2RlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocXVldWVJZCA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHF1ZXVlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cXVldWVJZH0nLCBxdWV1ZUlkKTtcbiAgICBpZihjb2RlSWQgPT09IHVuZGVmaW5lZCB8fCBjb2RlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNvZGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjb2RlSWR9JywgY29kZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGxpc3Qgb2Ygcm91dGluZyBza2lsbHMuXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFNraWxscyA9IGZ1bmN0aW9uIGdldFNraWxscyhwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy9za2lsbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBTa2lsbFxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTa2lsbFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wb3N0U2tpbGxzID0gZnVuY3Rpb24gcG9zdFNraWxscyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3NraWxscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBSb3V0aW5nIFNraWxsXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2tpbGxJZCAtIFNraWxsIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5nZXRTa2lsbHNTa2lsbElkID0gZnVuY3Rpb24gZ2V0U2tpbGxzU2tpbGxJZChza2lsbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3NraWxscy97c2tpbGxJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihza2lsbElkID09PSB1bmRlZmluZWQgfHwgc2tpbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2tpbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tza2lsbElkfScsIHNraWxsSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBSb3V0aW5nIFNraWxsXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2tpbGxJZCAtIFNraWxsIElEXG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5kZWxldGVTa2lsbHNTa2lsbElkID0gZnVuY3Rpb24gZGVsZXRlU2tpbGxzU2tpbGxJZChza2lsbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3NraWxscy97c2tpbGxJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihza2lsbElkID09PSB1bmRlZmluZWQgfHwgc2tpbGxJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2tpbGxJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tza2lsbElkfScsIHNraWxsSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgdXRpbGl6YXRpb24gc2V0dGluZ3MuXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidXRpbGl6YXRpb25cIjoge31cbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmdldFV0aWxpemF0aW9uID0gZnVuY3Rpb24gZ2V0VXRpbGl6YXRpb24oKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3V0aWxpemF0aW9uJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSB1dGlsaXphdGlvbiBzZXR0aW5ncy5cbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gdXRpbGl6YXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInV0aWxpemF0aW9uXCI6IHt9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInV0aWxpemF0aW9uXCI6IHt9XG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wdXRVdGlsaXphdGlvbiA9IGZ1bmN0aW9uIHB1dFV0aWxpemF0aW9uKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvdXRpbGl6YXRpb24nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSB1dGlsaXphdGlvbiBzZXR0aW5ncyBhbmQgcmV2ZXJ0IHRvIHN5c3RlbSBkZWZhdWx0cy5cbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZGVsZXRlVXRpbGl6YXRpb24gPSBmdW5jdGlvbiBkZWxldGVVdGlsaXphdGlvbigpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3JvdXRpbmcvdXRpbGl6YXRpb24nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbGlzdCBvZiB3cmFwdXAgY29kZXMuXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gU29ydCBieVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUuZ2V0V3JhcHVwY29kZXMgPSBmdW5jdGlvbiBnZXRXcmFwdXBjb2RlcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3dyYXB1cGNvZGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgd3JhcC11cCBjb2RlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFdyYXB1cENvZGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJjYWxsYWJsZVRpbWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLnBvc3RXcmFwdXBjb2RlcyA9IGZ1bmN0aW9uIHBvc3RXcmFwdXBjb2Rlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3dyYXB1cGNvZGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGRldGFpbHMgYWJvdXQgdGhpcyB3cmFwLXVwIGNvZGUuXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29kZUlkIC0gV3JhcHVwIENvZGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5nZXRXcmFwdXBjb2Rlc0NvZGVJZCA9IGZ1bmN0aW9uIGdldFdyYXB1cGNvZGVzQ29kZUlkKGNvZGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvcm91dGluZy93cmFwdXBjb2Rlcy97Y29kZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNvZGVJZCA9PT0gdW5kZWZpbmVkIHx8IGNvZGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY29kZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NvZGVJZH0nLCBjb2RlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSB3cmFwLXVwIGNvZGVcbiAgKiBAbWVtYmVyT2YgUm91dGluZ0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlSWQgLSBXcmFwdXAgQ29kZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gV3JhcHVwQ29kZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLnB1dFdyYXB1cGNvZGVzQ29kZUlkID0gZnVuY3Rpb24gcHV0V3JhcHVwY29kZXNDb2RlSWQoY29kZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3dyYXB1cGNvZGVzL3tjb2RlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29kZUlkID09PSB1bmRlZmluZWQgfHwgY29kZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2RlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29kZUlkfScsIGNvZGVJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgd3JhcC11cCBjb2RlXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY29kZUlkIC0gV3JhcHVwIENvZGUgSURcbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZVdyYXB1cGNvZGVzQ29kZUlkID0gZnVuY3Rpb24gZGVsZXRlV3JhcHVwY29kZXNDb2RlSWQoY29kZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9yb3V0aW5nL3dyYXB1cGNvZGVzL3tjb2RlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY29kZUlkID09PSB1bmRlZmluZWQgfHwgY29kZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjb2RlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y29kZUlkfScsIGNvZGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgTGlzdCByb3V0aW5nIHNraWxscyBmb3IgdXNlclxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gQXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcgc29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5nZXRVc2VySWRSb3V0aW5nc2tpbGxzID0gZnVuY3Rpb24gZ2V0VXNlcklkUm91dGluZ3NraWxscyh1c2VySWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvdXRpbmdza2lsbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgcm91dGluZyBza2lsbCB0byB1c2VyXG4gICogQG1lbWJlck9mIFJvdXRpbmdBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gU2tpbGxcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicHJvZmljaWVuY3lcIjoge30sXG4gICBcInN0YXRlXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJwcm9maWNpZW5jeVwiOiB7fSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwic2tpbGxVcmlcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Sb3V0aW5nQXBpLnByb3RvdHlwZS5wb3N0VXNlcklkUm91dGluZ3NraWxscyA9IGZ1bmN0aW9uIHBvc3RVc2VySWRSb3V0aW5nc2tpbGxzKHVzZXJJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vcm91dGluZ3NraWxscyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSByb3V0aW5nIHNraWxsIHByb2ZpY2llbmN5IG9yIHN0YXRlLlxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2tpbGxJZCAtIHNraWxsSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNraWxsXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInByb2ZpY2llbmN5XCI6IHt9LFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicHJvZmljaWVuY3lcIjoge30sXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNraWxsVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuUm91dGluZ0FwaS5wcm90b3R5cGUucHV0VXNlcklkUm91dGluZ3NraWxsc1NraWxsSWQgPSBmdW5jdGlvbiBwdXRVc2VySWRSb3V0aW5nc2tpbGxzU2tpbGxJZCh1c2VySWQsIHNraWxsSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvdXRpbmdza2lsbHMve3NraWxsSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoc2tpbGxJZCA9PT0gdW5kZWZpbmVkIHx8IHNraWxsSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNraWxsSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2tpbGxJZH0nLCBza2lsbElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlbW92ZSByb3V0aW5nIHNraWxsIGZyb20gdXNlclxuICAqIEBtZW1iZXJPZiBSb3V0aW5nQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2tpbGxJZCAtIHNraWxsSWRcbiAgKi9cblJvdXRpbmdBcGkucHJvdG90eXBlLmRlbGV0ZVVzZXJJZFJvdXRpbmdza2lsbHNTa2lsbElkID0gZnVuY3Rpb24gZGVsZXRlVXNlcklkUm91dGluZ3NraWxsc1NraWxsSWQodXNlcklkLCBza2lsbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb3V0aW5nc2tpbGxzL3tza2lsbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKHNraWxsSWQgPT09IHVuZGVmaW5lZCB8fCBza2lsbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBza2lsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NraWxsSWR9Jywgc2tpbGxJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRpbmdBcGk7XG4iLCIvKipcbiogQGNsYXNzIFNlYXJjaEFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5TZWFyY2hBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gU2VhcmNoQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBTZWFyY2hBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VhcmNoQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWFyY2hBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaCB1c2luZyBxNjRcbiAgKiBAbWVtYmVyT2YgU2VhcmNoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHE2NCAtIHE2NFxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIGV4cGFuZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblNlYXJjaEFwaS5wcm90b3R5cGUuZ2V0U2VhcmNoID0gZnVuY3Rpb24gZ2V0U2VhcmNoKHE2NCwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncm91cHMvc2VhcmNoJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocTY0ID09PSB1bmRlZmluZWQgfHwgcTY0ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxNjQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicTY0XCJdID0gcTY0O1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTZWFyY2hcbiAgKiBAbWVtYmVyT2YgU2VhcmNoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTZWFyY2ggcmVxdWVzdCBvcHRpb25zXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzb3J0T3JkZXJcIjogXCJcIixcbiAgIFwic29ydEJ5XCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicmV0dXJuRmllbGRzXCI6IFtdLFxuICAgXCJleHBhbmRcIjogW10sXG4gICBcInF1ZXJ5XCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuU2VhcmNoQXBpLnByb3RvdHlwZS5wb3N0U2VhcmNoID0gZnVuY3Rpb24gcG9zdFNlYXJjaChib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9ncm91cHMvc2VhcmNoJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VhcmNoIHVzaW5nIHE2NFxuICAqIEBtZW1iZXJPZiBTZWFyY2hBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcTY0IC0gcTY0XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gZXhwYW5kXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuU2VhcmNoQXBpLnByb3RvdHlwZS5nZXRTZWFyY2ggPSBmdW5jdGlvbiBnZXRTZWFyY2gocTY0LCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2xvY2F0aW9ucy9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxNjQgPT09IHVuZGVmaW5lZCB8fCBxNjQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHE2NCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJxNjRcIl0gPSBxNjQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaFxuICAqIEBtZW1iZXJPZiBTZWFyY2hBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNlYXJjaCByZXF1ZXN0IG9wdGlvbnNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNvcnRPcmRlclwiOiBcIlwiLFxuICAgXCJzb3J0QnlcIjogXCJcIixcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJyZXR1cm5GaWVsZHNcIjogW10sXG4gICBcImV4cGFuZFwiOiBbXSxcbiAgIFwicXVlcnlcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicHJldmlvdXNQYWdlXCI6IFwiXCIsXG4gICBcImN1cnJlbnRQYWdlXCI6IFwiXCIsXG4gICBcIm5leHRQYWdlXCI6IFwiXCIsXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5TZWFyY2hBcGkucHJvdG90eXBlLnBvc3RTZWFyY2ggPSBmdW5jdGlvbiBwb3N0U2VhcmNoKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2xvY2F0aW9ucy9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTZWFyY2ggdXNpbmcgcTY0XG4gICogQG1lbWJlck9mIFNlYXJjaEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxNjQgLSBxNjRcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSBleHBhbmRcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb2ZpbGUgLSBwcm9maWxlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH0sXG4gICBcImFnZ3JlZ2F0aW9uc1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH1cbn1cbiAgKi9cblNlYXJjaEFwaS5wcm90b3R5cGUuZ2V0U2VhcmNoID0gZnVuY3Rpb24gZ2V0U2VhcmNoKHE2NCwgZXhwYW5kLCBwcm9maWxlKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxNjQgPT09IHVuZGVmaW5lZCB8fCBxNjQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHE2NCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJxNjRcIl0gPSBxNjQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcInByb2ZpbGVcIl0gPSBwcm9maWxlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaFxuICAqIEBtZW1iZXJPZiBTZWFyY2hBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNlYXJjaCByZXF1ZXN0IG9wdGlvbnNcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb2ZpbGUgLSBwcm9maWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzb3J0T3JkZXJcIjogXCJcIixcbiAgIFwic29ydEJ5XCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicmV0dXJuRmllbGRzXCI6IFtdLFxuICAgXCJleHBhbmRcIjogW10sXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJxdWVyeVwiOiBbXSxcbiAgIFwiYWdncmVnYXRpb25zXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH0sXG4gICBcImFnZ3JlZ2F0aW9uc1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH1cbn1cbiAgKi9cblNlYXJjaEFwaS5wcm90b3R5cGUucG9zdFNlYXJjaCA9IGZ1bmN0aW9uIHBvc3RTZWFyY2goYm9keSwgcHJvZmlsZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvc2VhcmNoJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJwcm9maWxlXCJdID0gcHJvZmlsZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU3VnZ2VzdCB1c2luZyBxNjRcbiAgKiBAbWVtYmVyT2YgU2VhcmNoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHE2NCAtIHE2NFxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvZmlsZSAtIHByb2ZpbGVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicHJldmlvdXNQYWdlXCI6IFwiXCIsXG4gICBcImN1cnJlbnRQYWdlXCI6IFwiXCIsXG4gICBcIm5leHRQYWdlXCI6IFwiXCIsXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJyZXN1bHRzXCI6IHtcbiAgICAgIFwibm9kZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZmxvYXRcIjogdHJ1ZSxcbiAgICAgIFwib2JqZWN0XCI6IHRydWUsXG4gICAgICBcImJvb2xlYW5cIjogdHJ1ZSxcbiAgICAgIFwibnVtYmVyXCI6IHRydWUsXG4gICAgICBcInZhbHVlTm9kZVwiOiB0cnVlLFxuICAgICAgXCJjb250YWluZXJOb2RlXCI6IHRydWUsXG4gICAgICBcIm1pc3NpbmdOb2RlXCI6IHRydWUsXG4gICAgICBcInBvam9cIjogdHJ1ZSxcbiAgICAgIFwiaW50ZWdyYWxOdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwiZmxvYXRpbmdQb2ludE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJzaG9ydFwiOiB0cnVlLFxuICAgICAgXCJpbnRcIjogdHJ1ZSxcbiAgICAgIFwibG9uZ1wiOiB0cnVlLFxuICAgICAgXCJkb3VibGVcIjogdHJ1ZSxcbiAgICAgIFwiYmlnRGVjaW1hbFwiOiB0cnVlLFxuICAgICAgXCJiaWdJbnRlZ2VyXCI6IHRydWUsXG4gICAgICBcInRleHR1YWxcIjogdHJ1ZSxcbiAgICAgIFwiYmluYXJ5XCI6IHRydWUsXG4gICAgICBcImFycmF5XCI6IHRydWUsXG4gICAgICBcIm51bGxcIjogdHJ1ZVxuICAgfSxcbiAgIFwiYWdncmVnYXRpb25zXCI6IHtcbiAgICAgIFwibm9kZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZmxvYXRcIjogdHJ1ZSxcbiAgICAgIFwib2JqZWN0XCI6IHRydWUsXG4gICAgICBcImJvb2xlYW5cIjogdHJ1ZSxcbiAgICAgIFwibnVtYmVyXCI6IHRydWUsXG4gICAgICBcInZhbHVlTm9kZVwiOiB0cnVlLFxuICAgICAgXCJjb250YWluZXJOb2RlXCI6IHRydWUsXG4gICAgICBcIm1pc3NpbmdOb2RlXCI6IHRydWUsXG4gICAgICBcInBvam9cIjogdHJ1ZSxcbiAgICAgIFwiaW50ZWdyYWxOdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwiZmxvYXRpbmdQb2ludE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJzaG9ydFwiOiB0cnVlLFxuICAgICAgXCJpbnRcIjogdHJ1ZSxcbiAgICAgIFwibG9uZ1wiOiB0cnVlLFxuICAgICAgXCJkb3VibGVcIjogdHJ1ZSxcbiAgICAgIFwiYmlnRGVjaW1hbFwiOiB0cnVlLFxuICAgICAgXCJiaWdJbnRlZ2VyXCI6IHRydWUsXG4gICAgICBcInRleHR1YWxcIjogdHJ1ZSxcbiAgICAgIFwiYmluYXJ5XCI6IHRydWUsXG4gICAgICBcImFycmF5XCI6IHRydWUsXG4gICAgICBcIm51bGxcIjogdHJ1ZVxuICAgfVxufVxuICAqL1xuU2VhcmNoQXBpLnByb3RvdHlwZS5nZXRTdWdnZXN0ID0gZnVuY3Rpb24gZ2V0U3VnZ2VzdChxNjQsIHByb2ZpbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3NlYXJjaC9zdWdnZXN0JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocTY0ID09PSB1bmRlZmluZWQgfHwgcTY0ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxNjQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicTY0XCJdID0gcTY0O1xuICAgIHJlcXVlc3RRdWVyeVtcInByb2ZpbGVcIl0gPSBwcm9maWxlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFN1Z2dlc3RcbiAgKiBAbWVtYmVyT2YgU2VhcmNoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTZWFyY2ggcmVxdWVzdCBvcHRpb25zXG4gICogQHBhcmFtIHtib29sZWFufSBwcm9maWxlIC0gcHJvZmlsZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInF1ZXJ5XCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH0sXG4gICBcImFnZ3JlZ2F0aW9uc1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH1cbn1cbiAgKi9cblNlYXJjaEFwaS5wcm90b3R5cGUucG9zdFN1Z2dlc3QgPSBmdW5jdGlvbiBwb3N0U3VnZ2VzdChib2R5LCBwcm9maWxlKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9zZWFyY2gvc3VnZ2VzdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvZmlsZVwiXSA9IHByb2ZpbGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaCB1c2luZyBxNjRcbiAgKiBAbWVtYmVyT2YgU2VhcmNoQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHE2NCAtIHE2NFxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIGV4cGFuZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblNlYXJjaEFwaS5wcm90b3R5cGUuZ2V0U2VhcmNoID0gZnVuY3Rpb24gZ2V0U2VhcmNoKHE2NCwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy9zZWFyY2gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxNjQgPT09IHVuZGVmaW5lZCB8fCBxNjQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHE2NCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJxNjRcIl0gPSBxNjQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNlYXJjaFxuICAqIEBtZW1iZXJPZiBTZWFyY2hBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNlYXJjaCByZXF1ZXN0IG9wdGlvbnNcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInNvcnRPcmRlclwiOiBcIlwiLFxuICAgXCJzb3J0QnlcIjogXCJcIixcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJyZXR1cm5GaWVsZHNcIjogW10sXG4gICBcImV4cGFuZFwiOiBbXSxcbiAgIFwicXVlcnlcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwicGFnZUNvdW50XCI6IDAsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicHJldmlvdXNQYWdlXCI6IFwiXCIsXG4gICBcImN1cnJlbnRQYWdlXCI6IFwiXCIsXG4gICBcIm5leHRQYWdlXCI6IFwiXCIsXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5TZWFyY2hBcGkucHJvdG90eXBlLnBvc3RTZWFyY2ggPSBmdW5jdGlvbiBwb3N0U2VhcmNoKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hBcGk7XG4iLCIvKipcbiogQGNsYXNzIFN0YXRpb25zQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlN0YXRpb25zQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFN0YXRpb25zQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBTdGF0aW9uc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0aW9uc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhdGlvbnNBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBhdmFpbGFibGUgc3RhdGlvbnMuXG4gICogQG1lbWJlck9mIFN0YXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAcGFyYW0ge3N0cmluZ30gbGluZUFwcGVhcmFuY2VJZCAtIGxpbmVBcHBlYXJhbmNlSWRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblN0YXRpb25zQXBpLnByb3RvdHlwZS5nZXRTdGF0aW9ucyA9IGZ1bmN0aW9uIGdldFN0YXRpb25zKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0QnksIG5hbWUsIGxpbmVBcHBlYXJhbmNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3N0YXRpb25zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibGluZUFwcGVhcmFuY2VJZFwiXSA9IGxpbmVBcHBlYXJhbmNlSWQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHN0YXRpb24uXG4gICogQG1lbWJlck9mIFN0YXRpb25zQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHN0YXRpb25JZCAtIFN0YXRpb24gSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJzdGF0dXNcIjogXCJcIixcbiAgIFwidXNlcklkXCI6IFwiXCIsXG4gICBcInByaW1hcnlFZGdlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlY29uZGFyeUVkZ2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJsaW5lQXBwZWFyYW5jZUlkXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuU3RhdGlvbnNBcGkucHJvdG90eXBlLmdldFN0YXRpb25JZCA9IGZ1bmN0aW9uIGdldFN0YXRpb25JZChzdGF0aW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3N0YXRpb25zL3tzdGF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc3RhdGlvbklkID09PSB1bmRlZmluZWQgfHwgc3RhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzdGF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c3RhdGlvbklkfScsIHN0YXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVW5hc3NpZ25zIHRoZSB1c2VyIGFzc2lnbmVkIHRvIHRoaXMgc3RhdGlvblxuICAqIEBtZW1iZXJPZiBTdGF0aW9uc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0aW9uSWQgLSBTdGF0aW9uIElEXG4gICovXG5TdGF0aW9uc0FwaS5wcm90b3R5cGUuZGVsZXRlU3RhdGlvbklkQXNzb2NpYXRlZHVzZXIgPSBmdW5jdGlvbiBkZWxldGVTdGF0aW9uSWRBc3NvY2lhdGVkdXNlcihzdGF0aW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3N0YXRpb25zL3tzdGF0aW9uSWR9L2Fzc29jaWF0ZWR1c2VyJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc3RhdGlvbklkID09PSB1bmRlZmluZWQgfHwgc3RhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzdGF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c3RhdGlvbklkfScsIHN0YXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRpb25zQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBTdWdnZXN0QXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlN1Z2dlc3RBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gU3VnZ2VzdEFwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgU3VnZ2VzdEFwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWdnZXN0QXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWdnZXN0QXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBTZWFyY2ggdXNpbmcgcTY0XG4gICogQG1lbWJlck9mIFN1Z2dlc3RBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcTY0IC0gcTY0XG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gZXhwYW5kXG4gICogQHBhcmFtIHtib29sZWFufSBwcm9maWxlIC0gcHJvZmlsZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9LFxuICAgXCJhZ2dyZWdhdGlvbnNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9XG59XG4gICovXG5TdWdnZXN0QXBpLnByb3RvdHlwZS5nZXRTZWFyY2ggPSBmdW5jdGlvbiBnZXRTZWFyY2gocTY0LCBleHBhbmQsIHByb2ZpbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHE2NCA9PT0gdW5kZWZpbmVkIHx8IHE2NCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcTY0Jyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInE2NFwiXSA9IHE2NDtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvZmlsZVwiXSA9IHByb2ZpbGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VhcmNoXG4gICogQG1lbWJlck9mIFN1Z2dlc3RBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNlYXJjaCByZXF1ZXN0IG9wdGlvbnNcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb2ZpbGUgLSBwcm9maWxlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzb3J0T3JkZXJcIjogXCJcIixcbiAgIFwic29ydEJ5XCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicmV0dXJuRmllbGRzXCI6IFtdLFxuICAgXCJleHBhbmRcIjogW10sXG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJxdWVyeVwiOiBbXSxcbiAgIFwiYWdncmVnYXRpb25zXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH0sXG4gICBcImFnZ3JlZ2F0aW9uc1wiOiB7XG4gICAgICBcIm5vZGVUeXBlXCI6IFwiXCIsXG4gICAgICBcImZsb2F0XCI6IHRydWUsXG4gICAgICBcIm9iamVjdFwiOiB0cnVlLFxuICAgICAgXCJib29sZWFuXCI6IHRydWUsXG4gICAgICBcIm51bWJlclwiOiB0cnVlLFxuICAgICAgXCJ2YWx1ZU5vZGVcIjogdHJ1ZSxcbiAgICAgIFwiY29udGFpbmVyTm9kZVwiOiB0cnVlLFxuICAgICAgXCJtaXNzaW5nTm9kZVwiOiB0cnVlLFxuICAgICAgXCJwb2pvXCI6IHRydWUsXG4gICAgICBcImludGVncmFsTnVtYmVyXCI6IHRydWUsXG4gICAgICBcImZsb2F0aW5nUG9pbnROdW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwic2hvcnRcIjogdHJ1ZSxcbiAgICAgIFwiaW50XCI6IHRydWUsXG4gICAgICBcImxvbmdcIjogdHJ1ZSxcbiAgICAgIFwiZG91YmxlXCI6IHRydWUsXG4gICAgICBcImJpZ0RlY2ltYWxcIjogdHJ1ZSxcbiAgICAgIFwiYmlnSW50ZWdlclwiOiB0cnVlLFxuICAgICAgXCJ0ZXh0dWFsXCI6IHRydWUsXG4gICAgICBcImJpbmFyeVwiOiB0cnVlLFxuICAgICAgXCJhcnJheVwiOiB0cnVlLFxuICAgICAgXCJudWxsXCI6IHRydWVcbiAgIH1cbn1cbiAgKi9cblN1Z2dlc3RBcGkucHJvdG90eXBlLnBvc3RTZWFyY2ggPSBmdW5jdGlvbiBwb3N0U2VhcmNoKGJvZHksIHByb2ZpbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicHJvZmlsZVwiXSA9IHByb2ZpbGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFN1Z2dlc3QgdXNpbmcgcTY0XG4gICogQG1lbWJlck9mIFN1Z2dlc3RBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcTY0IC0gcTY0XG4gICogQHBhcmFtIHtib29sZWFufSBwcm9maWxlIC0gcHJvZmlsZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9LFxuICAgXCJhZ2dyZWdhdGlvbnNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9XG59XG4gICovXG5TdWdnZXN0QXBpLnByb3RvdHlwZS5nZXRTdWdnZXN0ID0gZnVuY3Rpb24gZ2V0U3VnZ2VzdChxNjQsIHByb2ZpbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3NlYXJjaC9zdWdnZXN0JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocTY0ID09PSB1bmRlZmluZWQgfHwgcTY0ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBxNjQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wicTY0XCJdID0gcTY0O1xuICAgIHJlcXVlc3RRdWVyeVtcInByb2ZpbGVcIl0gPSBwcm9maWxlO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFN1Z2dlc3RcbiAgKiBAbWVtYmVyT2YgU3VnZ2VzdEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gU2VhcmNoIHJlcXVlc3Qgb3B0aW9uc1xuICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvZmlsZSAtIHByb2ZpbGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInR5cGVzXCI6IFtdLFxuICAgXCJxdWVyeVwiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9LFxuICAgXCJhZ2dyZWdhdGlvbnNcIjoge1xuICAgICAgXCJub2RlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJmbG9hdFwiOiB0cnVlLFxuICAgICAgXCJvYmplY3RcIjogdHJ1ZSxcbiAgICAgIFwiYm9vbGVhblwiOiB0cnVlLFxuICAgICAgXCJudW1iZXJcIjogdHJ1ZSxcbiAgICAgIFwidmFsdWVOb2RlXCI6IHRydWUsXG4gICAgICBcImNvbnRhaW5lck5vZGVcIjogdHJ1ZSxcbiAgICAgIFwibWlzc2luZ05vZGVcIjogdHJ1ZSxcbiAgICAgIFwicG9qb1wiOiB0cnVlLFxuICAgICAgXCJpbnRlZ3JhbE51bWJlclwiOiB0cnVlLFxuICAgICAgXCJmbG9hdGluZ1BvaW50TnVtYmVyXCI6IHRydWUsXG4gICAgICBcInNob3J0XCI6IHRydWUsXG4gICAgICBcImludFwiOiB0cnVlLFxuICAgICAgXCJsb25nXCI6IHRydWUsXG4gICAgICBcImRvdWJsZVwiOiB0cnVlLFxuICAgICAgXCJiaWdEZWNpbWFsXCI6IHRydWUsXG4gICAgICBcImJpZ0ludGVnZXJcIjogdHJ1ZSxcbiAgICAgIFwidGV4dHVhbFwiOiB0cnVlLFxuICAgICAgXCJiaW5hcnlcIjogdHJ1ZSxcbiAgICAgIFwiYXJyYXlcIjogdHJ1ZSxcbiAgICAgIFwibnVsbFwiOiB0cnVlXG4gICB9XG59XG4gICovXG5TdWdnZXN0QXBpLnByb3RvdHlwZS5wb3N0U3VnZ2VzdCA9IGZ1bmN0aW9uIHBvc3RTdWdnZXN0KGJvZHksIHByb2ZpbGUpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3NlYXJjaC9zdWdnZXN0JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJwcm9maWxlXCJdID0gcHJvZmlsZTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1Z2dlc3RBcGk7XG4iLCIvKipcbiogQGNsYXNzIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IExpc3RzIGF2YWlsYWJsZSBzY2hlbWEgY2F0ZWdvcmllc1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRTY2hlbWFzRWRnZXNWbmV4dCA9IGZ1bmN0aW9uIGdldFNjaGVtYXNFZGdlc1ZuZXh0KHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jb25maWd1cmF0aW9uL3NjaGVtYXMvZWRnZXMvdm5leHQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IExpc3Qgc2NoZW1hcyBvZiBhIHNwZWNpZmljIGNhdGVnb3J5XG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1hQ2F0ZWdvcnkgLSBTY2hlbWEgY2F0ZWdvcnlcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFNjaGVtYXNFZGdlc1ZuZXh0U2NoZW1hY2F0ZWdvcnkgPSBmdW5jdGlvbiBnZXRTY2hlbWFzRWRnZXNWbmV4dFNjaGVtYWNhdGVnb3J5KHNjaGVtYUNhdGVnb3J5LCBwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29uZmlndXJhdGlvbi9zY2hlbWFzL2VkZ2VzL3ZuZXh0L3tzY2hlbWFDYXRlZ29yeX0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzY2hlbWFDYXRlZ29yeSA9PT0gdW5kZWZpbmVkIHx8IHNjaGVtYUNhdGVnb3J5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlbWFDYXRlZ29yeScpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlbWFDYXRlZ29yeX0nLCBzY2hlbWFDYXRlZ29yeSk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBMaXN0IHNjaGVtYXMgb2YgYSBzcGVjaWZpYyBjYXRlZ29yeVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtYUNhdGVnb3J5IC0gU2NoZW1hIGNhdGVnb3J5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtYVR5cGUgLSBTY2hlbWEgdHlwZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0U2NoZW1hc0VkZ2VzVm5leHRTY2hlbWFjYXRlZ29yeVNjaGVtYXR5cGUgPSBmdW5jdGlvbiBnZXRTY2hlbWFzRWRnZXNWbmV4dFNjaGVtYWNhdGVnb3J5U2NoZW1hdHlwZShzY2hlbWFDYXRlZ29yeSwgc2NoZW1hVHlwZSwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2NvbmZpZ3VyYXRpb24vc2NoZW1hcy9lZGdlcy92bmV4dC97c2NoZW1hQ2F0ZWdvcnl9L3tzY2hlbWFUeXBlfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNjaGVtYUNhdGVnb3J5ID09PSB1bmRlZmluZWQgfHwgc2NoZW1hQ2F0ZWdvcnkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNjaGVtYUNhdGVnb3J5Jyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVtYUNhdGVnb3J5fScsIHNjaGVtYUNhdGVnb3J5KTtcbiAgICBpZihzY2hlbWFUeXBlID09PSB1bmRlZmluZWQgfHwgc2NoZW1hVHlwZSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2NoZW1hVHlwZScpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlbWFUeXBlfScsIHNjaGVtYVR5cGUpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEganNvbiBzY2hlbWFcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlbWFDYXRlZ29yeSAtIFNjaGVtYSBjYXRlZ29yeVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlbWFUeXBlIC0gU2NoZW1hIHR5cGVcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2NoZW1hSWQgLSBTY2hlbWEgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJ0aGlyZFBhcnR5T3JnSWRcIjogXCJcIixcbiAgIFwidGhpcmRQYXJ0eU9yZ05hbWVcIjogXCJcIixcbiAgIFwidGhpcmRQYXJ0eVVSSVwiOiBcIlwiLFxuICAgXCJkb21haW5cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJkZWZhdWx0U2l0ZUlkXCI6IFwiXCIsXG4gICBcImRlbGV0YWJsZVwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFNjaGVtYXNFZGdlc1ZuZXh0U2NoZW1hY2F0ZWdvcnlTY2hlbWF0eXBlU2NoZW1hSWQgPSBmdW5jdGlvbiBnZXRTY2hlbWFzRWRnZXNWbmV4dFNjaGVtYWNhdGVnb3J5U2NoZW1hdHlwZVNjaGVtYUlkKHNjaGVtYUNhdGVnb3J5LCBzY2hlbWFUeXBlLCBzY2hlbWFJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29uZmlndXJhdGlvbi9zY2hlbWFzL2VkZ2VzL3ZuZXh0L3tzY2hlbWFDYXRlZ29yeX0ve3NjaGVtYVR5cGV9L3tzY2hlbWFJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzY2hlbWFDYXRlZ29yeSA9PT0gdW5kZWZpbmVkIHx8IHNjaGVtYUNhdGVnb3J5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlbWFDYXRlZ29yeScpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlbWFDYXRlZ29yeX0nLCBzY2hlbWFDYXRlZ29yeSk7XG4gICAgaWYoc2NoZW1hVHlwZSA9PT0gdW5kZWZpbmVkIHx8IHNjaGVtYVR5cGUgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNjaGVtYVR5cGUnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2NoZW1hVHlwZX0nLCBzY2hlbWFUeXBlKTtcbiAgICBpZihzY2hlbWFJZCA9PT0gdW5kZWZpbmVkIHx8IHNjaGVtYUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzY2hlbWFJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlbWFJZH0nLCBzY2hlbWFJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IG1ldGFkYXRhIGZvciBhIHNjaGVtYVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtYUNhdGVnb3J5IC0gU2NoZW1hIGNhdGVnb3J5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNjaGVtYVR5cGUgLSBTY2hlbWEgdHlwZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzY2hlbWFJZCAtIFNjaGVtYSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb25UeXBlIC0gZXh0ZW5zaW9uXG4gICogQHBhcmFtIHtzdHJpbmd9IG1ldGFkYXRhSWQgLSBNZXRhZGF0YSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVHlwZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInRoaXJkUGFydHlPcmdJZFwiOiBcIlwiLFxuICAgXCJ0aGlyZFBhcnR5T3JnTmFtZVwiOiBcIlwiLFxuICAgXCJ0aGlyZFBhcnR5VVJJXCI6IFwiXCIsXG4gICBcImRvbWFpblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcImRlZmF1bHRTaXRlSWRcIjogXCJcIixcbiAgIFwiZGVsZXRhYmxlXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0U2NoZW1hc0VkZ2VzVm5leHRTY2hlbWFjYXRlZ29yeVNjaGVtYXR5cGVTY2hlbWFJZEV4dGVuc2lvbnR5cGVNZXRhZGF0YUlkID0gZnVuY3Rpb24gZ2V0U2NoZW1hc0VkZ2VzVm5leHRTY2hlbWFjYXRlZ29yeVNjaGVtYXR5cGVTY2hlbWFJZEV4dGVuc2lvbnR5cGVNZXRhZGF0YUlkKHNjaGVtYUNhdGVnb3J5LCBzY2hlbWFUeXBlLCBzY2hlbWFJZCwgZXh0ZW5zaW9uVHlwZSwgbWV0YWRhdGFJZCwgdHlwZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvY29uZmlndXJhdGlvbi9zY2hlbWFzL2VkZ2VzL3ZuZXh0L3tzY2hlbWFDYXRlZ29yeX0ve3NjaGVtYVR5cGV9L3tzY2hlbWFJZH0ve2V4dGVuc2lvblR5cGV9L3ttZXRhZGF0YUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNjaGVtYUNhdGVnb3J5ID09PSB1bmRlZmluZWQgfHwgc2NoZW1hQ2F0ZWdvcnkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNjaGVtYUNhdGVnb3J5Jyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVtYUNhdGVnb3J5fScsIHNjaGVtYUNhdGVnb3J5KTtcbiAgICBpZihzY2hlbWFUeXBlID09PSB1bmRlZmluZWQgfHwgc2NoZW1hVHlwZSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2NoZW1hVHlwZScpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzY2hlbWFUeXBlfScsIHNjaGVtYVR5cGUpO1xuICAgIGlmKHNjaGVtYUlkID09PSB1bmRlZmluZWQgfHwgc2NoZW1hSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNjaGVtYUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NjaGVtYUlkfScsIHNjaGVtYUlkKTtcbiAgICBpZihleHRlbnNpb25UeXBlID09PSB1bmRlZmluZWQgfHwgZXh0ZW5zaW9uVHlwZSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXh0ZW5zaW9uVHlwZScpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tleHRlbnNpb25UeXBlfScsIGV4dGVuc2lvblR5cGUpO1xuICAgIGlmKG1ldGFkYXRhSWQgPT09IHVuZGVmaW5lZCB8fCBtZXRhZGF0YUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBtZXRhZGF0YUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne21ldGFkYXRhSWR9JywgbWV0YWRhdGFJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1widHlwZVwiXSA9IHR5cGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIGVkZ2VzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IHNpdGVpZCAtIEZpbHRlciBieSBzaXRlLmlkXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VHcm91cGlkIC0gRmlsdGVyIGJ5IGVkZ2VHcm91cC5pZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlcyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBuYW1lLCBzaXRlaWQsIGVkZ2VHcm91cGlkLCBzb3J0Qnkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5hbWVcIl0gPSBuYW1lO1xuICAgIHJlcXVlc3RRdWVyeVtcInNpdGUuaWRcIl0gPSBzaXRlaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZWRnZUdyb3VwLmlkXCJdID0gZWRnZUdyb3VwaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhbiBlZGdlLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFZGdlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImludGVyZmFjZXNcIjogW10sXG4gICBcIm1ha2VcIjogXCJcIixcbiAgIFwibW9kZWxcIjogXCJcIixcbiAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgIFwicGF0Y2hcIjogXCJcIixcbiAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXVxuICAgfSxcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzb2Z0d2FyZVN0YXR1c1wiOiB7XG4gICAgICBcInZlcnNpb25cIjoge30sXG4gICAgICBcIm1heERvd25sb2FkUmF0ZVwiOiAwLFxuICAgICAgXCJkb3dubG9hZFN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJleGVjdXRlU3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVTdG9wVGltZVwiOiBcIlwiLFxuICAgICAgXCJleGVjdXRlT25JZGxlXCI6IHRydWUsXG4gICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICAgICBcImN1cnJlbnRcIjogdHJ1ZVxuICAgfSxcbiAgIFwib25saW5lU3RhdHVzXCI6IFwiXCIsXG4gICBcInNlcmlhbE51bWJlclwiOiBcIlwiLFxuICAgXCJwaHlzaWNhbEVkZ2VcIjogdHJ1ZSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJlZGdlRGVwbG95bWVudFR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImludGVyZmFjZXNcIjogW10sXG4gICBcIm1ha2VcIjogXCJcIixcbiAgIFwibW9kZWxcIjogXCJcIixcbiAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgIFwicGF0Y2hcIjogXCJcIixcbiAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNvZnR3YXJlU3RhdHVzXCI6IHtcbiAgICAgIFwidmVyc2lvblwiOiB7fSxcbiAgICAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICAgICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VVcmlcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFwiOiB0cnVlXG4gICB9LFxuICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlcyA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVmFsaWRhdGVzIGEgc3RyZWV0IGFkZHJlc3NcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gQWRkcmVzc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiYWRkcmVzc1wiOiB7XG4gICAgICBcImNvdW50cnlcIjogXCJcIixcbiAgICAgIFwiQTFcIjogXCJcIixcbiAgICAgIFwiQTNcIjogXCJcIixcbiAgICAgIFwiUkRcIjogXCJcIixcbiAgICAgIFwiSE5PXCI6IFwiXCIsXG4gICAgICBcIkxPQ1wiOiBcIlwiLFxuICAgICAgXCJOQU1cIjogXCJcIixcbiAgICAgIFwiUENcIjogXCJcIlxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ2YWxpZFwiOiB0cnVlLFxuICAgXCJyZXNwb25zZVwiOiB7XG4gICAgICBcIm1lc3NhZ2VSZXR1cm5lZFwiOiBbXSxcbiAgICAgIFwic3RhdHVzXCI6IFwiXCJcbiAgIH1cbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0FkZHJlc3N2YWxpZGF0aW9uID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzQWRkcmVzc3ZhbGlkYXRpb24oYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9hZGRyZXNzdmFsaWRhdGlvbic7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbGFuZ3VhZ2VzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImxhbmd1YWdlc1wiOiBbXVxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNBdmFpbGFibGVsYW5ndWFnZXMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0F2YWlsYWJsZWxhbmd1YWdlcygpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvYXZhaWxhYmxlbGFuZ3VhZ2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIGNlcnRpZmljYXRlIGF1dGhvcml0aWVzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0NlcnRpZmljYXRlYXV0aG9yaXRpZXMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0NlcnRpZmljYXRlYXV0aG9yaXRpZXMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2NlcnRpZmljYXRlYXV0aG9yaXRpZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBjZXJ0aWZpY2F0ZSBhdXRob3JpdHkuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIENlcnRpZmljYXRlQXV0aG9yaXR5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNlcnRpZmljYXRlXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwic2VydmljZXNcIjogW10sXG4gICBcImNlcnRpZmljYXRlRGV0YWlsc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNlcnRpZmljYXRlXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwic2VydmljZXNcIjogW10sXG4gICBcImNlcnRpZmljYXRlRGV0YWlsc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNDZXJ0aWZpY2F0ZWF1dGhvcml0aWVzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzQ2VydGlmaWNhdGVhdXRob3JpdGllcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2NlcnRpZmljYXRlYXV0aG9yaXRpZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBjZXJ0aWZpY2F0ZSBhdXRob3JpdHkuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2VydGlmaWNhdGVJZCAtIENlcnRpZmljYXRlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwiY2VydGlmaWNhdGVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJzZXJ2aWNlc1wiOiBbXSxcbiAgIFwiY2VydGlmaWNhdGVEZXRhaWxzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzQ2VydGlmaWNhdGVhdXRob3JpdGllc0NlcnRpZmljYXRlSWQgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0NlcnRpZmljYXRlYXV0aG9yaXRpZXNDZXJ0aWZpY2F0ZUlkKGNlcnRpZmljYXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvY2VydGlmaWNhdGVhdXRob3JpdGllcy97Y2VydGlmaWNhdGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihjZXJ0aWZpY2F0ZUlkID09PSB1bmRlZmluZWQgfHwgY2VydGlmaWNhdGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2VydGlmaWNhdGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjZXJ0aWZpY2F0ZUlkfScsIGNlcnRpZmljYXRlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIGNlcnRpZmljYXRlIGF1dGhvcml0eS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBjZXJ0aWZpY2F0ZUlkIC0gQ2VydGlmaWNhdGUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIENlcnRpZmljYXRlIGF1dGhvcml0eVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcInNlcnZpY2VzXCI6IFtdLFxuICAgXCJjZXJ0aWZpY2F0ZURldGFpbHNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjZXJ0aWZpY2F0ZVwiOiBcIlwiLFxuICAgXCJ0eXBlXCI6IFwiXCIsXG4gICBcInNlcnZpY2VzXCI6IFtdLFxuICAgXCJjZXJ0aWZpY2F0ZURldGFpbHNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucHV0UHJvdmlkZXJzRWRnZXNDZXJ0aWZpY2F0ZWF1dGhvcml0aWVzQ2VydGlmaWNhdGVJZCA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVyc0VkZ2VzQ2VydGlmaWNhdGVhdXRob3JpdGllc0NlcnRpZmljYXRlSWQoY2VydGlmaWNhdGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9jZXJ0aWZpY2F0ZWF1dGhvcml0aWVzL3tjZXJ0aWZpY2F0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGNlcnRpZmljYXRlSWQgPT09IHVuZGVmaW5lZCB8fCBjZXJ0aWZpY2F0ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjZXJ0aWZpY2F0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2NlcnRpZmljYXRlSWR9JywgY2VydGlmaWNhdGVJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBjZXJ0aWZpY2F0ZSBhdXRob3JpdHkuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gY2VydGlmaWNhdGVJZCAtIENlcnRpZmljYXRlIElEXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5kZWxldGVQcm92aWRlcnNFZGdlc0NlcnRpZmljYXRlYXV0aG9yaXRpZXNDZXJ0aWZpY2F0ZUlkID0gZnVuY3Rpb24gZGVsZXRlUHJvdmlkZXJzRWRnZXNDZXJ0aWZpY2F0ZWF1dGhvcml0aWVzQ2VydGlmaWNhdGVJZChjZXJ0aWZpY2F0ZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2NlcnRpZmljYXRlYXV0aG9yaXRpZXMve2NlcnRpZmljYXRlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoY2VydGlmaWNhdGVJZCA9PT0gdW5kZWZpbmVkIHx8IGNlcnRpZmljYXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGNlcnRpZmljYXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2VydGlmaWNhdGVJZH0nLCBjZXJ0aWZpY2F0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0aW5nIG9mIERJRCBQb29sc1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRGlkcG9vbHMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0RpZHBvb2xzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0Qnkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZGlkcG9vbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgRElEIHBvb2xcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gRElEIHBvb2xcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic3RhcnRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJlbmRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJjb21tZW50c1wiOiBcIlwiLFxuICAgXCJwcm92aWRlclwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic3RhcnRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJlbmRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJjb21tZW50c1wiOiBcIlwiLFxuICAgXCJwcm92aWRlclwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0RpZHBvb2xzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzRGlkcG9vbHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9kaWRwb29scyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIERJRCBQb29sIGJ5IElELlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRpZFBvb2xJZCAtIERJRCBwb29sIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic3RhcnRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJlbmRQaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJjb21tZW50c1wiOiBcIlwiLFxuICAgXCJwcm92aWRlclwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRGlkcG9vbHNEaWRwb29sSWQgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0RpZHBvb2xzRGlkcG9vbElkKGRpZFBvb2xJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9kaWRwb29scy97ZGlkUG9vbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRpZFBvb2xJZCA9PT0gdW5kZWZpbmVkIHx8IGRpZFBvb2xJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZGlkUG9vbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RpZFBvb2xJZH0nLCBkaWRQb29sSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIERJRCBQb29sIGJ5IElELlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRpZFBvb2xJZCAtIERJRCBwb29sIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBESUQgcG9vbFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzdGFydFBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcImVuZFBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcImNvbW1lbnRzXCI6IFwiXCIsXG4gICBcInByb3ZpZGVyXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzdGFydFBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcImVuZFBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcImNvbW1lbnRzXCI6IFwiXCIsXG4gICBcInByb3ZpZGVyXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucHV0UHJvdmlkZXJzRWRnZXNEaWRwb29sc0RpZHBvb2xJZCA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVyc0VkZ2VzRGlkcG9vbHNEaWRwb29sSWQoZGlkUG9vbElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2RpZHBvb2xzL3tkaWRQb29sSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZGlkUG9vbElkID09PSB1bmRlZmluZWQgfHwgZGlkUG9vbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkaWRQb29sSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZGlkUG9vbElkfScsIGRpZFBvb2xJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBESUQgUG9vbCBieSBJRC5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBkaWRQb29sSWQgLSBESUQgcG9vbCBJRFxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZGVsZXRlUHJvdmlkZXJzRWRnZXNEaWRwb29sc0RpZHBvb2xJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVyc0VkZ2VzRGlkcG9vbHNEaWRwb29sSWQoZGlkUG9vbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2RpZHBvb2xzL3tkaWRQb29sSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZGlkUG9vbElkID09PSB1bmRlZmluZWQgfHwgZGlkUG9vbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBkaWRQb29sSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZGlkUG9vbElkfScsIGRpZFBvb2xJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdGluZyBvZiBESURzXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gU29ydCBieVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBTb3J0IG9yZGVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHBob25lTnVtYmVyIC0gRmlsdGVyIGJ5IHBob25lTnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0RpZHMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0RpZHMocGFnZVNpemUsIHBhZ2VOdW1iZXIsIHNvcnRCeSwgc29ydE9yZGVyLCBwaG9uZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9kaWRzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBob25lTnVtYmVyXCJdID0gcGhvbmVOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgRElEIGJ5IElELlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGRpZElkIC0gRElEIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicGhvbmVOdW1iZXJcIjogXCJcIixcbiAgIFwiZGlkUG9vbFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0RpZHNEaWRJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRGlkc0RpZElkKGRpZElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2RpZHMve2RpZElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRpZElkID09PSB1bmRlZmluZWQgfHwgZGlkSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRpZElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RpZElkfScsIGRpZElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBESUQgYnkgSUQuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZGlkSWQgLSBESUQgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIERJRFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJwaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJkaWRQb29sXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicGhvbmVOdW1iZXJcIjogXCJcIixcbiAgIFwiZGlkUG9vbFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclR5cGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wdXRQcm92aWRlcnNFZGdlc0RpZHNEaWRJZCA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVyc0VkZ2VzRGlkc0RpZElkKGRpZElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2RpZHMve2RpZElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGRpZElkID09PSB1bmRlZmluZWQgfHwgZGlkSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGRpZElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2RpZElkfScsIGRpZElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBlZGdlIGdyb3Vwcy5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2Vncm91cHMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VkZ2Vncm91cHMocGFnZVNpemUsIHBhZ2VOdW1iZXIsIG5hbWUsIHNvcnRCeSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9lZGdlZ3JvdXBzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGFuIGVkZ2UgZ3JvdXAuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIEVkZ2VHcm91cFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VUcnVua0Jhc2VBc3NpZ25tZW50XCI6IHtcbiAgICAgIFwiZmFtaWx5XCI6IDAsXG4gICAgICBcInRydW5rQmFzZVwiOiB7fVxuICAgfSxcbiAgIFwicGhvbmVUcnVua0Jhc2VzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJlZGdlVHJ1bmtCYXNlQXNzaWdubWVudFwiOiB7XG4gICAgICBcImZhbWlseVwiOiAwLFxuICAgICAgXCJ0cnVua0Jhc2VcIjoge31cbiAgIH0sXG4gICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNFZGdlZ3JvdXBzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzRWRnZWdyb3Vwcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2VkZ2Vncm91cHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZWRnZSBncm91cC5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlR3JvdXBJZCAtIEVkZ2UgZ3JvdXAgSURcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSBGaWVsZHMgdG8gZXhwYW5kIGluIHRoZSByZXNwb25zZSBWYWxpZCBWYWx1ZXM6IHBob25lVHJ1bmtCYXNlcywgZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VUcnVua0Jhc2VBc3NpZ25tZW50XCI6IHtcbiAgICAgIFwiZmFtaWx5XCI6IDAsXG4gICAgICBcInRydW5rQmFzZVwiOiB7fVxuICAgfSxcbiAgIFwicGhvbmVUcnVua0Jhc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRWRnZWdyb3Vwc0VkZ2Vncm91cElkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFZGdlZ3JvdXBzRWRnZWdyb3VwSWQoZWRnZUdyb3VwSWQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9lZGdlZ3JvdXBzL3tlZGdlR3JvdXBJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlR3JvdXBJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VHcm91cElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlR3JvdXBJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlR3JvdXBJZH0nLCBlZGdlR3JvdXBJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhbiBlZGdlIGdyb3VwLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VHcm91cElkIC0gRWRnZSBncm91cCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gRWRnZUdyb3VwXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge1xuICAgICAgXCJmYW1pbHlcIjogMCxcbiAgICAgIFwidHJ1bmtCYXNlXCI6IHt9XG4gICB9LFxuICAgXCJwaG9uZVRydW5rQmFzZXNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VUcnVua0Jhc2VBc3NpZ25tZW50XCI6IHtcbiAgICAgIFwiZmFtaWx5XCI6IDAsXG4gICAgICBcInRydW5rQmFzZVwiOiB7fVxuICAgfSxcbiAgIFwicGhvbmVUcnVua0Jhc2VzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRWRnZWdyb3Vwc0VkZ2Vncm91cElkID0gZnVuY3Rpb24gcHV0UHJvdmlkZXJzRWRnZXNFZGdlZ3JvdXBzRWRnZWdyb3VwSWQoZWRnZUdyb3VwSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZWRnZWdyb3Vwcy97ZWRnZUdyb3VwSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUdyb3VwSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlR3JvdXBJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUdyb3VwSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUdyb3VwSWR9JywgZWRnZUdyb3VwSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGVkZ2UgZ3JvdXAuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUdyb3VwSWQgLSBFZGdlIGdyb3VwIElEXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5kZWxldGVQcm92aWRlcnNFZGdlc0VkZ2Vncm91cHNFZGdlZ3JvdXBJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVyc0VkZ2VzRWRnZWdyb3Vwc0VkZ2Vncm91cElkKGVkZ2VHcm91cElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2VkZ2Vncm91cHMve2VkZ2VHcm91cElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VHcm91cElkID09PSB1bmRlZmluZWQgfHwgZWRnZUdyb3VwSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VHcm91cElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VHcm91cElkfScsIGVkZ2VHcm91cElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGVkZ2UgdmVyc2lvbiByZXBvcnQuXG4gICogQGRlc2NyaXB0aW9uIFRoZSByZXBvcnQgd2lsbCBub3QgaGF2ZSBjb25zaXN0ZW50IGRhdGEgYWJvdXQgdGhlIGVkZ2UgdmVyc2lvbihzKSB1bnRpbCBhbGwgZWRnZXMgaGF2ZSBiZWVuIHJlc2V0LlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm9sZGVzdFZlcnNpb25cIjoge1xuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIlxuICAgfSxcbiAgIFwibmV3ZXN0VmVyc2lvblwiOiB7XG4gICAgICBcInNvZnR3YXJlVmVyc2lvblwiOiBcIlwiXG4gICB9XG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2V2ZXJzaW9ucmVwb3J0ID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFZGdldmVyc2lvbnJlcG9ydCgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZWRnZXZlcnNpb25yZXBvcnQnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZW5kcG9pbnRzXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gU29ydCBieVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFbmRwb2ludHMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VuZHBvaW50cyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgbmFtZSwgc29ydEJ5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2VuZHBvaW50cyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBlbmRwb2ludFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFbmRwb2ludFRlbXBsYXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNvdW50XCI6IDAsXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInNjaGVtYVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGlkc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNvdW50XCI6IDAsXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInNjaGVtYVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGlkc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNFbmRwb2ludHMgPSBmdW5jdGlvbiBwb3N0UHJvdmlkZXJzRWRnZXNFbmRwb2ludHMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9lbmRwb2ludHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZW5kcG9pbnRcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRwb2ludElkIC0gRW5kcG9pbnQgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjb3VudFwiOiAwLFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJzY2hlbWFcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImRpZHNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFbmRwb2ludHNFbmRwb2ludElkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFbmRwb2ludHNFbmRwb2ludElkKGVuZHBvaW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZW5kcG9pbnRzL3tlbmRwb2ludElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVuZHBvaW50SWQgPT09IHVuZGVmaW5lZCB8fCBlbmRwb2ludElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbmRwb2ludElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VuZHBvaW50SWR9JywgZW5kcG9pbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGVuZHBvaW50XG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZW5kcG9pbnRJZCAtIEVuZHBvaW50IElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFbmRwb2ludFRlbXBsYXRlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNvdW50XCI6IDAsXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInNjaGVtYVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGlkc1wiOiBbXVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNvdW50XCI6IDAsXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInNjaGVtYVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGlkc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wdXRQcm92aWRlcnNFZGdlc0VuZHBvaW50c0VuZHBvaW50SWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc0VuZHBvaW50c0VuZHBvaW50SWQoZW5kcG9pbnRJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9lbmRwb2ludHMve2VuZHBvaW50SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZW5kcG9pbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGVuZHBvaW50SWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVuZHBvaW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZW5kcG9pbnRJZH0nLCBlbmRwb2ludElkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBlbmRwb2ludFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVuZHBvaW50SWQgLSBFbmRwb2ludCBJRFxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZGVsZXRlUHJvdmlkZXJzRWRnZXNFbmRwb2ludHNFbmRwb2ludElkID0gZnVuY3Rpb24gZGVsZXRlUHJvdmlkZXJzRWRnZXNFbmRwb2ludHNFbmRwb2ludElkKGVuZHBvaW50SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZW5kcG9pbnRzL3tlbmRwb2ludElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVuZHBvaW50SWQgPT09IHVuZGVmaW5lZCB8fCBlbmRwb2ludElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlbmRwb2ludElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VuZHBvaW50SWR9JywgZW5kcG9pbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdGluZyBvZiBleHRlbnNpb24gcG9vbHNcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IG51bWJlciAtIE51bWJlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFeHRlbnNpb25wb29scyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9ucG9vbHMocGFnZVNpemUsIHBhZ2VOdW1iZXIsIHNvcnRCeSwgbnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2V4dGVuc2lvbnBvb2xzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibnVtYmVyXCJdID0gbnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBleHRlbnNpb24gcG9vbFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFeHRlbnNpb25Qb29sXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInN0YXJ0TnVtYmVyXCI6IFwiXCIsXG4gICBcImVuZE51bWJlclwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwibnVtYmVyXCI6IFwiXCIsXG4gICBcIm93bmVyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImV4dGVuc2lvblBvb2xcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwib3duZXJUeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucG9zdFByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9ucG9vbHMgPSBmdW5jdGlvbiBwb3N0UHJvdmlkZXJzRWRnZXNFeHRlbnNpb25wb29scyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2V4dGVuc2lvbnBvb2xzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFuIGV4dGVuc2lvbiBwb29sIGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uUG9vbElkIC0gRXh0ZW5zaW9uIHBvb2wgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzdGFydE51bWJlclwiOiBcIlwiLFxuICAgXCJlbmROdW1iZXJcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0V4dGVuc2lvbnBvb2xzRXh0ZW5zaW9ucG9vbElkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFeHRlbnNpb25wb29sc0V4dGVuc2lvbnBvb2xJZChleHRlbnNpb25Qb29sSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZXh0ZW5zaW9ucG9vbHMve2V4dGVuc2lvblBvb2xJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihleHRlbnNpb25Qb29sSWQgPT09IHVuZGVmaW5lZCB8fCBleHRlbnNpb25Qb29sSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGV4dGVuc2lvblBvb2xJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tleHRlbnNpb25Qb29sSWR9JywgZXh0ZW5zaW9uUG9vbElkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYW4gZXh0ZW5zaW9uIHBvb2wgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb25Qb29sSWQgLSBFeHRlbnNpb24gcG9vbCBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gRXh0ZW5zaW9uUG9vbFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzdGFydE51bWJlclwiOiBcIlwiLFxuICAgXCJlbmROdW1iZXJcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInN0YXJ0TnVtYmVyXCI6IFwiXCIsXG4gICBcImVuZE51bWJlclwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9ucG9vbHNFeHRlbnNpb25wb29sSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc0V4dGVuc2lvbnBvb2xzRXh0ZW5zaW9ucG9vbElkKGV4dGVuc2lvblBvb2xJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9leHRlbnNpb25wb29scy97ZXh0ZW5zaW9uUG9vbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGV4dGVuc2lvblBvb2xJZCA9PT0gdW5kZWZpbmVkIHx8IGV4dGVuc2lvblBvb2xJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXh0ZW5zaW9uUG9vbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2V4dGVuc2lvblBvb2xJZH0nLCBleHRlbnNpb25Qb29sSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFuIGV4dGVuc2lvbiBwb29sIGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uUG9vbElkIC0gRXh0ZW5zaW9uIHBvb2wgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9ucG9vbHNFeHRlbnNpb25wb29sSWQgPSBmdW5jdGlvbiBkZWxldGVQcm92aWRlcnNFZGdlc0V4dGVuc2lvbnBvb2xzRXh0ZW5zaW9ucG9vbElkKGV4dGVuc2lvblBvb2xJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9leHRlbnNpb25wb29scy97ZXh0ZW5zaW9uUG9vbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGV4dGVuc2lvblBvb2xJZCA9PT0gdW5kZWZpbmVkIHx8IGV4dGVuc2lvblBvb2xJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXh0ZW5zaW9uUG9vbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2V4dGVuc2lvblBvb2xJZH0nLCBleHRlbnNpb25Qb29sSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Rpbmcgb2YgZXh0ZW5zaW9uc1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFNvcnQgYnlcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXIgLSBGaWx0ZXIgYnkgbnVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0V4dGVuc2lvbnMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0V4dGVuc2lvbnMocGFnZVNpemUsIHBhZ2VOdW1iZXIsIHNvcnRCeSwgc29ydE9yZGVyLCBudW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZXh0ZW5zaW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJudW1iZXJcIl0gPSBudW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFuIGV4dGVuc2lvbiBieSBJRC5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb25JZCAtIEV4dGVuc2lvbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm51bWJlclwiOiBcIlwiLFxuICAgXCJvd25lclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJleHRlbnNpb25Qb29sXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9uc0V4dGVuc2lvbklkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFeHRlbnNpb25zRXh0ZW5zaW9uSWQoZXh0ZW5zaW9uSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZXh0ZW5zaW9ucy97ZXh0ZW5zaW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZXh0ZW5zaW9uSWQgPT09IHVuZGVmaW5lZCB8fCBleHRlbnNpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXh0ZW5zaW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZXh0ZW5zaW9uSWR9JywgZXh0ZW5zaW9uSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhbiBleHRlbnNpb24gYnkgSUQuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uSWQgLSBFeHRlbnNpb24gSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIEV4dGVuc2lvblxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJudW1iZXJcIjogXCJcIixcbiAgIFwib3duZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZXh0ZW5zaW9uUG9vbFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJvd25lclR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm51bWJlclwiOiBcIlwiLFxuICAgXCJvd25lclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJleHRlbnNpb25Qb29sXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm93bmVyVHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRXh0ZW5zaW9uc0V4dGVuc2lvbklkID0gZnVuY3Rpb24gcHV0UHJvdmlkZXJzRWRnZXNFeHRlbnNpb25zRXh0ZW5zaW9uSWQoZXh0ZW5zaW9uSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvZXh0ZW5zaW9ucy97ZXh0ZW5zaW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZXh0ZW5zaW9uSWQgPT09IHVuZGVmaW5lZCB8fCBleHRlbnNpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZXh0ZW5zaW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZXh0ZW5zaW9uSWR9JywgZXh0ZW5zaW9uSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdGluZyBvZiBsaW5lIGJhc2Ugc2V0dGluZ3Mgb2JqZWN0c1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFZhbHVlIGJ5IHdoaWNoIHRvIHNvcnRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNMaW5lYmFzZXNldHRpbmdzID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNMaW5lYmFzZXNldHRpbmdzKHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBzb3J0QnksIHNvcnRPcmRlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9saW5lYmFzZXNldHRpbmdzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpbmUgYmFzZSBzZXR0aW5ncyBvYmplY3QgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lQmFzZUlkIC0gTGluZSBiYXNlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwibGluZU1ldGFCYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNMaW5lYmFzZXNldHRpbmdzTGluZWJhc2VJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzTGluZWJhc2VzZXR0aW5nc0xpbmViYXNlSWQobGluZUJhc2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9saW5lYmFzZXNldHRpbmdzL3tsaW5lQmFzZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGxpbmVCYXNlSWQgPT09IHVuZGVmaW5lZCB8fCBsaW5lQmFzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsaW5lQmFzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2xpbmVCYXNlSWR9JywgbGluZUJhc2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgbGlzdCBvZiBMaW5lc1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFZhbHVlIGJ5IHdoaWNoIHRvIHNvcnRcbiAgKiBAcGFyYW0ge2FycmF5fSBleHBhbmQgLSBGaWVsZHMgdG8gZXhwYW5kIGluIHRoZSByZXNwb25zZSwgY29tbWEtc2VwYXJhdGVkIFZhbGlkIFZhbHVlczogcHJvcGVydGllcywgc2l0ZSwgZWRnZUdyb3VwLCBwcmltYXJ5RWRnZSwgc2Vjb25kYXJ5RWRnZSwgZWRnZXMsIGFzc2lnbmVkVXNlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNMaW5lcyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzTGluZXMocGFnZVNpemUsIHBhZ2VOdW1iZXIsIG5hbWUsIHNvcnRCeSwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL2xpbmVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJuYW1lXCJdID0gbmFtZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIExpbmUgaW5zdGFuY2UgdGVtcGxhdGUgYmFzZWQgb24gYSBMaW5lIEJhc2UgU2V0dGluZ3Mgb2JqZWN0LiBUaGlzIG9iamVjdCBjYW4gdGhlbiBiZSBtb2RpZmllZCBhbmQgc2F2ZWQgYXMgYSBuZXcgTGluZSBpbnN0YW5jZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxpbmVCYXNlU2V0dGluZ3NJZCAtIFRoZSBpZCBvZiBhIExpbmUgQmFzZSBTZXR0aW5ncyBvYmplY3QgdXBvbiB3aGljaCB0byBiYXNlIHRoaXMgTGluZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImVkZ2VHcm91cFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVCYXNlU2V0dGluZ3NcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJpbWFyeUVkZ2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImludGVyZmFjZXNcIjogW10sXG4gICAgICBcIm1ha2VcIjogXCJcIixcbiAgICAgIFwibW9kZWxcIjogXCJcIixcbiAgICAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgICAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICAgICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGF0Y2hcIjogXCJcIixcbiAgICAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlR3JvdXBcIjoge30sXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcInNvZnR3YXJlU3RhdHVzXCI6IHt9LFxuICAgICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgICAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICAgICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICAgICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlY29uZGFyeUVkZ2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImludGVyZmFjZXNcIjogW10sXG4gICAgICBcIm1ha2VcIjogXCJcIixcbiAgICAgIFwibW9kZWxcIjogXCJcIixcbiAgICAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgICAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICAgICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGF0Y2hcIjogXCJcIixcbiAgICAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlR3JvdXBcIjoge30sXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcInNvZnR3YXJlU3RhdHVzXCI6IHt9LFxuICAgICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgICAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICAgICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICAgICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxvZ2dlZEluVXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJkZWZhdWx0Rm9yVXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzTGluZXNUZW1wbGF0ZSA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzTGluZXNUZW1wbGF0ZShsaW5lQmFzZVNldHRpbmdzSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvbGluZXMvdGVtcGxhdGUnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihsaW5lQmFzZVNldHRpbmdzSWQgPT09IHVuZGVmaW5lZCB8fCBsaW5lQmFzZVNldHRpbmdzSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGxpbmVCYXNlU2V0dGluZ3NJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UXVlcnlbXCJsaW5lQmFzZVNldHRpbmdzSWRcIl0gPSBsaW5lQmFzZVNldHRpbmdzSWQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgTGluZSBieSBJRFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGxpbmVJZCAtIExpbmUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lQmFzZVNldHRpbmdzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByaW1hcnlFZGdlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJpbnRlcmZhY2VzXCI6IFtdLFxuICAgICAgXCJtYWtlXCI6IFwiXCIsXG4gICAgICBcIm1vZGVsXCI6IFwiXCIsXG4gICAgICBcImFwaVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblRpbWVzdGFtcFwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25QbGF0Zm9ybVwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25Db25maWd1cmF0aW9uXCI6IFwiXCIsXG4gICAgICBcImZ1bGxTb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGFpcmluZ0lkXCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50XCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50SGludFwiOiBcIlwiLFxuICAgICAgXCJjdXJyZW50VmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzdGFnZWRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInBhdGNoXCI6IFwiXCIsXG4gICAgICBcInN0YXR1c0NvZGVcIjogXCJcIixcbiAgICAgIFwiZWRnZUdyb3VwXCI6IHt9LFxuICAgICAgXCJzaXRlXCI6IHt9LFxuICAgICAgXCJzb2Z0d2FyZVN0YXR1c1wiOiB7fSxcbiAgICAgIFwib25saW5lU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInNlcmlhbE51bWJlclwiOiBcIlwiLFxuICAgICAgXCJwaHlzaWNhbEVkZ2VcIjogdHJ1ZSxcbiAgICAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgICAgXCJlZGdlRGVwbG95bWVudFR5cGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWNvbmRhcnlFZGdlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJpbnRlcmZhY2VzXCI6IFtdLFxuICAgICAgXCJtYWtlXCI6IFwiXCIsXG4gICAgICBcIm1vZGVsXCI6IFwiXCIsXG4gICAgICBcImFwaVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblRpbWVzdGFtcFwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25QbGF0Zm9ybVwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25Db25maWd1cmF0aW9uXCI6IFwiXCIsXG4gICAgICBcImZ1bGxTb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGFpcmluZ0lkXCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50XCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50SGludFwiOiBcIlwiLFxuICAgICAgXCJjdXJyZW50VmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzdGFnZWRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInBhdGNoXCI6IFwiXCIsXG4gICAgICBcInN0YXR1c0NvZGVcIjogXCJcIixcbiAgICAgIFwiZWRnZUdyb3VwXCI6IHt9LFxuICAgICAgXCJzaXRlXCI6IHt9LFxuICAgICAgXCJzb2Z0d2FyZVN0YXR1c1wiOiB7fSxcbiAgICAgIFwib25saW5lU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInNlcmlhbE51bWJlclwiOiBcIlwiLFxuICAgICAgXCJwaHlzaWNhbEVkZ2VcIjogdHJ1ZSxcbiAgICAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgICAgXCJlZGdlRGVwbG95bWVudFR5cGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsb2dnZWRJblVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZGVmYXVsdEZvclVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0xpbmVzTGluZUlkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNMaW5lc0xpbmVJZChsaW5lSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvbGluZXMve2xpbmVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihsaW5lSWQgPT09IHVuZGVmaW5lZCB8fCBsaW5lSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGxpbmVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tsaW5lSWR9JywgbGluZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBmaWxlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIGEgaGFyZHdhcmUgRWRnZSdzIHNldHRpbmdzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFZGdlT2ZmbGluZUNvbmZpZ3VyYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhaXJpbmdJZFwiOiBcIlwiLFxuICAgXCJuZXR3b3JrXCI6IHtcbiAgICAgIFwid2FuXCI6IHt9XG4gICB9XG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImRvd25sb2FkVXJsXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc09mZmxpbmVjb25maWd1cmF0aW9uID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzT2ZmbGluZWNvbmZpZ3VyYXRpb24oYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9vZmZsaW5lY29uZmlndXJhdGlvbic7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBvdXRib3VuZCByb3V0ZXNcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaXRlaWQgLSBGaWx0ZXIgYnkgc2l0ZS5pZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc091dGJvdW5kcm91dGVzID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNPdXRib3VuZHJvdXRlcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgbmFtZSwgc2l0ZWlkLCBzb3J0Qnkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvb3V0Ym91bmRyb3V0ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcIm5hbWVcIl0gPSBuYW1lO1xuICAgIHJlcXVlc3RRdWVyeVtcInNpdGUuaWRcIl0gPSBzaXRlaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBvdXRib3VuZCBydWxlXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIE91dGJvdW5kUm91dGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgICAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJlZGdlc1wiOiBbXSxcbiAgICAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge30sXG4gICAgICBcImxvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJtYW5hZ2VkXCI6IHRydWVcbiAgIH0sXG4gICBcImNsYXNzaWZpY2F0aW9uVHlwZXNcIjogW10sXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwiZGlzdHJpYnV0aW9uXCI6IFwiXCIsXG4gICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgIFwiZXh0ZXJuYWxUcnVua0Jhc2VzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgICAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJlZGdlc1wiOiBbXSxcbiAgICAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge30sXG4gICAgICBcImxvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2xhc3NpZmljYXRpb25UeXBlc1wiOiBbXSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJkaXN0cmlidXRpb25cIjogXCJcIixcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJleHRlcm5hbFRydW5rQmFzZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucG9zdFByb3ZpZGVyc0VkZ2VzT3V0Ym91bmRyb3V0ZXMgPSBmdW5jdGlvbiBwb3N0UHJvdmlkZXJzRWRnZXNPdXRib3VuZHJvdXRlcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL291dGJvdW5kcm91dGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IG91dGJvdW5kIHJvdXRlXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gb3V0Ym91bmRSb3V0ZUlkIC0gT3V0Ym91bmQgcm91dGUgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5U2l0ZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeVNpdGVzXCI6IFtdLFxuICAgICAgXCJwcmltYXJ5RWRnZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeUVkZ2VzXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcImVkZ2VzXCI6IFtdLFxuICAgICAgXCJlZGdlQXV0b1VwZGF0ZUNvbmZpZ1wiOiB7fSxcbiAgICAgIFwibG9jYXRpb25cIjoge30sXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjbGFzc2lmaWNhdGlvblR5cGVzXCI6IFtdLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImRpc3RyaWJ1dGlvblwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImV4dGVybmFsVHJ1bmtCYXNlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc091dGJvdW5kcm91dGVzT3V0Ym91bmRyb3V0ZUlkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNPdXRib3VuZHJvdXRlc091dGJvdW5kcm91dGVJZChvdXRib3VuZFJvdXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvb3V0Ym91bmRyb3V0ZXMve291dGJvdW5kUm91dGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihvdXRib3VuZFJvdXRlSWQgPT09IHVuZGVmaW5lZCB8fCBvdXRib3VuZFJvdXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG91dGJvdW5kUm91dGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tvdXRib3VuZFJvdXRlSWR9Jywgb3V0Ym91bmRSb3V0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgb3V0Ym91bmQgcm91dGVcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBvdXRib3VuZFJvdXRlSWQgLSBPdXRib3VuZCByb3V0ZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gT3V0Ym91bmRSb3V0ZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5U2l0ZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeVNpdGVzXCI6IFtdLFxuICAgICAgXCJwcmltYXJ5RWRnZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeUVkZ2VzXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcImVkZ2VzXCI6IFtdLFxuICAgICAgXCJlZGdlQXV0b1VwZGF0ZUNvbmZpZ1wiOiB7fSxcbiAgICAgIFwibG9jYXRpb25cIjoge30sXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZVxuICAgfSxcbiAgIFwiY2xhc3NpZmljYXRpb25UeXBlc1wiOiBbXSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJkaXN0cmlidXRpb25cIjogXCJcIixcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJleHRlcm5hbFRydW5rQmFzZXNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5U2l0ZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeVNpdGVzXCI6IFtdLFxuICAgICAgXCJwcmltYXJ5RWRnZXNcIjogW10sXG4gICAgICBcInNlY29uZGFyeUVkZ2VzXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcImVkZ2VzXCI6IFtdLFxuICAgICAgXCJlZGdlQXV0b1VwZGF0ZUNvbmZpZ1wiOiB7fSxcbiAgICAgIFwibG9jYXRpb25cIjoge30sXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjbGFzc2lmaWNhdGlvblR5cGVzXCI6IFtdLFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImRpc3RyaWJ1dGlvblwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImV4dGVybmFsVHJ1bmtCYXNlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wdXRQcm92aWRlcnNFZGdlc091dGJvdW5kcm91dGVzT3V0Ym91bmRyb3V0ZUlkID0gZnVuY3Rpb24gcHV0UHJvdmlkZXJzRWRnZXNPdXRib3VuZHJvdXRlc091dGJvdW5kcm91dGVJZChvdXRib3VuZFJvdXRlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvb3V0Ym91bmRyb3V0ZXMve291dGJvdW5kUm91dGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihvdXRib3VuZFJvdXRlSWQgPT09IHVuZGVmaW5lZCB8fCBvdXRib3VuZFJvdXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG91dGJvdW5kUm91dGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tvdXRib3VuZFJvdXRlSWR9Jywgb3V0Ym91bmRSb3V0ZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBPdXRib3VuZCBSb3V0ZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IG91dGJvdW5kUm91dGVJZCAtIE91dGJvdW5kIHJvdXRlIElEXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5kZWxldGVQcm92aWRlcnNFZGdlc091dGJvdW5kcm91dGVzT3V0Ym91bmRyb3V0ZUlkID0gZnVuY3Rpb24gZGVsZXRlUHJvdmlkZXJzRWRnZXNPdXRib3VuZHJvdXRlc091dGJvdW5kcm91dGVJZChvdXRib3VuZFJvdXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvb3V0Ym91bmRyb3V0ZXMve291dGJvdW5kUm91dGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihvdXRib3VuZFJvdXRlSWQgPT09IHVuZGVmaW5lZCB8fCBvdXRib3VuZFJvdXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG91dGJvdW5kUm91dGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tvdXRib3VuZFJvdXRlSWR9Jywgb3V0Ym91bmRSb3V0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIFBob25lIEJhc2UgU2V0dGluZ3Mgb2JqZWN0c1xuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRCeSAtIFZhbHVlIGJ5IHdoaWNoIHRvIHNvcnRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gU29ydCBvcmRlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZWJhc2VzZXR0aW5ncyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzUGhvbmViYXNlc2V0dGluZ3MocGFnZU51bWJlciwgcGFnZVNpemUsIHNvcnRCeSwgc29ydE9yZGVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lYmFzZXNldHRpbmdzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0QnlcIl0gPSBzb3J0Qnk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydE9yZGVyXCJdID0gc29ydE9yZGVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIG5ldyBQaG9uZSBCYXNlIFNldHRpbmdzIG9iamVjdFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQaG9uZSBiYXNlIHNldHRpbmdzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNQaG9uZWJhc2VzZXR0aW5ncyA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvcGhvbmViYXNlc2V0dGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBtYWtlcyBhbmQgbW9kZWxzIHRvIGNyZWF0ZSBhIG5ldyBQaG9uZSBCYXNlIFNldHRpbmdzXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzUGhvbmViYXNlc2V0dGluZ3NBdmFpbGFibGVtZXRhYmFzZXMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzQXZhaWxhYmxlbWV0YWJhc2VzKHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lYmFzZXNldHRpbmdzL2F2YWlsYWJsZW1ldGFiYXNlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgUGhvbmUgQmFzZSBTZXR0aW5ncyBpbnN0YW5jZSB0ZW1wbGF0ZSBmcm9tIGEgZ2l2ZW4gbWFrZSBhbmQgbW9kZWwuIFRoaXMgb2JqZWN0IGNhbiB0aGVuIGJlIG1vZGlmaWVkIGFuZCBzYXZlZCBhcyBhIG5ldyBQaG9uZSBCYXNlIFNldHRpbmdzIGluc3RhbmNlXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGhvbmVNZXRhYmFzZUlkIC0gVGhlIGlkIG9mIGEgbWV0YWJhc2Ugb2JqZWN0IHVwb24gd2hpY2ggdG8gYmFzZSB0aGlzIFBob25lIEJhc2UgU2V0dGluZ3NcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJwaG9uZU1ldGFCYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVzXCI6IFtdLFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJjYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJwcm92aXNpb25zXCI6IHRydWUsXG4gICAgICBcInJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJkdWFsUmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImhhcmR3YXJlSWRUeXBlXCI6IFwiXCIsXG4gICAgICBcImFsbG93UmVib290XCI6IHRydWUsXG4gICAgICBcIm5vUmViYWxhbmNlXCI6IHRydWVcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZWJhc2VzZXR0aW5nc1RlbXBsYXRlID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZWJhc2VzZXR0aW5nc1RlbXBsYXRlKHBob25lTWV0YWJhc2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9waG9uZWJhc2VzZXR0aW5ncy90ZW1wbGF0ZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lTWV0YWJhc2VJZCA9PT0gdW5kZWZpbmVkIHx8IHBob25lTWV0YWJhc2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGhvbmVNZXRhYmFzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInBob25lTWV0YWJhc2VJZFwiXSA9IHBob25lTWV0YWJhc2VJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBQaG9uZSBCYXNlIFNldHRpbmdzIG9iamVjdCBieSBJRFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHBob25lQmFzZUlkIC0gUGhvbmUgYmFzZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzUGhvbmViYXNlSWQgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzUGhvbmViYXNlSWQocGhvbmVCYXNlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvcGhvbmViYXNlc2V0dGluZ3Mve3Bob25lQmFzZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lQmFzZUlkID09PSB1bmRlZmluZWQgfHwgcGhvbmVCYXNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBob25lQmFzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Bob25lQmFzZUlkfScsIHBob25lQmFzZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBQaG9uZSBCYXNlIFNldHRpbmdzIGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGhvbmVCYXNlSWQgLSBQaG9uZSBiYXNlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBQaG9uZSBiYXNlIHNldHRpbmdzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wdXRQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzUGhvbmViYXNlSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc1Bob25lYmFzZXNldHRpbmdzUGhvbmViYXNlSWQocGhvbmVCYXNlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvcGhvbmViYXNlc2V0dGluZ3Mve3Bob25lQmFzZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lQmFzZUlkID09PSB1bmRlZmluZWQgfHwgcGhvbmVCYXNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBob25lQmFzZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Bob25lQmFzZUlkfScsIHBob25lQmFzZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIFBob25lIEJhc2UgU2V0dGluZ3MgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZUJhc2VJZCAtIFBob25lIGJhc2UgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzUGhvbmViYXNlc2V0dGluZ3NQaG9uZWJhc2VJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVyc0VkZ2VzUGhvbmViYXNlc2V0dGluZ3NQaG9uZWJhc2VJZChwaG9uZUJhc2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9waG9uZWJhc2VzZXR0aW5ncy97cGhvbmVCYXNlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocGhvbmVCYXNlSWQgPT09IHVuZGVmaW5lZCB8fCBwaG9uZUJhc2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcGhvbmVCYXNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGhvbmVCYXNlSWR9JywgcGhvbmVCYXNlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgUGhvbmUgSW5zdGFuY2VzXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IC0gVmFsdWUgYnkgd2hpY2ggdG8gc29ydFxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBTb3J0IG9yZGVyXG4gICogQHBhcmFtIHtzdHJpbmd9IHNpdGVpZCAtIEZpbHRlciBieSBzaXRlLmlkXG4gICogQHBhcmFtIHtzdHJpbmd9IHdlYlJ0Y1VzZXJpZCAtIEZpbHRlciBieSB3ZWJSdGNVc2VyLmlkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBob25lQmFzZVNldHRpbmdzaWQgLSBGaWx0ZXIgYnkgcGhvbmVCYXNlU2V0dGluZ3MuaWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gbGluZXNsb2dnZWRJblVzZXJpZCAtIEZpbHRlciBieSBsaW5lcy5sb2dnZWRJblVzZXIuaWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gbGluZXNkZWZhdWx0Rm9yVXNlcmlkIC0gRmlsdGVyIGJ5IGxpbmVzLmRlZmF1bHRGb3JVc2VyLmlkXG4gICogQHBhcmFtIHtzdHJpbmd9IHBob25lX2hhcmR3YXJlSWQgLSBGaWx0ZXIgYnkgcGhvbmVfaGFyZHdhcmVJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lc2lkIC0gRmlsdGVyIGJ5IGxpbmVzLmlkXG4gICogQHBhcmFtIHtzdHJpbmd9IGxpbmVzbmFtZSAtIEZpbHRlciBieSBsaW5lcy5uYW1lXG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gRmllbGRzIHRvIGV4cGFuZCBpbiB0aGUgcmVzcG9uc2UsIGNvbW1hLXNlcGFyYXRlZCBWYWxpZCBWYWx1ZXM6IHByb3BlcnRpZXMsIHNpdGUsIHN0YXR1cywgc3RhdHVzLnByaW1hcnlFZGdlc1N0YXR1cywgc3RhdHVzLnNlY29uZGFyeUVkZ2VzU3RhdHVzLCBwaG9uZUJhc2VTZXR0aW5ncywgbGluZXNcbiAgKiBAcGFyYW0ge2FycmF5fSBmaWVsZHMgLSBGaWVsZHMgYW5kIHByb3BlcnRpZXMgdG8gZ2V0LCBjb21tYS1zZXBhcmF0ZWQgVmFsaWQgVmFsdWVzOiB3ZWJSdGNVc2VyLCBwcm9wZXJ0aWVzLiosIGxpbmVzLmxvZ2dlZEluVXNlciwgbGluZXMuZGVmYXVsdEZvclVzZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzUGhvbmVzID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZXMocGFnZU51bWJlciwgcGFnZVNpemUsIHNvcnRCeSwgc29ydE9yZGVyLCBzaXRlaWQsIHdlYlJ0Y1VzZXJpZCwgcGhvbmVCYXNlU2V0dGluZ3NpZCwgbGluZXNsb2dnZWRJblVzZXJpZCwgbGluZXNkZWZhdWx0Rm9yVXNlcmlkLCBwaG9uZV9oYXJkd2FyZUlkLCBsaW5lc2lkLCBsaW5lc25hbWUsIGV4cGFuZCwgZmllbGRzKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJzaXRlLmlkXCJdID0gc2l0ZWlkO1xuICAgIHJlcXVlc3RRdWVyeVtcIndlYlJ0Y1VzZXIuaWRcIl0gPSB3ZWJSdGNVc2VyaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGhvbmVCYXNlU2V0dGluZ3MuaWRcIl0gPSBwaG9uZUJhc2VTZXR0aW5nc2lkO1xuICAgIHJlcXVlc3RRdWVyeVtcImxpbmVzLmxvZ2dlZEluVXNlci5pZFwiXSA9IGxpbmVzbG9nZ2VkSW5Vc2VyaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibGluZXMuZGVmYXVsdEZvclVzZXIuaWRcIl0gPSBsaW5lc2RlZmF1bHRGb3JVc2VyaWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGhvbmVfaGFyZHdhcmVJZFwiXSA9IHBob25lX2hhcmR3YXJlSWQ7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibGluZXMuaWRcIl0gPSBsaW5lc2lkO1xuICAgIHJlcXVlc3RRdWVyeVtcImxpbmVzLm5hbWVcIl0gPSBsaW5lc25hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJlcXVlc3RRdWVyeVtcImZpZWxkc1wiXSA9IGZpZWxkcztcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBuZXcgUGhvbmVcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGhvbmVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwaG9uZUJhc2VTZXR0aW5nc1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lQmFzZVNldHRpbmdzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInN0YXR1c1wiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwib3BlcmF0aW9uYWxTdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZWRnZXNTdGF0dXNcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uXCI6IHt9LFxuICAgICAgXCJsaW5lU3RhdHVzZXNcIjogW10sXG4gICAgICBcInBob25lQXNzaWdubWVudFRvRWRnZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVwiOiB7fVxuICAgfSxcbiAgIFwic2Vjb25kYXJ5U3RhdHVzXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJvcGVyYXRpb25hbFN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlc1N0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25cIjoge30sXG4gICAgICBcImxpbmVTdGF0dXNlc1wiOiBbXSxcbiAgICAgIFwicGhvbmVBc3NpZ25tZW50VG9FZGdlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlXCI6IHt9XG4gICB9LFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJjYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJwcm92aXNpb25zXCI6IHRydWUsXG4gICAgICBcInJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJkdWFsUmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImhhcmR3YXJlSWRUeXBlXCI6IFwiXCIsXG4gICAgICBcImFsbG93UmVib290XCI6IHRydWUsXG4gICAgICBcIm5vUmViYWxhbmNlXCI6IHRydWVcbiAgIH0sXG4gICBcIndlYlJ0Y1VzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicGhvbmVCYXNlU2V0dGluZ3NcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZUJhc2VTZXR0aW5nc1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwaG9uZU1ldGFCYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVzXCI6IFtdLFxuICAgXCJzdGF0dXNcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcIm9wZXJhdGlvbmFsU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VzU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInByb3Zpc2lvblwiOiB7fSxcbiAgICAgIFwibGluZVN0YXR1c2VzXCI6IFtdLFxuICAgICAgXCJwaG9uZUFzc2lnbm1lbnRUb0VkZ2VUeXBlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2Vjb25kYXJ5U3RhdHVzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJvcGVyYXRpb25hbFN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlc1N0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25cIjoge30sXG4gICAgICBcImxpbmVTdGF0dXNlc1wiOiBbXSxcbiAgICAgIFwicGhvbmVBc3NpZ25tZW50VG9FZGdlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcInByb3Zpc2lvbnNcIjogdHJ1ZSxcbiAgICAgIFwicmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImR1YWxSZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiaGFyZHdhcmVJZFR5cGVcIjogXCJcIixcbiAgICAgIFwiYWxsb3dSZWJvb3RcIjogdHJ1ZSxcbiAgICAgIFwibm9SZWJhbGFuY2VcIjogdHJ1ZVxuICAgfSxcbiAgIFwid2ViUnRjVXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc1Bob25lcyA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc1Bob25lcyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFJlYm9vdCBNdWx0aXBsZSBQaG9uZXNcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7fSBib2R5IC0gUGhvbmVzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJwaG9uZUlkc1wiOiBbXSxcbiAgIFwic2l0ZUlkXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc1Bob25lc1JlYm9vdCA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc1Bob25lc1JlYm9vdChib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lcy9yZWJvb3QnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBQaG9uZSBpbnN0YW5jZSB0ZW1wbGF0ZSBiYXNlZCBvbiBhIFBob25lIEJhc2UgU2V0dGluZ3Mgb2JqZWN0LiBUaGlzIG9iamVjdCBjYW4gdGhlbiBiZSBtb2RpZmllZCBhbmQgc2F2ZWQgYXMgYSBuZXcgUGhvbmUgaW5zdGFuY2VcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZUJhc2VTZXR0aW5nc0lkIC0gVGhlIGlkIG9mIGEgUGhvbmUgQmFzZSBTZXR0aW5ncyBvYmplY3QgdXBvbiB3aGljaCB0byBiYXNlIHRoaXMgUGhvbmVcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInBob25lQmFzZVNldHRpbmdzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVCYXNlU2V0dGluZ3NcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicGhvbmVNZXRhQmFzZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lc1wiOiBbXSxcbiAgIFwic3RhdHVzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJvcGVyYXRpb25hbFN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlc1N0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25cIjoge30sXG4gICAgICBcImxpbmVTdGF0dXNlc1wiOiBbXSxcbiAgICAgIFwicGhvbmVBc3NpZ25tZW50VG9FZGdlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlY29uZGFyeVN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwib3BlcmF0aW9uYWxTdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZWRnZXNTdGF0dXNcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uXCI6IHt9LFxuICAgICAgXCJsaW5lU3RhdHVzZXNcIjogW10sXG4gICAgICBcInBob25lQXNzaWdubWVudFRvRWRnZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVwiOiB7fSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJjYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJwcm92aXNpb25zXCI6IHRydWUsXG4gICAgICBcInJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJkdWFsUmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImhhcmR3YXJlSWRUeXBlXCI6IFwiXCIsXG4gICAgICBcImFsbG93UmVib290XCI6IHRydWUsXG4gICAgICBcIm5vUmViYWxhbmNlXCI6IHRydWVcbiAgIH0sXG4gICBcIndlYlJ0Y1VzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1Bob25lc1RlbXBsYXRlID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZXNUZW1wbGF0ZShwaG9uZUJhc2VTZXR0aW5nc0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3Bob25lcy90ZW1wbGF0ZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lQmFzZVNldHRpbmdzSWQgPT09IHVuZGVmaW5lZCB8fCBwaG9uZUJhc2VTZXR0aW5nc0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwaG9uZUJhc2VTZXR0aW5nc0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInBob25lQmFzZVNldHRpbmdzSWRcIl0gPSBwaG9uZUJhc2VTZXR0aW5nc0lkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIFBob25lIGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGhvbmVJZCAtIFBob25lIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwaG9uZUJhc2VTZXR0aW5nc1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lQmFzZVNldHRpbmdzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInBob25lTWV0YUJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZXNcIjogW10sXG4gICBcInN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwib3BlcmF0aW9uYWxTdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZWRnZXNTdGF0dXNcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uXCI6IHt9LFxuICAgICAgXCJsaW5lU3RhdHVzZXNcIjogW10sXG4gICAgICBcInBob25lQXNzaWdubWVudFRvRWRnZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVwiOiB7fSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWNvbmRhcnlTdGF0dXNcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcIm9wZXJhdGlvbmFsU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VzU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInByb3Zpc2lvblwiOiB7fSxcbiAgICAgIFwibGluZVN0YXR1c2VzXCI6IFtdLFxuICAgICAgXCJwaG9uZUFzc2lnbm1lbnRUb0VkZ2VUeXBlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VcIjoge30sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwiY2FwYWJpbGl0aWVzXCI6IHtcbiAgICAgIFwicHJvdmlzaW9uc1wiOiB0cnVlLFxuICAgICAgXCJyZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiZHVhbFJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJoYXJkd2FyZUlkVHlwZVwiOiBcIlwiLFxuICAgICAgXCJhbGxvd1JlYm9vdFwiOiB0cnVlLFxuICAgICAgXCJub1JlYmFsYW5jZVwiOiB0cnVlXG4gICB9LFxuICAgXCJ3ZWJSdGNVc2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZXNQaG9uZUlkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNQaG9uZXNQaG9uZUlkKHBob25lSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvcGhvbmVzL3twaG9uZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lSWQgPT09IHVuZGVmaW5lZCB8fCBwaG9uZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwaG9uZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Bob25lSWR9JywgcGhvbmVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgUGhvbmUgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZUlkIC0gUGhvbmUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFBob25lXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInNpdGVcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicGhvbmVCYXNlU2V0dGluZ3NcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibGluZUJhc2VTZXR0aW5nc1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwaG9uZU1ldGFCYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVzXCI6IFtdLFxuICAgXCJzdGF0dXNcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcIm9wZXJhdGlvbmFsU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VzU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInByb3Zpc2lvblwiOiB7fSxcbiAgICAgIFwibGluZVN0YXR1c2VzXCI6IFtdLFxuICAgICAgXCJwaG9uZUFzc2lnbm1lbnRUb0VkZ2VUeXBlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VcIjoge31cbiAgIH0sXG4gICBcInNlY29uZGFyeVN0YXR1c1wiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwib3BlcmF0aW9uYWxTdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZWRnZXNTdGF0dXNcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uXCI6IHt9LFxuICAgICAgXCJsaW5lU3RhdHVzZXNcIjogW10sXG4gICAgICBcInBob25lQXNzaWdubWVudFRvRWRnZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVwiOiB7fVxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwiY2FwYWJpbGl0aWVzXCI6IHtcbiAgICAgIFwicHJvdmlzaW9uc1wiOiB0cnVlLFxuICAgICAgXCJyZWdpc3RlcnNcIjogdHJ1ZSxcbiAgICAgIFwiZHVhbFJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJoYXJkd2FyZUlkVHlwZVwiOiBcIlwiLFxuICAgICAgXCJhbGxvd1JlYm9vdFwiOiB0cnVlLFxuICAgICAgXCJub1JlYmFsYW5jZVwiOiB0cnVlXG4gICB9LFxuICAgXCJ3ZWJSdGNVc2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH1cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInBob25lQmFzZVNldHRpbmdzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVCYXNlU2V0dGluZ3NcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicGhvbmVNZXRhQmFzZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lc1wiOiBbXSxcbiAgIFwic3RhdHVzXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJvcGVyYXRpb25hbFN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlc1N0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJwcm92aXNpb25cIjoge30sXG4gICAgICBcImxpbmVTdGF0dXNlc1wiOiBbXSxcbiAgICAgIFwicGhvbmVBc3NpZ25tZW50VG9FZGdlVHlwZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlXCI6IHt9LFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNlY29uZGFyeVN0YXR1c1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwib3BlcmF0aW9uYWxTdGF0dXNcIjogXCJcIixcbiAgICAgIFwiZWRnZXNTdGF0dXNcIjogXCJcIixcbiAgICAgIFwicHJvdmlzaW9uXCI6IHt9LFxuICAgICAgXCJsaW5lU3RhdHVzZXNcIjogW10sXG4gICAgICBcInBob25lQXNzaWdubWVudFRvRWRnZVR5cGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVwiOiB7fSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJjYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJwcm92aXNpb25zXCI6IHRydWUsXG4gICAgICBcInJlZ2lzdGVyc1wiOiB0cnVlLFxuICAgICAgXCJkdWFsUmVnaXN0ZXJzXCI6IHRydWUsXG4gICAgICBcImhhcmR3YXJlSWRUeXBlXCI6IFwiXCIsXG4gICAgICBcImFsbG93UmVib290XCI6IHRydWUsXG4gICAgICBcIm5vUmViYWxhbmNlXCI6IHRydWVcbiAgIH0sXG4gICBcIndlYlJ0Y1VzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wdXRQcm92aWRlcnNFZGdlc1Bob25lc1Bob25lSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc1Bob25lc1Bob25lSWQocGhvbmVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9waG9uZXMve3Bob25lSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocGhvbmVJZCA9PT0gdW5kZWZpbmVkIHx8IHBob25lSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBob25lSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGhvbmVJZH0nLCBwaG9uZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIFBob25lIGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcGhvbmVJZCAtIFBob25lIElEXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5kZWxldGVQcm92aWRlcnNFZGdlc1Bob25lc1Bob25lSWQgPSBmdW5jdGlvbiBkZWxldGVQcm92aWRlcnNFZGdlc1Bob25lc1Bob25lSWQocGhvbmVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9waG9uZXMve3Bob25lSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocGhvbmVJZCA9PT0gdW5kZWZpbmVkIHx8IHBob25lSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHBob25lSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cGhvbmVJZH0nLCBwaG9uZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZWJvb3QgYSBQaG9uZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHBob25lSWQgLSBQaG9uZSBJZFxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucG9zdFByb3ZpZGVyc0VkZ2VzUGhvbmVzUGhvbmVJZFJlYm9vdCA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc1Bob25lc1Bob25lSWRSZWJvb3QocGhvbmVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9waG9uZXMve3Bob25lSWR9L3JlYm9vdCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHBob25lSWQgPT09IHVuZGVmaW5lZCB8fCBwaG9uZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBwaG9uZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3Bob25lSWR9JywgcGhvbmVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBTaXRlcy5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBTb3J0IGJ5XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWVcbiAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25pZCAtIExvY2F0aW9uIElkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1NpdGVzID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNTaXRlcyhwYWdlU2l6ZSwgcGFnZU51bWJlciwgc29ydEJ5LCBzb3J0T3JkZXIsIG5hbWUsIGxvY2F0aW9uaWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvc2l0ZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0T3JkZXJcIl0gPSBzb3J0T3JkZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibmFtZVwiXSA9IG5hbWU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wibG9jYXRpb24uaWRcIl0gPSBsb2NhdGlvbmlkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENyZWF0ZSBhIFNpdGUuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNpdGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJlZGdlc1wiOiBbXSxcbiAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge1xuICAgICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgICAgXCJycnVsZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFwiOiBcIlwiLFxuICAgICAgXCJlbmRcIjogXCJcIlxuICAgfSxcbiAgIFwibG9jYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJlZGdlc1wiOiBbXSxcbiAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge1xuICAgICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgICAgXCJycnVsZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFwiOiBcIlwiLFxuICAgICAgXCJlbmRcIjogXCJcIlxuICAgfSxcbiAgIFwibG9jYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc1NpdGVzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzU2l0ZXMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9zaXRlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIFNpdGUgYnkgSUQuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2l0ZUlkIC0gU2l0ZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInByaW1hcnlTaXRlc1wiOiBbXSxcbiAgIFwic2Vjb25kYXJ5U2l0ZXNcIjogW10sXG4gICBcInByaW1hcnlFZGdlc1wiOiBbXSxcbiAgIFwic2Vjb25kYXJ5RWRnZXNcIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwiZWRnZXNcIjogW10sXG4gICBcImVkZ2VBdXRvVXBkYXRlQ29uZmlnXCI6IHtcbiAgICAgIFwidGltZVpvbmVcIjogXCJcIixcbiAgICAgIFwicnJ1bGVcIjogXCJcIixcbiAgICAgIFwic3RhcnRcIjogXCJcIixcbiAgICAgIFwiZW5kXCI6IFwiXCJcbiAgIH0sXG4gICBcImxvY2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1NpdGVzU2l0ZUlkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNTaXRlc1NpdGVJZChzaXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvc2l0ZXMve3NpdGVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzaXRlSWQgPT09IHVuZGVmaW5lZCB8fCBzaXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNpdGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzaXRlSWR9Jywgc2l0ZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBTaXRlIGJ5IElELlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNpdGVJZCAtIFNpdGUgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNpdGVcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJlZGdlc1wiOiBbXSxcbiAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge1xuICAgICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgICAgXCJycnVsZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFwiOiBcIlwiLFxuICAgICAgXCJlbmRcIjogXCJcIlxuICAgfSxcbiAgIFwibG9jYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwicHJpbWFyeVNpdGVzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlTaXRlc1wiOiBbXSxcbiAgIFwicHJpbWFyeUVkZ2VzXCI6IFtdLFxuICAgXCJzZWNvbmRhcnlFZGdlc1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJlZGdlc1wiOiBbXSxcbiAgIFwiZWRnZUF1dG9VcGRhdGVDb25maWdcIjoge1xuICAgICAgXCJ0aW1lWm9uZVwiOiBcIlwiLFxuICAgICAgXCJycnVsZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFwiOiBcIlwiLFxuICAgICAgXCJlbmRcIjogXCJcIlxuICAgfSxcbiAgIFwibG9jYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc1NpdGVzU2l0ZUlkKHNpdGVJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9zaXRlcy97c2l0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNpdGVJZCA9PT0gdW5kZWZpbmVkIHx8IHNpdGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2l0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NpdGVJZH0nLCBzaXRlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgU2l0ZSBieSBJRFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHNpdGVJZCAtIFNpdGUgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWQgPSBmdW5jdGlvbiBkZWxldGVQcm92aWRlcnNFZGdlc1NpdGVzU2l0ZUlkKHNpdGVJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy9zaXRlcy97c2l0ZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNpdGVJZCA9PT0gdW5kZWZpbmVkIHx8IHNpdGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2l0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NpdGVJZH0nLCBzaXRlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB0aGUgbGlzdCBvZiBOdW1iZXIgUGxhbnMgZm9yIHRoaXMgU2l0ZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaXRlSWQgLSBTaXRlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiBbXG4ge1xuICBcImlkXCI6IFwiXCIsXG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gIFwidmVyc2lvblwiOiAwLFxuICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICBcInN0YXRlXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICBcIm1hdGNoXCI6IFwiXCIsXG4gIFwibm9ybWFsaXplZEZvcm1hdFwiOiBcIlwiLFxuICBcInByaW9yaXR5XCI6IDAsXG4gIFwibnVtYmVyc1wiOiBbXSxcbiAgXCJkaWdpdExlbmd0aFwiOiB7XG4gICBcInN0YXJ0XCI6IFwiXCIsXG4gICBcImVuZFwiOiBcIlwiXG4gIH0sXG4gIFwiY2xhc3NpZmljYXRpb25cIjogXCJcIixcbiAgXCJtYXRjaFR5cGVcIjogXCJcIixcbiAgXCJzZWxmVXJpXCI6IFwiXCJcbiB9XG5dXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1NpdGVzU2l0ZUlkTnVtYmVycGxhbnMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1NpdGVzU2l0ZUlkTnVtYmVycGxhbnMoc2l0ZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3NpdGVzL3tzaXRlSWR9L251bWJlcnBsYW5zJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2l0ZUlkID09PSB1bmRlZmluZWQgfHwgc2l0ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzaXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2l0ZUlkfScsIHNpdGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHRoZSBsaXN0IG9mIE51bWJlciBQbGFucy5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaXRlSWQgLSBTaXRlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBMaXN0IG9mIG51bWJlciBwbGFuc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwibmFtZVwiOiBcIlwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gIFwidmVyc2lvblwiOiAwLFxuICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICBcInN0YXRlXCI6IFwiXCIsXG4gIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICBcIm1hdGNoXCI6IFwiXCIsXG4gIFwibm9ybWFsaXplZEZvcm1hdFwiOiBcIlwiLFxuICBcInByaW9yaXR5XCI6IDAsXG4gIFwibnVtYmVyc1wiOiBbXSxcbiAgXCJkaWdpdExlbmd0aFwiOiB7XG4gICBcInN0YXJ0XCI6IFwiXCIsXG4gICBcImVuZFwiOiBcIlwiXG4gIH0sXG4gIFwiY2xhc3NpZmljYXRpb25cIjogXCJcIixcbiAgXCJtYXRjaFR5cGVcIjogXCJcIlxuIH1cbl1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIFtcbiB7XG4gIFwiaWRcIjogXCJcIixcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgXCJ2ZXJzaW9uXCI6IDAsXG4gIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gIFwic3RhdGVcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gIFwibWF0Y2hcIjogXCJcIixcbiAgXCJub3JtYWxpemVkRm9ybWF0XCI6IFwiXCIsXG4gIFwicHJpb3JpdHlcIjogMCxcbiAgXCJudW1iZXJzXCI6IFtdLFxuICBcImRpZ2l0TGVuZ3RoXCI6IHtcbiAgIFwic3RhcnRcIjogXCJcIixcbiAgIFwiZW5kXCI6IFwiXCJcbiAgfSxcbiAgXCJjbGFzc2lmaWNhdGlvblwiOiBcIlwiLFxuICBcIm1hdGNoVHlwZVwiOiBcIlwiLFxuICBcInNlbGZVcmlcIjogXCJcIlxuIH1cbl1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWROdW1iZXJwbGFucyA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWROdW1iZXJwbGFucyhzaXRlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvc2l0ZXMve3NpdGVJZH0vbnVtYmVycGxhbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihzaXRlSWQgPT09IHVuZGVmaW5lZCB8fCBzaXRlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHNpdGVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tzaXRlSWR9Jywgc2l0ZUlkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgQ2xhc3NpZmljYXRpb25zIGZvciB0aGlzIFNpdGVcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzaXRlSWQgLSBTaXRlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzaWZpY2F0aW9uIC0gQ2xhc3NpZmljYXRpb25cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWROdW1iZXJwbGFuc0NsYXNzaWZpY2F0aW9ucyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWROdW1iZXJwbGFuc0NsYXNzaWZpY2F0aW9ucyhzaXRlSWQsIGNsYXNzaWZpY2F0aW9uKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3NpdGVzL3tzaXRlSWR9L251bWJlcnBsYW5zL2NsYXNzaWZpY2F0aW9ucyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHNpdGVJZCA9PT0gdW5kZWZpbmVkIHx8IHNpdGVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc2l0ZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NpdGVJZH0nLCBzaXRlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImNsYXNzaWZpY2F0aW9uXCJdID0gY2xhc3NpZmljYXRpb247XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgTnVtYmVyIFBsYW4gYnkgSUQuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2l0ZUlkIC0gU2l0ZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXJQbGFuSWQgLSBOdW1iZXIgUGxhbiBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1hdGNoXCI6IFwiXCIsXG4gICBcIm5vcm1hbGl6ZWRGb3JtYXRcIjogXCJcIixcbiAgIFwicHJpb3JpdHlcIjogMCxcbiAgIFwibnVtYmVyc1wiOiBbXSxcbiAgIFwiZGlnaXRMZW5ndGhcIjoge1xuICAgICAgXCJzdGFydFwiOiBcIlwiLFxuICAgICAgXCJlbmRcIjogXCJcIlxuICAgfSxcbiAgIFwiY2xhc3NpZmljYXRpb25cIjogXCJcIixcbiAgIFwibWF0Y2hUeXBlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNTaXRlc1NpdGVJZE51bWJlcnBsYW5zTnVtYmVycGxhbklkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNTaXRlc1NpdGVJZE51bWJlcnBsYW5zTnVtYmVycGxhbklkKHNpdGVJZCwgbnVtYmVyUGxhbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3NpdGVzL3tzaXRlSWR9L251bWJlcnBsYW5zL3tudW1iZXJQbGFuSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2l0ZUlkID09PSB1bmRlZmluZWQgfHwgc2l0ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzaXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2l0ZUlkfScsIHNpdGVJZCk7XG4gICAgaWYobnVtYmVyUGxhbklkID09PSB1bmRlZmluZWQgfHwgbnVtYmVyUGxhbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBudW1iZXJQbGFuSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bnVtYmVyUGxhbklkfScsIG51bWJlclBsYW5JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVHJpZ2dlcnMgdGhlIHJlYmFsYW5jZSBvcGVyYXRpb24uXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2l0ZUlkIC0gU2l0ZSBJRFxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucG9zdFByb3ZpZGVyc0VkZ2VzU2l0ZXNTaXRlSWRSZWJhbGFuY2UgPSBmdW5jdGlvbiBwb3N0UHJvdmlkZXJzRWRnZXNTaXRlc1NpdGVJZFJlYmFsYW5jZShzaXRlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvc2l0ZXMve3NpdGVJZH0vcmViYWxhbmNlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoc2l0ZUlkID09PSB1bmRlZmluZWQgfHwgc2l0ZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzaXRlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c2l0ZUlkfScsIHNpdGVJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgRWRnZS1jb21wYXRpYmxlIHRpbWUgem9uZXNcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNUaW1lem9uZXMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RpbWV6b25lcyhwYWdlU2l6ZSwgcGFnZU51bWJlcil7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy90aW1lem9uZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBUcnVuayBCYXNlIFNldHRpbmdzIGxpc3RpbmdcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBWYWx1ZSBieSB3aGljaCB0byBzb3J0XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlY29yZGluZ0VuYWJsZWQgLSBGaWx0ZXIgdHJ1bmtzIGJ5IHJlY29yZGluZyBlbmFibGVkXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwidHJ1bmtNZXRhYmFzZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJ0cnVua1R5cGVcIjogXCJcIixcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzVHJ1bmtiYXNlc2V0dGluZ3MgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzKHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBzb3J0QnksIHNvcnRPcmRlciwgcmVjb3JkaW5nRW5hYmxlZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy90cnVua2Jhc2VzZXR0aW5ncyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wic29ydEJ5XCJdID0gc29ydEJ5O1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJyZWNvcmRpbmdFbmFibGVkXCJdID0gcmVjb3JkaW5nRW5hYmxlZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYSBUcnVuayBCYXNlIFNldHRpbmdzIG9iamVjdFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUcnVuayBiYXNlIHNldHRpbmdzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInRydW5rTWV0YWJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwidHJ1bmtUeXBlXCI6IFwiXCIsXG4gICBcIm1hbmFnZWRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInRydW5rTWV0YWJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwidHJ1bmtUeXBlXCI6IFwiXCIsXG4gICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNUcnVua2Jhc2VzZXR0aW5ncyA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvdHJ1bmtiYXNlc2V0dGluZ3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBtYWtlcyBhbmQgbW9kZWxzIHRvIGNyZWF0ZSBhIG5ldyBUcnVuayBCYXNlIFNldHRpbmdzXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFxuICBFWFRFUk5BTCxcbiAgUEhPTkUsXG4gIEVER0UsXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNUcnVua2Jhc2VzZXR0aW5nc0F2YWlsYWJsZW1ldGFiYXNlcyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzVHJ1bmtiYXNlc2V0dGluZ3NBdmFpbGFibGVtZXRhYmFzZXModHlwZSwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvdHJ1bmtiYXNlc2V0dGluZ3MvYXZhaWxhYmxlbWV0YWJhc2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1widHlwZVwiXSA9IHR5cGU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBUcnVuayBCYXNlIFNldHRpbmdzIGluc3RhbmNlIHRlbXBsYXRlIGZyb20gYSBnaXZlbiBtYWtlIGFuZCBtb2RlbC4gVGhpcyBvYmplY3QgY2FuIHRoZW4gYmUgbW9kaWZpZWQgYW5kIHNhdmVkIGFzIGEgbmV3IFRydW5rIEJhc2UgU2V0dGluZ3MgaW5zdGFuY2VcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB0cnVua01ldGFiYXNlSWQgLSBUaGUgaWQgb2YgYSBtZXRhYmFzZSBvYmplY3QgdXBvbiB3aGljaCB0byBiYXNlIHRoaXMgVHJ1bmsgQmFzZSBTZXR0aW5nc1xuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInRydW5rTWV0YWJhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwidHJ1bmtUeXBlXCI6IFwiXCIsXG4gICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzVGVtcGxhdGUgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzVGVtcGxhdGUodHJ1bmtNZXRhYmFzZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3RydW5rYmFzZXNldHRpbmdzL3RlbXBsYXRlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodHJ1bmtNZXRhYmFzZUlkID09PSB1bmRlZmluZWQgfHwgdHJ1bmtNZXRhYmFzZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB0cnVua01ldGFiYXNlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1widHJ1bmtNZXRhYmFzZUlkXCJdID0gdHJ1bmtNZXRhYmFzZUlkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIFRydW5rIEJhc2UgU2V0dGluZ3Mgb2JqZWN0IGJ5IElEXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdHJ1bmtCYXNlU2V0dGluZ3NJZCAtIFRydW5rIEJhc2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJ0cnVua01ldGFiYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInRydW5rVHlwZVwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNUcnVua2Jhc2VzZXR0aW5nc1RydW5rYmFzZXNldHRpbmdzSWQgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzVHJ1bmtiYXNlc2V0dGluZ3NJZCh0cnVua0Jhc2VTZXR0aW5nc0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3RydW5rYmFzZXNldHRpbmdzL3t0cnVua0Jhc2VTZXR0aW5nc0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHRydW5rQmFzZVNldHRpbmdzSWQgPT09IHVuZGVmaW5lZCB8fCB0cnVua0Jhc2VTZXR0aW5nc0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB0cnVua0Jhc2VTZXR0aW5nc0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3RydW5rQmFzZVNldHRpbmdzSWR9JywgdHJ1bmtCYXNlU2V0dGluZ3NJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgVHJ1bmsgQmFzZSBTZXR0aW5ncyBvYmplY3QgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB0cnVua0Jhc2VTZXR0aW5nc0lkIC0gVHJ1bmsgQmFzZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVHJ1bmsgYmFzZSBzZXR0aW5nc1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJ0cnVua01ldGFiYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInRydW5rVHlwZVwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWVcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJ0cnVua01ldGFiYXNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcInRydW5rVHlwZVwiOiBcIlwiLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUucHV0UHJvdmlkZXJzRWRnZXNUcnVua2Jhc2VzZXR0aW5nc1RydW5rYmFzZXNldHRpbmdzSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzVHJ1bmtiYXNlc2V0dGluZ3NJZCh0cnVua0Jhc2VTZXR0aW5nc0lkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3RydW5rYmFzZXNldHRpbmdzL3t0cnVua0Jhc2VTZXR0aW5nc0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHRydW5rQmFzZVNldHRpbmdzSWQgPT09IHVuZGVmaW5lZCB8fCB0cnVua0Jhc2VTZXR0aW5nc0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB0cnVua0Jhc2VTZXR0aW5nc0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3RydW5rQmFzZVNldHRpbmdzSWR9JywgdHJ1bmtCYXNlU2V0dGluZ3NJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBUcnVuayBCYXNlIFNldHRpbmdzIG9iamVjdCBieSBJRFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHRydW5rQmFzZVNldHRpbmdzSWQgLSBUcnVuayBCYXNlIElEXG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5kZWxldGVQcm92aWRlcnNFZGdlc1RydW5rYmFzZXNldHRpbmdzVHJ1bmtiYXNlc2V0dGluZ3NJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVyc0VkZ2VzVHJ1bmtiYXNlc2V0dGluZ3NUcnVua2Jhc2VzZXR0aW5nc0lkKHRydW5rQmFzZVNldHRpbmdzSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMvdHJ1bmtiYXNlc2V0dGluZ3Mve3RydW5rQmFzZVNldHRpbmdzSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodHJ1bmtCYXNlU2V0dGluZ3NJZCA9PT0gdW5kZWZpbmVkIHx8IHRydW5rQmFzZVNldHRpbmdzSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHRydW5rQmFzZVNldHRpbmdzSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dHJ1bmtCYXNlU2V0dGluZ3NJZH0nLCB0cnVua0Jhc2VTZXR0aW5nc0lkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIHRydW5rcy5cbiAgKiBAZGVzY3JpcHRpb24gVHJ1bmtzIGFyZSBjcmVhdGVkIGJ5IGFzc2lnbmluZyB0cnVuayBiYXNlIHNldHRpbmdzIHRvIGFuIEVkZ2Ugb3IgRWRnZSBHcm91cC5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZU51bWJlciAtIFBhZ2UgbnVtYmVyXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlU2l6ZSAtIFBhZ2Ugc2l6ZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0QnkgLSBWYWx1ZSBieSB3aGljaCB0byBzb3J0XG4gICogQHBhcmFtIHtzdHJpbmd9IHNvcnRPcmRlciAtIFNvcnQgb3JkZXJcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZWlkIC0gRmlsdGVyIGJ5IEVkZ2UgSWRzXG4gICogQHBhcmFtIHtzdHJpbmd9IHRydW5rQmFzZWlkIC0gRmlsdGVyIGJ5IFRydW5rIEJhc2UgSWRzXG4gICogQHBhcmFtIHtzdHJpbmd9IHRydW5rVHlwZSAtIEZpbHRlciBieSBhIFRydW5rIHR5cGVcbiAgRVhURVJOQUwsXG4gIFBIT05FLFxuICBFREdFLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNUcnVua3MgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RydW5rcyhwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgc29ydEJ5LCBzb3J0T3JkZXIsIGVkZ2VpZCwgdHJ1bmtCYXNlaWQsIHRydW5rVHlwZSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy90cnVua3MnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRCeVwiXSA9IHNvcnRCeTtcbiAgICByZXF1ZXN0UXVlcnlbXCJzb3J0T3JkZXJcIl0gPSBzb3J0T3JkZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZWRnZS5pZFwiXSA9IGVkZ2VpZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJ0cnVua0Jhc2UuaWRcIl0gPSB0cnVua0Jhc2VpZDtcbiAgICByZXF1ZXN0UXVlcnlbXCJ0cnVua1R5cGVcIl0gPSB0cnVua1R5cGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGEgVHJ1bmsgYnkgSURcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB0cnVua0lkIC0gVHJ1bmsgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJ0cnVua1R5cGVcIjogXCJcIixcbiAgIFwiZWRnZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJ0cnVua0Jhc2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwidHJ1bmtNZXRhYmFzZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzVHJ1bmtzVHJ1bmtJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzVHJ1bmtzVHJ1bmtJZCh0cnVua0lkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3RydW5rcy97dHJ1bmtJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih0cnVua0lkID09PSB1bmRlZmluZWQgfHwgdHJ1bmtJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdHJ1bmtJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t0cnVua0lkfScsIHRydW5rSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBDb3VudHMgb2YgdHJ1bmtzIHRoYXQgaGF2ZSByZWNvcmRpbmcgZGlzYWJsZWQgb3IgZW5hYmxlZFxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHRydW5rVHlwZSAtIFRoZSB0eXBlIG9mIHRoaXMgdHJ1bmsgYmFzZS5cbiAgRVhURVJOQUwsXG4gIFBIT05FLFxuICBFREdFLFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJlbmFibGVkQ291bnRcIjogMCxcbiAgIFwiZGlzYWJsZWRDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc1RydW5rc3dpdGhyZWNvcmRpbmcgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc1RydW5rc3dpdGhyZWNvcmRpbmcodHJ1bmtUeXBlKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3RydW5rc3dpdGhyZWNvcmRpbmcnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJ0cnVua1R5cGVcIl0gPSB0cnVua1R5cGU7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGVkZ2UuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImludGVyZmFjZXNcIjogW10sXG4gICBcIm1ha2VcIjogXCJcIixcbiAgIFwibW9kZWxcIjogXCJcIixcbiAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgIFwicGF0Y2hcIjogXCJcIixcbiAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNvZnR3YXJlU3RhdHVzXCI6IHtcbiAgICAgIFwidmVyc2lvblwiOiB7fSxcbiAgICAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICAgICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VVcmlcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFwiOiB0cnVlXG4gICB9LFxuICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWQoZWRnZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGEgZWRnZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBFZGdlXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImludGVyZmFjZXNcIjogW10sXG4gICBcIm1ha2VcIjogXCJcIixcbiAgIFwibW9kZWxcIjogXCJcIixcbiAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgIFwicGF0Y2hcIjogXCJcIixcbiAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXVxuICAgfSxcbiAgIFwic2l0ZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzb2Z0d2FyZVN0YXR1c1wiOiB7XG4gICAgICBcInZlcnNpb25cIjoge30sXG4gICAgICBcIm1heERvd25sb2FkUmF0ZVwiOiAwLFxuICAgICAgXCJkb3dubG9hZFN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJleGVjdXRlU3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVTdG9wVGltZVwiOiBcIlwiLFxuICAgICAgXCJleGVjdXRlT25JZGxlXCI6IHRydWUsXG4gICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICAgICBcImN1cnJlbnRcIjogdHJ1ZVxuICAgfSxcbiAgIFwib25saW5lU3RhdHVzXCI6IFwiXCIsXG4gICBcInNlcmlhbE51bWJlclwiOiBcIlwiLFxuICAgXCJwaHlzaWNhbEVkZ2VcIjogdHJ1ZSxcbiAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgXCJlZGdlRGVwbG95bWVudFR5cGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcImludGVyZmFjZXNcIjogW10sXG4gICBcIm1ha2VcIjogXCJcIixcbiAgIFwibW9kZWxcIjogXCJcIixcbiAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgIFwicGF0Y2hcIjogXCJcIixcbiAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzaXRlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInNvZnR3YXJlU3RhdHVzXCI6IHtcbiAgICAgIFwidmVyc2lvblwiOiB7fSxcbiAgICAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICAgICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICAgICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcImVkZ2VVcmlcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFwiOiB0cnVlXG4gICB9LFxuICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRWRnZUlkID0gZnVuY3Rpb24gcHV0UHJvdmlkZXJzRWRnZXNFZGdlSWQoZWRnZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYSBlZGdlLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzRWRnZUlkID0gZnVuY3Rpb24gZGVsZXRlUHJvdmlkZXJzRWRnZXNFZGdlSWQoZWRnZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBsaXN0IG9mIGxpbmVzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkTGluZXMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VkZ2VJZExpbmVzKGVkZ2VJZCwgcGFnZVNpemUsIHBhZ2VOdW1iZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vbGluZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBsaW5lXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lSWQgLSBMaW5lIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwic2NoZW1hXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInByb3BlcnRpZXNcIjoge30sXG4gICBcImVkZ2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImludGVyZmFjZXNcIjogW10sXG4gICAgICBcIm1ha2VcIjogXCJcIixcbiAgICAgIFwibW9kZWxcIjogXCJcIixcbiAgICAgIFwiYXBpVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uVGltZXN0YW1wXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblBsYXRmb3JtXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvbkNvbmZpZ3VyYXRpb25cIjogXCJcIixcbiAgICAgIFwiZnVsbFNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJwYWlyaW5nSWRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRcIjogXCJcIixcbiAgICAgIFwiZmluZ2VycHJpbnRIaW50XCI6IFwiXCIsXG4gICAgICBcImN1cnJlbnRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInN0YWdlZFZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGF0Y2hcIjogXCJcIixcbiAgICAgIFwic3RhdHVzQ29kZVwiOiBcIlwiLFxuICAgICAgXCJlZGdlR3JvdXBcIjoge30sXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcInNvZnR3YXJlU3RhdHVzXCI6IHt9LFxuICAgICAgXCJvbmxpbmVTdGF0dXNcIjogXCJcIixcbiAgICAgIFwic2VyaWFsTnVtYmVyXCI6IFwiXCIsXG4gICAgICBcInBoeXNpY2FsRWRnZVwiOiB0cnVlLFxuICAgICAgXCJtYW5hZ2VkXCI6IHRydWUsXG4gICAgICBcImVkZ2VEZXBsb3ltZW50VHlwZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImVkZ2VHcm91cFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgICAgXCJlZGdlVHJ1bmtCYXNlQXNzaWdubWVudFwiOiB7fSxcbiAgICAgIFwicGhvbmVUcnVua0Jhc2VzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImxpbmVUeXBlXCI6IFwiXCIsXG4gICBcImVuZHBvaW50XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjb3VudFwiOiAwLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgICAgXCJzY2hlbWFcIjoge30sXG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwic2l0ZVwiOiB7fSxcbiAgICAgIFwiZGlkc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJpcEFkZHJlc3NcIjogXCJcIixcbiAgIFwibG9naWNhbEludGVyZmFjZUlkXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWRMaW5lc0xpbmVJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkTGluZXNMaW5lSWQoZWRnZUlkLCBsaW5lSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vbGluZXMve2xpbmVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICBpZihsaW5lSWQgPT09IHVuZGVmaW5lZCB8fCBsaW5lSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGxpbmVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tsaW5lSWR9JywgbGluZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBsaW5lLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gbGluZUlkIC0gTGluZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTGluZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJzY2hlbWFcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgIFwiZWRnZVwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiaW50ZXJmYWNlc1wiOiBbXSxcbiAgICAgIFwibWFrZVwiOiBcIlwiLFxuICAgICAgXCJtb2RlbFwiOiBcIlwiLFxuICAgICAgXCJhcGlWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25UaW1lc3RhbXBcIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uUGxhdGZvcm1cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uQ29uZmlndXJhdGlvblwiOiBcIlwiLFxuICAgICAgXCJmdWxsU29mdHdhcmVWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInBhaXJpbmdJZFwiOiBcIlwiLFxuICAgICAgXCJmaW5nZXJwcmludFwiOiBcIlwiLFxuICAgICAgXCJmaW5nZXJwcmludEhpbnRcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic3RhZ2VkVmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJwYXRjaFwiOiBcIlwiLFxuICAgICAgXCJzdGF0dXNDb2RlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VHcm91cFwiOiB7fSxcbiAgICAgIFwic2l0ZVwiOiB7fSxcbiAgICAgIFwic29mdHdhcmVTdGF0dXNcIjoge30sXG4gICAgICBcIm9ubGluZVN0YXR1c1wiOiBcIlwiLFxuICAgICAgXCJzZXJpYWxOdW1iZXJcIjogXCJcIixcbiAgICAgIFwicGh5c2ljYWxFZGdlXCI6IHRydWUsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZURlcGxveW1lbnRUeXBlXCI6IFwiXCJcbiAgIH0sXG4gICBcImVkZ2VHcm91cFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgICAgXCJlZGdlVHJ1bmtCYXNlQXNzaWdubWVudFwiOiB7fSxcbiAgICAgIFwicGhvbmVUcnVua0Jhc2VzXCI6IFtdXG4gICB9LFxuICAgXCJsaW5lVHlwZVwiOiBcIlwiLFxuICAgXCJlbmRwb2ludFwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY291bnRcIjogMCxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgICAgIFwic2NoZW1hXCI6IHt9LFxuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcImRpZHNcIjogW11cbiAgIH0sXG4gICBcImlwQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJsb2dpY2FsSW50ZXJmYWNlSWRcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcInNjaGVtYVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICAgXCJlZGdlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICAgICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJpbnRlcmZhY2VzXCI6IFtdLFxuICAgICAgXCJtYWtlXCI6IFwiXCIsXG4gICAgICBcIm1vZGVsXCI6IFwiXCIsXG4gICAgICBcImFwaVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwic29mdHdhcmVWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInNvZnR3YXJlVmVyc2lvblRpbWVzdGFtcFwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25QbGF0Zm9ybVwiOiBcIlwiLFxuICAgICAgXCJzb2Z0d2FyZVZlcnNpb25Db25maWd1cmF0aW9uXCI6IFwiXCIsXG4gICAgICBcImZ1bGxTb2Z0d2FyZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicGFpcmluZ0lkXCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50XCI6IFwiXCIsXG4gICAgICBcImZpbmdlcnByaW50SGludFwiOiBcIlwiLFxuICAgICAgXCJjdXJyZW50VmVyc2lvblwiOiBcIlwiLFxuICAgICAgXCJzdGFnZWRWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInBhdGNoXCI6IFwiXCIsXG4gICAgICBcInN0YXR1c0NvZGVcIjogXCJcIixcbiAgICAgIFwiZWRnZUdyb3VwXCI6IHt9LFxuICAgICAgXCJzaXRlXCI6IHt9LFxuICAgICAgXCJzb2Z0d2FyZVN0YXR1c1wiOiB7fSxcbiAgICAgIFwib25saW5lU3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInNlcmlhbE51bWJlclwiOiBcIlwiLFxuICAgICAgXCJwaHlzaWNhbEVkZ2VcIjogdHJ1ZSxcbiAgICAgIFwibWFuYWdlZFwiOiB0cnVlLFxuICAgICAgXCJlZGdlRGVwbG95bWVudFR5cGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJlZGdlR3JvdXBcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgICAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICAgICBcIm1hbmFnZWRcIjogdHJ1ZSxcbiAgICAgIFwiZWRnZVRydW5rQmFzZUFzc2lnbm1lbnRcIjoge30sXG4gICAgICBcInBob25lVHJ1bmtCYXNlc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJsaW5lVHlwZVwiOiBcIlwiLFxuICAgXCJlbmRwb2ludFwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgICAgIFwiY291bnRcIjogMCxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7fSxcbiAgICAgIFwic2NoZW1hXCI6IHt9LFxuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcInNpdGVcIjoge30sXG4gICAgICBcImRpZHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiaXBBZGRyZXNzXCI6IFwiXCIsXG4gICBcImxvZ2ljYWxJbnRlcmZhY2VJZFwiOiBcIlwiLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRWRnZUlkTGluZXNMaW5lSWQgPSBmdW5jdGlvbiBwdXRQcm92aWRlcnNFZGdlc0VkZ2VJZExpbmVzTGluZUlkKGVkZ2VJZCwgbGluZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xpbmVzL3tsaW5lSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgaWYobGluZUlkID09PSB1bmRlZmluZWQgfHwgbGluZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBsaW5lSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bGluZUlkfScsIGxpbmVJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZWRnZSBsb2dpY2FsIGludGVyZmFjZXMuXG4gICogQGRlc2NyaXB0aW9uIFJldHJpZXZlIGEgbGlzdCBvZiBhbGwgY29uZmlndXJlZCBsb2dpY2FsIGludGVyZmFjZXMgZnJvbSBhIHNwZWNpZmljIGVkZ2UuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIEZpZWxkIHRvIGV4cGFuZCBpbiB0aGUgcmVzcG9uc2UgVmFsaWQgVmFsdWVzOiBleHRlcm5hbFRydW5rQmFzZUFzc2lnbm1lbnRzLCBwaG9uZVRydW5rQmFzZUFzc2lnbm1lbnRzXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2VJZExvZ2ljYWxpbnRlcmZhY2VzID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWRMb2dpY2FsaW50ZXJmYWNlcyhlZGdlSWQsIGV4cGFuZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9sb2dpY2FsaW50ZXJmYWNlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDcmVhdGUgYW4gZWRnZSBsb2dpY2FsIGludGVyZmFjZS5cbiAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTG9naWNhbCBpbnRlcmZhY2VcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwiZWRnZVVyaVwiOiBcIlwiLFxuICAgXCJlZGdlQXNzaWduZWRJZFwiOiBcIlwiLFxuICAgXCJmcmllbmRseU5hbWVcIjogXCJcIixcbiAgIFwidmxhblRhZ0lkXCI6IDAsXG4gICBcImhhcmR3YXJlQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwaHlzaWNhbEFkYXB0ZXJJZFwiOiBcIlwiLFxuICAgXCJpZlN0YXR1c1wiOiBcIlwiLFxuICAgXCJyb3V0ZXNcIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwiaXB2NENhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiZGhjcFwiOiB0cnVlLFxuICAgICAgXCJtZXRyaWNcIjogMCxcbiAgICAgIFwiYXV0b01ldHJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJpcHY2Q2FwYWJpbGl0aWVzXCI6IHtcbiAgICAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgICAgXCJkaGNwXCI6IHRydWUsXG4gICAgICBcIm1ldHJpY1wiOiAwLFxuICAgICAgXCJhdXRvTWV0cmljXCI6IHRydWVcbiAgIH0sXG4gICBcImN1cnJlbnRTdGF0ZVwiOiBcIlwiLFxuICAgXCJsYXN0TW9kaWZpZWRVc2VySWRcIjogXCJcIixcbiAgIFwibGFzdE1vZGlmaWVkQ29ycmVsYXRpb25JZFwiOiBcIlwiLFxuICAgXCJjb21tYW5kUmVzcG9uc2VzXCI6IFtdLFxuICAgXCJpbmhlcml0UGhvbmVUcnVua0Jhc2VzSVB2NFwiOiB0cnVlLFxuICAgXCJpbmhlcml0UGhvbmVUcnVua0Jhc2VzSVB2NlwiOiB0cnVlLFxuICAgXCJ1c2VGb3JJbnRlcm5hbEVkZ2VDb21tdW5pY2F0aW9uXCI6IHRydWUsXG4gICBcImV4dGVybmFsVHJ1bmtCYXNlQXNzaWdubWVudHNcIjogW10sXG4gICBcInBob25lVHJ1bmtCYXNlQXNzaWdubWVudHNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICBcImVkZ2VBc3NpZ25lZElkXCI6IFwiXCIsXG4gICBcImZyaWVuZGx5TmFtZVwiOiBcIlwiLFxuICAgXCJ2bGFuVGFnSWRcIjogMCxcbiAgIFwiaGFyZHdhcmVBZGRyZXNzXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsQWRhcHRlcklkXCI6IFwiXCIsXG4gICBcImlmU3RhdHVzXCI6IFwiXCIsXG4gICBcImludGVyZmFjZVR5cGVcIjogXCJcIixcbiAgIFwicm91dGVzXCI6IFtdLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcImlwdjRDYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcImRoY3BcIjogdHJ1ZSxcbiAgICAgIFwibWV0cmljXCI6IDAsXG4gICAgICBcImF1dG9NZXRyaWNcIjogdHJ1ZSxcbiAgICAgIFwic3VwcG9ydHNNZXRyaWNcIjogdHJ1ZVxuICAgfSxcbiAgIFwiaXB2NkNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiZGhjcFwiOiB0cnVlLFxuICAgICAgXCJtZXRyaWNcIjogMCxcbiAgICAgIFwiYXV0b01ldHJpY1wiOiB0cnVlLFxuICAgICAgXCJzdXBwb3J0c01ldHJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJjdXJyZW50U3RhdGVcIjogXCJcIixcbiAgIFwibGFzdE1vZGlmaWVkVXNlcklkXCI6IFwiXCIsXG4gICBcImxhc3RNb2RpZmllZENvcnJlbGF0aW9uSWRcIjogXCJcIixcbiAgIFwiY29tbWFuZFJlc3BvbnNlc1wiOiBbXSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjRcIjogdHJ1ZSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjZcIjogdHJ1ZSxcbiAgIFwidXNlRm9ySW50ZXJuYWxFZGdlQ29tbXVuaWNhdGlvblwiOiB0cnVlLFxuICAgXCJleHRlcm5hbFRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJwaG9uZVRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZExvZ2ljYWxpbnRlcmZhY2VzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXMoZWRnZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xvZ2ljYWxpbnRlcmZhY2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IGFuIGVkZ2UgbG9naWNhbCBpbnRlcmZhY2VcbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGludGVyZmFjZUlkIC0gSW50ZXJmYWNlIElEXG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gRmllbGQgdG8gZXhwYW5kIGluIHRoZSByZXNwb25zZSBWYWxpZCBWYWx1ZXM6IGV4dGVybmFsVHJ1bmtCYXNlQXNzaWdubWVudHMsIHBob25lVHJ1bmtCYXNlQXNzaWdubWVudHNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICBcImVkZ2VBc3NpZ25lZElkXCI6IFwiXCIsXG4gICBcImZyaWVuZGx5TmFtZVwiOiBcIlwiLFxuICAgXCJ2bGFuVGFnSWRcIjogMCxcbiAgIFwiaGFyZHdhcmVBZGRyZXNzXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsQWRhcHRlcklkXCI6IFwiXCIsXG4gICBcImlmU3RhdHVzXCI6IFwiXCIsXG4gICBcImludGVyZmFjZVR5cGVcIjogXCJcIixcbiAgIFwicm91dGVzXCI6IFtdLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcImlwdjRDYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcImRoY3BcIjogdHJ1ZSxcbiAgICAgIFwibWV0cmljXCI6IDAsXG4gICAgICBcImF1dG9NZXRyaWNcIjogdHJ1ZSxcbiAgICAgIFwic3VwcG9ydHNNZXRyaWNcIjogdHJ1ZVxuICAgfSxcbiAgIFwiaXB2NkNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiZGhjcFwiOiB0cnVlLFxuICAgICAgXCJtZXRyaWNcIjogMCxcbiAgICAgIFwiYXV0b01ldHJpY1wiOiB0cnVlLFxuICAgICAgXCJzdXBwb3J0c01ldHJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJjdXJyZW50U3RhdGVcIjogXCJcIixcbiAgIFwibGFzdE1vZGlmaWVkVXNlcklkXCI6IFwiXCIsXG4gICBcImxhc3RNb2RpZmllZENvcnJlbGF0aW9uSWRcIjogXCJcIixcbiAgIFwiY29tbWFuZFJlc3BvbnNlc1wiOiBbXSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjRcIjogdHJ1ZSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjZcIjogdHJ1ZSxcbiAgIFwidXNlRm9ySW50ZXJuYWxFZGdlQ29tbXVuaWNhdGlvblwiOiB0cnVlLFxuICAgXCJleHRlcm5hbFRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJwaG9uZVRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZChlZGdlSWQsIGludGVyZmFjZUlkLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vbG9naWNhbGludGVyZmFjZXMve2ludGVyZmFjZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGludGVyZmFjZUlkID09PSB1bmRlZmluZWQgfHwgaW50ZXJmYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGludGVyZmFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2ludGVyZmFjZUlkfScsIGludGVyZmFjZUlkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIGFuIGVkZ2UgbG9naWNhbCBpbnRlcmZhY2UuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcmZhY2VJZCAtIEludGVyZmFjZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTG9naWNhbCBpbnRlcmZhY2VcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwiZWRnZVVyaVwiOiBcIlwiLFxuICAgXCJlZGdlQXNzaWduZWRJZFwiOiBcIlwiLFxuICAgXCJmcmllbmRseU5hbWVcIjogXCJcIixcbiAgIFwidmxhblRhZ0lkXCI6IDAsXG4gICBcImhhcmR3YXJlQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJwaHlzaWNhbEFkYXB0ZXJJZFwiOiBcIlwiLFxuICAgXCJpZlN0YXR1c1wiOiBcIlwiLFxuICAgXCJyb3V0ZXNcIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwiaXB2NENhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiZGhjcFwiOiB0cnVlLFxuICAgICAgXCJtZXRyaWNcIjogMCxcbiAgICAgIFwiYXV0b01ldHJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJpcHY2Q2FwYWJpbGl0aWVzXCI6IHtcbiAgICAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgICAgXCJkaGNwXCI6IHRydWUsXG4gICAgICBcIm1ldHJpY1wiOiAwLFxuICAgICAgXCJhdXRvTWV0cmljXCI6IHRydWVcbiAgIH0sXG4gICBcImN1cnJlbnRTdGF0ZVwiOiBcIlwiLFxuICAgXCJsYXN0TW9kaWZpZWRVc2VySWRcIjogXCJcIixcbiAgIFwibGFzdE1vZGlmaWVkQ29ycmVsYXRpb25JZFwiOiBcIlwiLFxuICAgXCJjb21tYW5kUmVzcG9uc2VzXCI6IFtdLFxuICAgXCJpbmhlcml0UGhvbmVUcnVua0Jhc2VzSVB2NFwiOiB0cnVlLFxuICAgXCJpbmhlcml0UGhvbmVUcnVua0Jhc2VzSVB2NlwiOiB0cnVlLFxuICAgXCJ1c2VGb3JJbnRlcm5hbEVkZ2VDb21tdW5pY2F0aW9uXCI6IHRydWUsXG4gICBcImV4dGVybmFsVHJ1bmtCYXNlQXNzaWdubWVudHNcIjogW10sXG4gICBcInBob25lVHJ1bmtCYXNlQXNzaWdubWVudHNcIjogW11cbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICBcImVkZ2VBc3NpZ25lZElkXCI6IFwiXCIsXG4gICBcImZyaWVuZGx5TmFtZVwiOiBcIlwiLFxuICAgXCJ2bGFuVGFnSWRcIjogMCxcbiAgIFwiaGFyZHdhcmVBZGRyZXNzXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsQWRhcHRlcklkXCI6IFwiXCIsXG4gICBcImlmU3RhdHVzXCI6IFwiXCIsXG4gICBcImludGVyZmFjZVR5cGVcIjogXCJcIixcbiAgIFwicm91dGVzXCI6IFtdLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcImlwdjRDYXBhYmlsaXRpZXNcIjoge1xuICAgICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICAgICBcImRoY3BcIjogdHJ1ZSxcbiAgICAgIFwibWV0cmljXCI6IDAsXG4gICAgICBcImF1dG9NZXRyaWNcIjogdHJ1ZSxcbiAgICAgIFwic3VwcG9ydHNNZXRyaWNcIjogdHJ1ZVxuICAgfSxcbiAgIFwiaXB2NkNhcGFiaWxpdGllc1wiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiZGhjcFwiOiB0cnVlLFxuICAgICAgXCJtZXRyaWNcIjogMCxcbiAgICAgIFwiYXV0b01ldHJpY1wiOiB0cnVlLFxuICAgICAgXCJzdXBwb3J0c01ldHJpY1wiOiB0cnVlXG4gICB9LFxuICAgXCJjdXJyZW50U3RhdGVcIjogXCJcIixcbiAgIFwibGFzdE1vZGlmaWVkVXNlcklkXCI6IFwiXCIsXG4gICBcImxhc3RNb2RpZmllZENvcnJlbGF0aW9uSWRcIjogXCJcIixcbiAgIFwiY29tbWFuZFJlc3BvbnNlc1wiOiBbXSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjRcIjogdHJ1ZSxcbiAgIFwiaW5oZXJpdFBob25lVHJ1bmtCYXNlc0lQdjZcIjogdHJ1ZSxcbiAgIFwidXNlRm9ySW50ZXJuYWxFZGdlQ29tbXVuaWNhdGlvblwiOiB0cnVlLFxuICAgXCJleHRlcm5hbFRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJwaG9uZVRydW5rQmFzZUFzc2lnbm1lbnRzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnB1dFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZCA9IGZ1bmN0aW9uIHB1dFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZChlZGdlSWQsIGludGVyZmFjZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xvZ2ljYWxpbnRlcmZhY2VzL3tpbnRlcmZhY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICBpZihpbnRlcmZhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IGludGVyZmFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBpbnRlcmZhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tpbnRlcmZhY2VJZH0nLCBpbnRlcmZhY2VJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgYW4gZWRnZSBsb2dpY2FsIGludGVyZmFjZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJmYWNlSWQgLSBJbnRlcmZhY2UgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9naWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZChlZGdlSWQsIGludGVyZmFjZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xvZ2ljYWxpbnRlcmZhY2VzL3tpbnRlcmZhY2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICBpZihpbnRlcmZhY2VJZCA9PT0gdW5kZWZpbmVkIHx8IGludGVyZmFjZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBpbnRlcmZhY2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tpbnRlcmZhY2VJZH0nLCBpbnRlcmZhY2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIGEgam9iIHRvIHVwbG9hZCBhIGxpc3Qgb2YgRWRnZSBsb2dzLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIEVkZ2VMb2dzSm9iUmVxdWVzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGF0aFwiOiBcIlwiLFxuICAgXCJxdWVyeVwiOiBcIlwiLFxuICAgXCJyZWN1cnNlXCI6IHRydWVcbn1cbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZExvZ3NKb2JzID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9nc0pvYnMoZWRnZUlkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xvZ3Mvam9icyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhbiBFZGdlIGxvZ3Mgam9iLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gam9iSWQgLSBKb2IgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJmaWxlc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2VJZExvZ3NKb2JzSm9iSWQgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VkZ2VJZExvZ3NKb2JzSm9iSWQoZWRnZUlkLCBqb2JJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9sb2dzL2pvYnMve2pvYklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGpvYklkID09PSB1bmRlZmluZWQgfHwgam9iSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGpvYklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2pvYklkfScsIGpvYklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXF1ZXN0IHRoYXQgdGhlIHNwZWNpZmllZCBmaWxlSWRzIGJlIHVwbG9hZGVkIGZyb20gdGhlIEVkZ2UuXG4gICogQG1lbWJlck9mIFRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gZWRnZUlkIC0gRWRnZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JJZCAtIEpvYiBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gTG9nIHVwbG9hZCByZXF1ZXN0XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJmaWxlSWRzXCI6IFtdXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNFZGdlSWRMb2dzSm9ic0pvYklkVXBsb2FkID0gZnVuY3Rpb24gcG9zdFByb3ZpZGVyc0VkZ2VzRWRnZUlkTG9nc0pvYnNKb2JJZFVwbG9hZChlZGdlSWQsIGpvYklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L2xvZ3Mvam9icy97am9iSWR9L3VwbG9hZCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGpvYklkID09PSB1bmRlZmluZWQgfHwgam9iSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGpvYklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2pvYklkfScsIGpvYklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXRyaWV2ZSBhIGxpc3Qgb2YgYWxsIGNvbmZpZ3VyZWQgcGh5c2ljYWwgaW50ZXJmYWNlcyBmcm9tIGEgc3BlY2lmaWMgZWRnZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIixcbiAgIFwiZmlyc3RVcmlcIjogXCJcIixcbiAgIFwicHJldmlvdXNVcmlcIjogXCJcIixcbiAgIFwibmV4dFVyaVwiOiBcIlwiLFxuICAgXCJsYXN0VXJpXCI6IFwiXCIsXG4gICBcInBhZ2VDb3VudFwiOiAwXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2VJZFBoeXNpY2FsaW50ZXJmYWNlcyA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkUGh5c2ljYWxpbnRlcmZhY2VzKGVkZ2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9waHlzaWNhbGludGVyZmFjZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgZWRnZSBwaHlzaWNhbCBpbnRlcmZhY2UuXG4gICogQGRlc2NyaXB0aW9uIFJldHJpZXZlIGEgcGh5c2ljYWwgaW50ZXJmYWNlIGZyb20gYSBzcGVjaWZpYyBlZGdlLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJmYWNlSWQgLSBJbnRlcmZhY2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeVwiOiBcIlwiLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gICBcImNyZWF0ZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJlZGdlVXJpXCI6IFwiXCIsXG4gICBcImZyaWVuZGx5TmFtZVwiOiBcIlwiLFxuICAgXCJoYXJkd2FyZUFkZHJlc3NcIjogXCJcIixcbiAgIFwicG9ydExhYmVsXCI6IFwiXCIsXG4gICBcInBoeXNpY2FsQ2FwYWJpbGl0aWVzXCI6IHtcbiAgICAgIFwidmxhblwiOiB0cnVlLFxuICAgICAgXCJ0ZWFtXCI6IHRydWVcbiAgIH0sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaS5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWRQaHlzaWNhbGludGVyZmFjZXNJbnRlcmZhY2VJZCA9IGZ1bmN0aW9uIGdldFByb3ZpZGVyc0VkZ2VzRWRnZUlkUGh5c2ljYWxpbnRlcmZhY2VzSW50ZXJmYWNlSWQoZWRnZUlkLCBpbnRlcmZhY2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9waHlzaWNhbGludGVyZmFjZXMve2ludGVyZmFjZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGludGVyZmFjZUlkID09PSB1bmRlZmluZWQgfHwgaW50ZXJmYWNlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGludGVyZmFjZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2ludGVyZmFjZUlkfScsIGludGVyZmFjZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZWJvb3QgYW4gRWRnZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZFJlYm9vdCA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZFJlYm9vdChlZGdlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vcmVib290JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgc29mdHdhcmUgdXBkYXRlIHN0YXR1cyBpbmZvcm1hdGlvbiBhYm91dCBhbnkgZWRnZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInZlcnNpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImVkZ2VWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hEYXRlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VVcmlcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFwiOiB0cnVlLFxuICAgICAgXCJsYXRlc3RSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImVkZ2VVcmlcIjogXCJcIixcbiAgIFwiY3VycmVudFwiOiB0cnVlXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2VJZFNvZnR3YXJldXBkYXRlID0gZnVuY3Rpb24gZ2V0UHJvdmlkZXJzRWRnZXNFZGdlSWRTb2Z0d2FyZXVwZGF0ZShlZGdlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vc29mdHdhcmV1cGRhdGUnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTdGFydHMgYSBzb2Z0d2FyZSB1cGRhdGUgZm9yIHRoaXMgZWRnZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTb2Z0d2FyZSB1cGRhdGUgcmVxdWVzdFxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidmVyc2lvblwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZWRnZVZlcnNpb25cIjogXCJcIixcbiAgICAgIFwicHVibGlzaERhdGVcIjogXCJcIixcbiAgICAgIFwiZWRnZVVyaVwiOiBcIlwiLFxuICAgICAgXCJjdXJyZW50XCI6IHRydWUsXG4gICAgICBcImxhdGVzdFJlbGVhc2VcIjogdHJ1ZVxuICAgfSxcbiAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImVkZ2VVcmlcIjogXCJcIixcbiAgIFwiY3VycmVudFwiOiB0cnVlXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInZlcnNpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImVkZ2VWZXJzaW9uXCI6IFwiXCIsXG4gICAgICBcInB1Ymxpc2hEYXRlXCI6IFwiXCIsXG4gICAgICBcImVkZ2VVcmlcIjogXCJcIixcbiAgICAgIFwiY3VycmVudFwiOiB0cnVlLFxuICAgICAgXCJsYXRlc3RSZWxlYXNlXCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwibWF4RG93bmxvYWRSYXRlXCI6IDAsXG4gICBcImRvd25sb2FkU3RhcnRUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVTdGFydFRpbWVcIjogXCJcIixcbiAgIFwiZXhlY3V0ZVN0b3BUaW1lXCI6IFwiXCIsXG4gICBcImV4ZWN1dGVPbklkbGVcIjogdHJ1ZSxcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcImVkZ2VVcmlcIjogXCJcIixcbiAgIFwiY3VycmVudFwiOiB0cnVlXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5wb3N0UHJvdmlkZXJzRWRnZXNFZGdlSWRTb2Z0d2FyZXVwZGF0ZSA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZFNvZnR3YXJldXBkYXRlKGVkZ2VJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9zb2Z0d2FyZXVwZGF0ZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IENhbmNlbHMgYW55IGluLXByb2dyZXNzIHVwZGF0ZSBmb3IgdGhpcyBlZGdlLlxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSURcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLmRlbGV0ZVByb3ZpZGVyc0VkZ2VzRWRnZUlkU29mdHdhcmV1cGRhdGUgPSBmdW5jdGlvbiBkZWxldGVQcm92aWRlcnNFZGdlc0VkZ2VJZFNvZnR3YXJldXBkYXRlKGVkZ2VJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdGVsZXBob255L3Byb3ZpZGVycy9lZGdlcy97ZWRnZUlkfS9zb2Z0d2FyZXVwZGF0ZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGVkZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IGVkZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogZWRnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne2VkZ2VJZH0nLCBlZGdlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldHMgYWxsIHRoZSBhdmFpbGFibGUgc29mdHdhcmUgdmVyc2lvbnMgZm9yIHRoaXMgZWRnZS5cbiAgKiBAbWVtYmVyT2YgVGVsZXBob255UHJvdmlkZXJzRWRnZUFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBlZGdlSWQgLSBFZGdlIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZWRnZVZlcnNpb25cIjogXCJcIixcbiAgIFwicHVibGlzaERhdGVcIjogXCJcIixcbiAgIFwiZWRnZVVyaVwiOiBcIlwiLFxuICAgXCJjdXJyZW50XCI6IHRydWUsXG4gICBcImxhdGVzdFJlbGVhc2VcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5UZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpLnByb3RvdHlwZS5nZXRQcm92aWRlcnNFZGdlc0VkZ2VJZFNvZnR3YXJldmVyc2lvbnMgPSBmdW5jdGlvbiBnZXRQcm92aWRlcnNFZGdlc0VkZ2VJZFNvZnR3YXJldmVyc2lvbnMoZWRnZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90ZWxlcGhvbnkvcHJvdmlkZXJzL2VkZ2VzL3tlZGdlSWR9L3NvZnR3YXJldmVyc2lvbnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihlZGdlSWQgPT09IHVuZGVmaW5lZCB8fCBlZGdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGVkZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tlZGdlSWR9JywgZWRnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVbnBhaXIgYW4gRWRnZVxuICAqIEBtZW1iZXJPZiBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IGVkZ2VJZCAtIEVkZ2UgSWRcbiAgKi9cblRlbGVwaG9ueVByb3ZpZGVyc0VkZ2VBcGkucHJvdG90eXBlLnBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZFVucGFpciA9IGZ1bmN0aW9uIHBvc3RQcm92aWRlcnNFZGdlc0VkZ2VJZFVucGFpcihlZGdlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3RlbGVwaG9ueS9wcm92aWRlcnMvZWRnZXMve2VkZ2VJZH0vdW5wYWlyJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoZWRnZUlkID09PSB1bmRlZmluZWQgfHwgZWRnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBlZGdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7ZWRnZUlkfScsIGVkZ2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBUZWxlcGhvbnlQcm92aWRlcnNFZGdlQXBpO1xuIiwiLyoqXG4qIEBjbGFzcyBUb2tlbnNBcGlcbiogQGV4YW1wbGVcbiogdmFyIGFwaSA9IG5ldyBwdXJlY2xvdWQucGxhdGZvcm0uVG9rZW5zQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFRva2Vuc0FwaShzZXNzaW9uKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgVG9rZW5zQXBpKSkge1xuICAgICAgICByZXR1cm4gbmV3IFRva2Vuc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW5zQXBpIHJlcXVpcmVzIGEgUHVyZUNsb3VkU2Vzc2lvbicpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xufVxuXG4vKipcbiAgKiBAc3VtbWFyeSBEZWxldGUgIGF1dGggdG9rZW4gdXNlZCB0byBtYWtlIHRoZSByZXF1ZXN0LlxuICAqIEBtZW1iZXJPZiBUb2tlbnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKi9cblRva2Vuc0FwaS5wcm90b3R5cGUuZGVsZXRlTWUgPSBmdW5jdGlvbiBkZWxldGVNZSgpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3Rva2Vucy9tZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBUb2tlbnNBcGk7XG4iLCIvKipcbiogQGNsYXNzIFVzZXJSZWNvcmRpbmdzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlVzZXJSZWNvcmRpbmdzQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFVzZXJSZWNvcmRpbmdzQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBVc2VyUmVjb3JkaW5nc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVc2VyUmVjb3JkaW5nc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlclJlY29yZGluZ3NBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIGxpc3Qgb2YgdXNlciByZWNvcmRpbmdzLlxuICAqIEBtZW1iZXJPZiBVc2VyUmVjb3JkaW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBjb252ZXJzYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblVzZXJSZWNvcmRpbmdzQXBpLnByb3RvdHlwZS5nZXRVc2VycmVjb3JkaW5ncyA9IGZ1bmN0aW9uIGdldFVzZXJyZWNvcmRpbmdzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJyZWNvcmRpbmdzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHVzZXIgcmVjb3JkaW5nIHN1bW1hcnlcbiAgKiBAbWVtYmVyT2YgVXNlclJlY29yZGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicmVhZENvdW50XCI6IDAsXG4gICBcInVucmVhZENvdW50XCI6IDAsXG4gICBcInRvdGFsQ291bnRcIjogMFxufVxuICAqL1xuVXNlclJlY29yZGluZ3NBcGkucHJvdG90eXBlLmdldFN1bW1hcnkgPSBmdW5jdGlvbiBnZXRTdW1tYXJ5KCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnJlY29yZGluZ3Mvc3VtbWFyeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBhIHVzZXIgcmVjb3JkaW5nLlxuICAqIEBtZW1iZXJPZiBVc2VyUmVjb3JkaW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIFVzZXIgUmVjb3JkaW5nIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGV4cGFuZCAtIGNvbnZlcnNhdGlvblxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJjb250ZW50VXJpXCI6IFwiXCIsXG4gICBcIndvcmtzcGFjZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjb250ZW50TGVuZ3RoXCI6IDAsXG4gICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInJlYWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Vc2VyUmVjb3JkaW5nc0FwaS5wcm90b3R5cGUuZ2V0UmVjb3JkaW5nSWQgPSBmdW5jdGlvbiBnZXRSZWNvcmRpbmdJZChyZWNvcmRpbmdJZCwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2VycmVjb3JkaW5ncy97cmVjb3JkaW5nSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocmVjb3JkaW5nSWQgPT09IHVuZGVmaW5lZCB8fCByZWNvcmRpbmdJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcmVjb3JkaW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cmVjb3JkaW5nSWR9JywgcmVjb3JkaW5nSWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSB1c2VyIHJlY29yZGluZy5cbiAgKiBAbWVtYmVyT2YgVXNlclJlY29yZGluZ3NBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gcmVjb3JkaW5nSWQgLSBVc2VyIFJlY29yZGluZyBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVXNlclJlY29yZGluZ1xuICAqIEBwYXJhbSB7c3RyaW5nfSBleHBhbmQgLSBjb252ZXJzYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcImNvbnRlbnRVcmlcIjogXCJcIixcbiAgIFwid29ya3NwYWNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWRCeVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3NcIjogXCJcIixcbiAgICAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICAgICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiXG4gICB9LFxuICAgXCJjb250ZW50TGVuZ3RoXCI6IDAsXG4gICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInJlYWRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRhdGVDcmVhdGVkXCI6IFwiXCIsXG4gICBcImRhdGVNb2RpZmllZFwiOiBcIlwiLFxuICAgXCJjb250ZW50VXJpXCI6IFwiXCIsXG4gICBcIndvcmtzcGFjZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjcmVhdGVkQnlcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJjb250ZW50TGVuZ3RoXCI6IDAsXG4gICBcImR1cmF0aW9uTWlsbGlzZWNvbmRzXCI6IDAsXG4gICBcInRodW1ibmFpbHNcIjogW10sXG4gICBcInJlYWRcIjogdHJ1ZSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Vc2VyUmVjb3JkaW5nc0FwaS5wcm90b3R5cGUucHV0UmVjb3JkaW5nSWQgPSBmdW5jdGlvbiBwdXRSZWNvcmRpbmdJZChyZWNvcmRpbmdJZCwgYm9keSwgZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2VycmVjb3JkaW5ncy97cmVjb3JkaW5nSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYocmVjb3JkaW5nSWQgPT09IHVuZGVmaW5lZCB8fCByZWNvcmRpbmdJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcmVjb3JkaW5nSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7cmVjb3JkaW5nSWR9JywgcmVjb3JkaW5nSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSBhIHVzZXIgcmVjb3JkaW5nLlxuICAqIEBtZW1iZXJPZiBVc2VyUmVjb3JkaW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIFVzZXIgUmVjb3JkaW5nIElEXG4gICovXG5Vc2VyUmVjb3JkaW5nc0FwaS5wcm90b3R5cGUuZGVsZXRlUmVjb3JkaW5nSWQgPSBmdW5jdGlvbiBkZWxldGVSZWNvcmRpbmdJZChyZWNvcmRpbmdJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnJlY29yZGluZ3Mve3JlY29yZGluZ0lkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHJlY29yZGluZ0lkID09PSB1bmRlZmluZWQgfHwgcmVjb3JkaW5nSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHJlY29yZGluZ0lkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3JlY29yZGluZ0lkfScsIHJlY29yZGluZ0lkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBEb3dubG9hZCBhIHVzZXIgcmVjb3JkaW5nLlxuICAqIEBtZW1iZXJPZiBVc2VyUmVjb3JkaW5nc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSByZWNvcmRpbmdJZCAtIFVzZXIgUmVjb3JkaW5nIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdElkIC0gVGhlIGRlc2lyZWQgbWVkaWEgZm9ybWF0LlxuICBXQVYsXG4gIFdFQk0sXG4gIFdBVl9VTEFXLFxuICBPR0dfVk9SQklTLFxuICBPR0dfT1BVUyxcbiAgTk9ORSxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY29udGVudExvY2F0aW9uVXJpXCI6IFwiXCIsXG4gICBcImltYWdlVXJpXCI6IFwiXCIsXG4gICBcInRodW1ibmFpbHNcIjogW11cbn1cbiAgKi9cblVzZXJSZWNvcmRpbmdzQXBpLnByb3RvdHlwZS5nZXRSZWNvcmRpbmdJZE1lZGlhID0gZnVuY3Rpb24gZ2V0UmVjb3JkaW5nSWRNZWRpYShyZWNvcmRpbmdJZCwgZm9ybWF0SWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJyZWNvcmRpbmdzL3tyZWNvcmRpbmdJZH0vbWVkaWEnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihyZWNvcmRpbmdJZCA9PT0gdW5kZWZpbmVkIHx8IHJlY29yZGluZ0lkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiByZWNvcmRpbmdJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tyZWNvcmRpbmdJZH0nLCByZWNvcmRpbmdJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZm9ybWF0SWRcIl0gPSBmb3JtYXRJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gVXNlclJlY29yZGluZ3NBcGk7XG4iLCIvKipcbiogQGNsYXNzIFVzZXJzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlVzZXJzQXBpKHB1cmVDbG91ZFNlc3Npb24pO1xuKi9cbmZ1bmN0aW9uIFVzZXJzQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBVc2Vyc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVc2Vyc0FwaShzZXNzaW9uKTtcbiAgICB9XG4gICAgaWYoIShzZXNzaW9uICYmIHNlc3Npb24ubWFrZVJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlcnNBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFF1ZXJ5IGZvciB1c2VyIGFnZ3JlZ2F0ZXNcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIHF1ZXJ5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJpbnRlcnZhbFwiOiBcIlwiLFxuICAgXCJncmFudWxhcml0eVwiOiBcIlwiLFxuICAgXCJncm91cEJ5XCI6IFtdLFxuICAgXCJmaWx0ZXJcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcImNsYXVzZXNcIjogW10sXG4gICAgICBcInByZWRpY2F0ZXNcIjogW11cbiAgIH0sXG4gICBcIm1ldHJpY3NcIjogW10sXG4gICBcImZsYXR0ZW5NdWx0aXZhbHVlZERpbWVuc2lvbnNcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJzeXN0ZW1Ub09yZ2FuaXphdGlvbk1hcHBpbmdzXCI6IHt9LFxuICAgXCJyZXN1bHRzXCI6IFtdXG59XG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucG9zdFVzZXJzQWdncmVnYXRlc1F1ZXJ5ID0gZnVuY3Rpb24gcG9zdFVzZXJzQWdncmVnYXRlc1F1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy91c2Vycy9hZ2dyZWdhdGVzL3F1ZXJ5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUXVlcnkgZm9yIHVzZXIgb2JzZXJ2YXRpb25zXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBxdWVyeVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiZmlsdGVyXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgXCJjbGF1c2VzXCI6IFtdLFxuICAgICAgXCJwcmVkaWNhdGVzXCI6IFtdXG4gICB9LFxuICAgXCJtZXRyaWNzXCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5wb3N0VXNlcnNPYnNlcnZhdGlvbnNRdWVyeSA9IGZ1bmN0aW9uIHBvc3RVc2Vyc09ic2VydmF0aW9uc1F1ZXJ5KGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL2FuYWx5dGljcy91c2Vycy9vYnNlcnZhdGlvbnMvcXVlcnknO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIHVzZXJzLlxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7YXJyYXl9IGlkIC0gaWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gc29ydE9yZGVyIC0gQXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcgc29ydCBvcmRlclxuICBhc2NlbmRpbmcsXG4gIGRlc2NlbmRpbmcsXG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gV2hpY2ggZmllbGRzLCBpZiBhbnksIHRvIGV4cGFuZCBWYWxpZCBWYWx1ZXM6IHJvdXRpbmdTdGF0dXMsIHByZXNlbmNlLCBjb252ZXJzYXRpb25TdW1tYXJ5LCBvdXRPZk9mZmljZSwgZ2VvbG9jYXRpb24sIHN0YXRpb24sIGF1dGhvcml6YXRpb24sIHByb2ZpbGVTa2lsbHNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRVc2VycyA9IGZ1bmN0aW9uIGdldFVzZXJzKHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBpZCwgc29ydE9yZGVyLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZVNpemVcIl0gPSBwYWdlU2l6ZTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlTnVtYmVyXCJdID0gcGFnZU51bWJlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJpZFwiXSA9IGlkO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ3JlYXRlIHVzZXJcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFVzZXJcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICBcInRpdGxlXCI6IFwiXCIsXG4gICBcInBhc3N3b3JkXCI6IFwiXCJcbn1cbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjaGF0XCI6IHtcbiAgICAgIFwiamFiYmVySWRcIjogXCJcIlxuICAgfSxcbiAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidGl0bGVcIjogXCJcIixcbiAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJvdXRpbmdTdGF0dXNcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmVzZW5jZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic291cmNlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwicHJlc2VuY2VEZWZpbml0aW9uXCI6IHt9LFxuICAgICAgXCJtZXNzYWdlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwiY2FsbFwiOiB7fSxcbiAgICAgIFwiY2FsbGJhY2tcIjoge30sXG4gICAgICBcImVtYWlsXCI6IHt9LFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJzb2NpYWxFeHByZXNzaW9uXCI6IHt9LFxuICAgICAgXCJ2aWRlb1wiOiB7fVxuICAgfSxcbiAgIFwib3V0T2ZPZmZpY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInVzZXJcIjoge30sXG4gICAgICBcInN0YXJ0RGF0ZVwiOiBcIlwiLFxuICAgICAgXCJlbmREYXRlXCI6IFwiXCIsXG4gICAgICBcImFjdGl2ZVwiOiB0cnVlLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImdlb2xvY2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwibGF0aXR1ZGVcIjoge30sXG4gICAgICBcImxvbmdpdHVkZVwiOiB7fSxcbiAgICAgIFwiY291bnRyeVwiOiBcIlwiLFxuICAgICAgXCJyZWdpb25cIjogXCJcIixcbiAgICAgIFwiY2l0eVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN0YXRpb25cIjoge1xuICAgICAgXCJhc3NvY2lhdGVkU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZWZmZWN0aXZlU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZGVmYXVsdFN0YXRpb25cIjoge30sXG4gICAgICBcImxhc3RBc3NvY2lhdGVkU3RhdGlvblwiOiB7fVxuICAgfSxcbiAgIFwiYXV0aG9yaXphdGlvblwiOiB7XG4gICAgICBcInJvbGVzXCI6IFtdLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgICAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdXG4gICB9LFxuICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5wb3N0VXNlcnMgPSBmdW5jdGlvbiBwb3N0VXNlcnMoYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BPU1QnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgY3VycmVudCB1c2VyIGRldGFpbHMuXG4gICogQGRlc2NyaXB0aW9uIFRoaXMgcmVxdWVzdCBpcyBub3QgdmFsaWQgd2hlbiB1c2luZyB0aGUgQ2xpZW50IENyZWRlbnRpYWxzIE9BdXRoIGdyYW50LlxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIFdoaWNoIGZpZWxkcywgaWYgYW55LCB0byBleHBhbmQuIFZhbGlkIFZhbHVlczogcm91dGluZ1N0YXR1cywgcHJlc2VuY2UsIGNvbnZlcnNhdGlvblN1bW1hcnksIG91dE9mT2ZmaWNlLCBnZW9sb2NhdGlvbiwgc3RhdGlvbiwgYXV0aG9yaXphdGlvbiwgcHJvZmlsZVNraWxscywgZGF0ZSwgZ2VvbG9jYXRpb25zZXR0aW5ncywgb3JnYW5pemF0aW9uLCBwcmVzZW5jZWRlZmluaXRpb25zLCBsb2NhdGlvbnNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjaGF0XCI6IHtcbiAgICAgIFwiamFiYmVySWRcIjogXCJcIlxuICAgfSxcbiAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidGl0bGVcIjogXCJcIixcbiAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJvdXRpbmdTdGF0dXNcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmVzZW5jZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic291cmNlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwicHJlc2VuY2VEZWZpbml0aW9uXCI6IHt9LFxuICAgICAgXCJtZXNzYWdlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwiY2FsbFwiOiB7fSxcbiAgICAgIFwiY2FsbGJhY2tcIjoge30sXG4gICAgICBcImVtYWlsXCI6IHt9LFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJzb2NpYWxFeHByZXNzaW9uXCI6IHt9LFxuICAgICAgXCJ2aWRlb1wiOiB7fVxuICAgfSxcbiAgIFwib3V0T2ZPZmZpY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInVzZXJcIjoge30sXG4gICAgICBcInN0YXJ0RGF0ZVwiOiBcIlwiLFxuICAgICAgXCJlbmREYXRlXCI6IFwiXCIsXG4gICAgICBcImFjdGl2ZVwiOiB0cnVlLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImdlb2xvY2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwibGF0aXR1ZGVcIjoge30sXG4gICAgICBcImxvbmdpdHVkZVwiOiB7fSxcbiAgICAgIFwiY291bnRyeVwiOiBcIlwiLFxuICAgICAgXCJyZWdpb25cIjogXCJcIixcbiAgICAgIFwiY2l0eVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN0YXRpb25cIjoge1xuICAgICAgXCJhc3NvY2lhdGVkU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZWZmZWN0aXZlU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZGVmYXVsdFN0YXRpb25cIjoge30sXG4gICAgICBcImxhc3RBc3NvY2lhdGVkU3RhdGlvblwiOiB7fVxuICAgfSxcbiAgIFwiYXV0aG9yaXphdGlvblwiOiB7XG4gICAgICBcInJvbGVzXCI6IFtdLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgICAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdXG4gICB9LFxuICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgXCJkYXRlXCI6IHtcbiAgICAgIFwiY3VycmVudERhdGVcIjogXCJcIlxuICAgfSxcbiAgIFwiZ2VvbG9jYXRpb25TZXR0aW5nc1wiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcIm9yZ2FuaXphdGlvblwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidGhpcmRQYXJ0eU9yZ0lkXCI6IFwiXCIsXG4gICAgICBcInRoaXJkUGFydHlPcmdOYW1lXCI6IFwiXCIsXG4gICAgICBcInRoaXJkUGFydHlVUklcIjogXCJcIixcbiAgICAgIFwiZG9tYWluXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwiZGVmYXVsdFNpdGVJZFwiOiBcIlwiLFxuICAgICAgXCJkZWxldGFibGVcIjogdHJ1ZSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmVzZW5jZURlZmluaXRpb25zXCI6IFtdLFxuICAgXCJsb2NhdGlvbnNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldE1lID0gZnVuY3Rpb24gZ2V0TWUoZXhwYW5kKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy9tZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJlcXVlc3RRdWVyeVtcImV4cGFuZFwiXSA9IGV4cGFuZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTZWFyY2ggdXNpbmcgcTY0XG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHE2NCAtIHE2NFxuICAqIEBwYXJhbSB7YXJyYXl9IGV4cGFuZCAtIGV4cGFuZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJwYWdlQ291bnRcIjogMCxcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJwcmV2aW91c1BhZ2VcIjogXCJcIixcbiAgIFwiY3VycmVudFBhZ2VcIjogXCJcIixcbiAgIFwibmV4dFBhZ2VcIjogXCJcIixcbiAgIFwidHlwZXNcIjogW10sXG4gICBcInJlc3VsdHNcIjogW11cbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRTZWFyY2ggPSBmdW5jdGlvbiBnZXRTZWFyY2gocTY0LCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHE2NCA9PT0gdW5kZWZpbmVkIHx8IHE2NCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcTY0Jyk7XG4gICAgfVxuICAgIHJlcXVlc3RRdWVyeVtcInE2NFwiXSA9IHE2NDtcbiAgICByZXF1ZXN0UXVlcnlbXCJleHBhbmRcIl0gPSBleHBhbmQ7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2VhcmNoXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBTZWFyY2ggcmVxdWVzdCBvcHRpb25zXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJzb3J0T3JkZXJcIjogXCJcIixcbiAgIFwic29ydEJ5XCI6IFwiXCIsXG4gICBcInBhZ2VTaXplXCI6IDAsXG4gICBcInBhZ2VOdW1iZXJcIjogMCxcbiAgIFwicmV0dXJuRmllbGRzXCI6IFtdLFxuICAgXCJleHBhbmRcIjogW10sXG4gICBcInF1ZXJ5XCI6IFtdXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInRvdGFsXCI6IDAsXG4gICBcInBhZ2VDb3VudFwiOiAwLFxuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInByZXZpb3VzUGFnZVwiOiBcIlwiLFxuICAgXCJjdXJyZW50UGFnZVwiOiBcIlwiLFxuICAgXCJuZXh0UGFnZVwiOiBcIlwiLFxuICAgXCJ0eXBlc1wiOiBbXSxcbiAgIFwicmVzdWx0c1wiOiBbXVxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnBvc3RTZWFyY2ggPSBmdW5jdGlvbiBwb3N0U2VhcmNoKGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3NlYXJjaCc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCB1c2VyLlxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHthcnJheX0gZXhwYW5kIC0gV2hpY2ggZmllbGRzLCBpZiBhbnksIHRvIGV4cGFuZCBWYWxpZCBWYWx1ZXM6IHJvdXRpbmdTdGF0dXMsIHByZXNlbmNlLCBjb252ZXJzYXRpb25TdW1tYXJ5LCBvdXRPZk9mZmljZSwgZ2VvbG9jYXRpb24sIHN0YXRpb24sIGF1dGhvcml6YXRpb24sIHByb2ZpbGVTa2lsbHNcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwibmFtZVwiOiBcIlwiLFxuICAgXCJjaGF0XCI6IHtcbiAgICAgIFwiamFiYmVySWRcIjogXCJcIlxuICAgfSxcbiAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwidGl0bGVcIjogXCJcIixcbiAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICBcInJvdXRpbmdTdGF0dXNcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiXG4gICB9LFxuICAgXCJwcmVzZW5jZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwic291cmNlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwicHJlc2VuY2VEZWZpbml0aW9uXCI6IHt9LFxuICAgICAgXCJtZXNzYWdlXCI6IFwiXCIsXG4gICAgICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge1xuICAgICAgXCJ1c2VySWRcIjogXCJcIixcbiAgICAgIFwiY2FsbFwiOiB7fSxcbiAgICAgIFwiY2FsbGJhY2tcIjoge30sXG4gICAgICBcImVtYWlsXCI6IHt9LFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJzb2NpYWxFeHByZXNzaW9uXCI6IHt9LFxuICAgICAgXCJ2aWRlb1wiOiB7fVxuICAgfSxcbiAgIFwib3V0T2ZPZmZpY2VcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInVzZXJcIjoge30sXG4gICAgICBcInN0YXJ0RGF0ZVwiOiBcIlwiLFxuICAgICAgXCJlbmREYXRlXCI6IFwiXCIsXG4gICAgICBcImFjdGl2ZVwiOiB0cnVlLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImdlb2xvY2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlcIjogdHJ1ZSxcbiAgICAgIFwibGF0aXR1ZGVcIjoge30sXG4gICAgICBcImxvbmdpdHVkZVwiOiB7fSxcbiAgICAgIFwiY291bnRyeVwiOiBcIlwiLFxuICAgICAgXCJyZWdpb25cIjogXCJcIixcbiAgICAgIFwiY2l0eVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN0YXRpb25cIjoge1xuICAgICAgXCJhc3NvY2lhdGVkU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZWZmZWN0aXZlU3RhdGlvblwiOiB7fSxcbiAgICAgIFwiZGVmYXVsdFN0YXRpb25cIjoge30sXG4gICAgICBcImxhc3RBc3NvY2lhdGVkU3RhdGlvblwiOiB7fVxuICAgfSxcbiAgIFwiYXV0aG9yaXphdGlvblwiOiB7XG4gICAgICBcInJvbGVzXCI6IFtdLFxuICAgICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgICAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdXG4gICB9LFxuICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiBnZXRVc2VySWQodXNlcklkLCBleHBhbmQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZXhwYW5kXCJdID0gZXhwYW5kO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IERlbGV0ZSB1c2VyXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5kZWxldGVVc2VySWQgPSBmdW5jdGlvbiBkZWxldGVVc2VySWQodXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSB1c2VyXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFVzZXJcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiY2hhdFwiOiB7XG4gICAgICBcImphYmJlcklkXCI6IFwiXCJcbiAgIH0sXG4gICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgIFwiZW1haWxcIjogXCJcIixcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgXCJpbWFnZXNcIjogW10sXG4gICBcInZlcnNpb25cIjogMFxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImNoYXRcIjoge1xuICAgICAgXCJqYWJiZXJJZFwiOiBcIlwiXG4gICB9LFxuICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICBcImVtYWlsXCI6IFwiXCIsXG4gICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgXCJpbWFnZXNcIjogW10sXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwicm91dGluZ1N0YXR1c1wiOiB7XG4gICAgICBcInVzZXJJZFwiOiBcIlwiLFxuICAgICAgXCJzdGF0dXNcIjogXCJcIixcbiAgICAgIFwic3RhcnRUaW1lXCI6IFwiXCJcbiAgIH0sXG4gICBcInByZXNlbmNlXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzb3VyY2VcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgICAgXCJwcmVzZW5jZURlZmluaXRpb25cIjoge30sXG4gICAgICBcIm1lc3NhZ2VcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7XG4gICAgICBcInVzZXJJZFwiOiBcIlwiLFxuICAgICAgXCJjYWxsXCI6IHt9LFxuICAgICAgXCJjYWxsYmFja1wiOiB7fSxcbiAgICAgIFwiZW1haWxcIjoge30sXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcInNvY2lhbEV4cHJlc3Npb25cIjoge30sXG4gICAgICBcInZpZGVvXCI6IHt9XG4gICB9LFxuICAgXCJvdXRPZk9mZmljZVwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwidXNlclwiOiB7fSxcbiAgICAgIFwic3RhcnREYXRlXCI6IFwiXCIsXG4gICAgICBcImVuZERhdGVcIjogXCJcIixcbiAgICAgIFwiYWN0aXZlXCI6IHRydWUsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZ2VvbG9jYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgICAgXCJsYXRpdHVkZVwiOiB7fSxcbiAgICAgIFwibG9uZ2l0dWRlXCI6IHt9LFxuICAgICAgXCJjb3VudHJ5XCI6IFwiXCIsXG4gICAgICBcInJlZ2lvblwiOiBcIlwiLFxuICAgICAgXCJjaXR5XCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic3RhdGlvblwiOiB7XG4gICAgICBcImFzc29jaWF0ZWRTdGF0aW9uXCI6IHt9LFxuICAgICAgXCJlZmZlY3RpdmVTdGF0aW9uXCI6IHt9LFxuICAgICAgXCJkZWZhdWx0U3RhdGlvblwiOiB7fSxcbiAgICAgIFwibGFzdEFzc29jaWF0ZWRTdGF0aW9uXCI6IHt9XG4gICB9LFxuICAgXCJhdXRob3JpemF0aW9uXCI6IHtcbiAgICAgIFwicm9sZXNcIjogW10sXG4gICAgICBcInBlcm1pc3Npb25zXCI6IFtdLFxuICAgICAgXCJwZXJtaXNzaW9uUG9saWNpZXNcIjogW11cbiAgIH0sXG4gICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnBhdGNoVXNlcklkID0gZnVuY3Rpb24gcGF0Y2hVc2VySWQodXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSB1c2VyJ3MgQ2FsbEZvcndhcmRpbmdcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwicGhvbmVOdW1iZXJcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldFVzZXJJZENhbGxmb3J3YXJkaW5nID0gZnVuY3Rpb24gZ2V0VXNlcklkQ2FsbGZvcndhcmRpbmcodXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9jYWxsZm9yd2FyZGluZyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIHVzZXIncyBDYWxsRm9yd2FyZGluZ1xuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDYWxsIGZvcndhcmRpbmdcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJwaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucHV0VXNlcklkQ2FsbGZvcndhcmRpbmcgPSBmdW5jdGlvbiBwdXRVc2VySWRDYWxsZm9yd2FyZGluZyh1c2VySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L2NhbGxmb3J3YXJkaW5nJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBQYXRjaCBhIHVzZXIncyBDYWxsRm9yd2FyZGluZ1xuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDYWxsIGZvcndhcmRpbmdcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInBob25lTnVtYmVyXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJwaG9uZU51bWJlclwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucGF0Y2hVc2VySWRDYWxsZm9yd2FyZGluZyA9IGZ1bmN0aW9uIHBhdGNoVXNlcklkQ2FsbGZvcndhcmRpbmcodXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9jYWxsZm9yd2FyZGluZyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSB1c2VyJ3MgR2VvbG9jYXRpb25cbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gdXNlciBJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIGNsaWVudCBJZFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJsYXRpdHVkZVwiOiB7fSxcbiAgIFwibG9uZ2l0dWRlXCI6IHt9LFxuICAgXCJjb3VudHJ5XCI6IFwiXCIsXG4gICBcInJlZ2lvblwiOiBcIlwiLFxuICAgXCJjaXR5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldFVzZXJJZEdlb2xvY2F0aW9uc0NsaWVudElkID0gZnVuY3Rpb24gZ2V0VXNlcklkR2VvbG9jYXRpb25zQ2xpZW50SWQodXNlcklkLCBjbGllbnRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vZ2VvbG9jYXRpb25zL3tjbGllbnRJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihjbGllbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGNsaWVudElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBjbGllbnRJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3tjbGllbnRJZH0nLCBjbGllbnRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgUGF0Y2ggYSB1c2VyJ3MgR2VvbG9jYXRpb25cbiAgKiBAZGVzY3JpcHRpb24gVGhlIGdlb2xvY2F0aW9uIG9iamVjdCBjYW4gYmUgcGF0Y2hlZCBvbmUgb2YgdGhyZWUgd2F5cy4gT3B0aW9uIDE6IFNldCB0aGUgJ3ByaW1hcnknIHByb3BlcnR5IHRvIHRydWUuIFRoaXMgd2lsbCBzZXQgdGhlIGNsaWVudCBhcyB0aGUgdXNlcidzIHByaW1hcnkgZ2VvbG9jYXRpb24gc291cmNlLiAgT3B0aW9uIDI6IFByb3ZpZGUgdGhlICdsYXRpdHVkZScgYW5kICdsb25naXR1ZGUnIHZhbHVlcy4gIFRoaXMgd2lsbCBlbnF1ZXVlIGFuIGFzeW5jaHJvbm91cyB1cGRhdGUgb2YgdGhlICdjaXR5JywgJ3JlZ2lvbicsIGFuZCAnY291bnRyeScsIGdlbmVyYXRpbmcgYSBub3RpZmljYXRpb24uIEEgc3Vic2VxdWVudCBHRVQgb3BlcmF0aW9uIHdpbGwgaW5jbHVkZSB0aGUgbmV3IHZhbHVlcyBmb3IgJ2NpdHknLCAncmVnaW9uJyBhbmQgJ2NvdW50cnknLiAgT3B0aW9uIDM6ICBQcm92aWRlIHRoZSAnY2l0eScsICdyZWdpb24nLCAnY291bnRyeScgdmFsdWVzLiAgT3B0aW9uIDEgY2FuIGJlIGNvbWJpbmVkIHdpdGggT3B0aW9uIDIgb3IgT3B0aW9uIDMuICBGb3IgZXhhbXBsZSwgdXBkYXRlIHRoZSBjbGllbnQgYXMgcHJpbWFyeSBhbmQgcHJvdmlkZSBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIHZhbHVlcy5cbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gdXNlciBJZFxuICAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIGNsaWVudCBJZFxuICAqIEBwYXJhbSB7fSBib2R5IC0gR2VvbG9jYXRpb25cbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidHlwZVwiOiBcIlwiLFxuICAgXCJwcmltYXJ5XCI6IHRydWUsXG4gICBcImxhdGl0dWRlXCI6IHt9LFxuICAgXCJsb25naXR1ZGVcIjoge30sXG4gICBcImNvdW50cnlcIjogXCJcIixcbiAgIFwicmVnaW9uXCI6IFwiXCIsXG4gICBcImNpdHlcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInR5cGVcIjogXCJcIixcbiAgIFwicHJpbWFyeVwiOiB0cnVlLFxuICAgXCJsYXRpdHVkZVwiOiB7fSxcbiAgIFwibG9uZ2l0dWRlXCI6IHt9LFxuICAgXCJjb3VudHJ5XCI6IFwiXCIsXG4gICBcInJlZ2lvblwiOiBcIlwiLFxuICAgXCJjaXR5XCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnBhdGNoVXNlcklkR2VvbG9jYXRpb25zQ2xpZW50SWQgPSBmdW5jdGlvbiBwYXRjaFVzZXJJZEdlb2xvY2F0aW9uc0NsaWVudElkKHVzZXJJZCwgY2xpZW50SWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L2dlb2xvY2F0aW9ucy97Y2xpZW50SWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoY2xpZW50SWQgPT09IHVuZGVmaW5lZCB8fCBjbGllbnRJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogY2xpZW50SWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7Y2xpZW50SWR9JywgY2xpZW50SWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBPdXRPZk9mZmljZVxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic3RhcnREYXRlXCI6IFwiXCIsXG4gICBcImVuZERhdGVcIjogXCJcIixcbiAgIFwiYWN0aXZlXCI6IHRydWUsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldFVzZXJJZE91dG9mb2ZmaWNlID0gZnVuY3Rpb24gZ2V0VXNlcklkT3V0b2ZvZmZpY2UodXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9vdXRvZm9mZmljZSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhbiBPdXRPZk9mZmljZVxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBUaGUgdXBkYXRlZCBVc2VyUHJlc2VuY2VcbiAgKiBAZXhhbXBsZVxuICAqIEJvZHkgRXhhbXBsZTpcbiAgKiB7XG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwidXNlclwiOiB7XG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwXG4gICB9LFxuICAgXCJzdGFydERhdGVcIjogXCJcIixcbiAgIFwiZW5kRGF0ZVwiOiBcIlwiLFxuICAgXCJhY3RpdmVcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInVzZXJcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwicHJpbWFyeUNvbnRhY3RJbmZvXCI6IFtdLFxuICAgICAgXCJhZGRyZXNzZXNcIjogW10sXG4gICAgICBcInN0YXRlXCI6IFwiXCIsXG4gICAgICBcInRpdGxlXCI6IFwiXCIsXG4gICAgICBcInVzZXJuYW1lXCI6IFwiXCIsXG4gICAgICBcImltYWdlc1wiOiBbXSxcbiAgICAgIFwidmVyc2lvblwiOiAwLFxuICAgICAgXCJyb3V0aW5nU3RhdHVzXCI6IHt9LFxuICAgICAgXCJwcmVzZW5jZVwiOiB7fSxcbiAgICAgIFwiY29udmVyc2F0aW9uU3VtbWFyeVwiOiB7fSxcbiAgICAgIFwib3V0T2ZPZmZpY2VcIjoge30sXG4gICAgICBcImdlb2xvY2F0aW9uXCI6IHt9LFxuICAgICAgXCJzdGF0aW9uXCI6IHt9LFxuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IHt9LFxuICAgICAgXCJwcm9maWxlU2tpbGxzXCI6IFtdLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInN0YXJ0RGF0ZVwiOiBcIlwiLFxuICAgXCJlbmREYXRlXCI6IFwiXCIsXG4gICBcImFjdGl2ZVwiOiB0cnVlLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5wdXRVc2VySWRPdXRvZm9mZmljZSA9IGZ1bmN0aW9uIHB1dFVzZXJJZE91dG9mb2ZmaWNlKHVzZXJJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vb3V0b2ZvZmZpY2UnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBxdWV1ZXMgZm9yIHVzZXJcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gam9pbmVkIC0gSXMgam9pbmVkIHRvIHRoZSBxdWV1ZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJwYWdlU2l6ZVwiOiAwLFxuICAgXCJwYWdlTnVtYmVyXCI6IDAsXG4gICBcInRvdGFsXCI6IDAsXG4gICBcImVudGl0aWVzXCI6IFtdLFxuICAgXCJzZWxmVXJpXCI6IFwiXCIsXG4gICBcImZpcnN0VXJpXCI6IFwiXCIsXG4gICBcInByZXZpb3VzVXJpXCI6IFwiXCIsXG4gICBcIm5leHRVcmlcIjogXCJcIixcbiAgIFwibGFzdFVyaVwiOiBcIlwiLFxuICAgXCJwYWdlQ291bnRcIjogMFxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldFVzZXJJZFF1ZXVlcyA9IGZ1bmN0aW9uIGdldFVzZXJJZFF1ZXVlcyh1c2VySWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBqb2luZWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3F1ZXVlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VTaXplXCJdID0gcGFnZVNpemU7XG4gICAgcmVxdWVzdFF1ZXJ5W1wicGFnZU51bWJlclwiXSA9IHBhZ2VOdW1iZXI7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiam9pbmVkXCJdID0gam9pbmVkO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEpvaW4gb3IgdW5qb2luIGEgc2V0IG9mIHF1ZXVlcyBmb3IgYSB1c2VyXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFVzZXIgUXVldWVzXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICogW1xuIHtcbiAgXCJuYW1lXCI6IFwiXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgXCJ2ZXJzaW9uXCI6IDAsXG4gIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5XCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gIFwic3RhdGVcIjogXCJcIixcbiAgXCJtb2RpZmllZEJ5QXBwXCI6IFwiXCIsXG4gIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gIFwibWVkaWFTZXR0aW5nc1wiOiB7fSxcbiAgXCJidWxsc2V5ZVwiOiB7XG4gICBcInJpbmdzXCI6IFtdXG4gIH0sXG4gIFwiYWN3U2V0dGluZ3NcIjoge1xuICAgXCJ3cmFwdXBQcm9tcHRcIjogXCJcIixcbiAgIFwidGltZW91dE1zXCI6IDBcbiAgfSxcbiAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgXCJxdWV1ZUZsb3dcIjoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxuICB9LFxuICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgXCJjYWxsaW5nUGFydHlOdW1iZXJcIjogXCJcIixcbiAgXCJqb2luZWRcIjogdHJ1ZSxcbiAgXCJtZW1iZXJDb3VudFwiOiAwXG4gfVxuXVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcImpvaW5lZFwiOiB0cnVlLFxuICAgXCJtZW1iZXJDb3VudFwiOiAwLFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5wYXRjaFVzZXJJZFF1ZXVlcyA9IGZ1bmN0aW9uIHBhdGNoVXNlcklkUXVldWVzKHVzZXJJZCwgYm9keSl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vcXVldWVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEpvaW4gb3IgdW5qb2luIGEgcXVldWUgZm9yIGEgdXNlclxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBxdWV1ZUlkIC0gUXVldWUgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gUXVldWUgTWVtYmVyXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICBcInZlcnNpb25cIjogMCxcbiAgIFwiZGF0ZUNyZWF0ZWRcIjogXCJcIixcbiAgIFwiZGF0ZU1vZGlmaWVkXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5XCI6IFwiXCIsXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkQnlBcHBcIjogXCJcIixcbiAgIFwiY3JlYXRlZEJ5QXBwXCI6IFwiXCIsXG4gICBcIm1lZGlhU2V0dGluZ3NcIjoge30sXG4gICBcImJ1bGxzZXllXCI6IHtcbiAgICAgIFwicmluZ3NcIjogW11cbiAgIH0sXG4gICBcImFjd1NldHRpbmdzXCI6IHtcbiAgICAgIFwid3JhcHVwUHJvbXB0XCI6IFwiXCIsXG4gICAgICBcInRpbWVvdXRNc1wiOiAwXG4gICB9LFxuICAgXCJza2lsbEV2YWx1YXRpb25NZXRob2RcIjogXCJcIixcbiAgIFwicXVldWVGbG93XCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcImNhbGxpbmdQYXJ0eU5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGluZ1BhcnR5TnVtYmVyXCI6IFwiXCIsXG4gICBcImpvaW5lZFwiOiB0cnVlLFxuICAgXCJtZW1iZXJDb3VudFwiOiAwXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgIFwidmVyc2lvblwiOiAwLFxuICAgXCJkYXRlQ3JlYXRlZFwiOiBcIlwiLFxuICAgXCJkYXRlTW9kaWZpZWRcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeVwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlcIjogXCJcIixcbiAgIFwic3RhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWRCeUFwcFwiOiBcIlwiLFxuICAgXCJjcmVhdGVkQnlBcHBcIjogXCJcIixcbiAgIFwibWVkaWFTZXR0aW5nc1wiOiB7fSxcbiAgIFwiYnVsbHNleWVcIjoge1xuICAgICAgXCJyaW5nc1wiOiBbXVxuICAgfSxcbiAgIFwiYWN3U2V0dGluZ3NcIjoge1xuICAgICAgXCJ3cmFwdXBQcm9tcHRcIjogXCJcIixcbiAgICAgIFwidGltZW91dE1zXCI6IDBcbiAgIH0sXG4gICBcInNraWxsRXZhbHVhdGlvbk1ldGhvZFwiOiBcIlwiLFxuICAgXCJxdWV1ZUZsb3dcIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwiY2FsbGluZ1BhcnR5TmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsaW5nUGFydHlOdW1iZXJcIjogXCJcIixcbiAgIFwiam9pbmVkXCI6IHRydWUsXG4gICBcIm1lbWJlckNvdW50XCI6IDAsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnBhdGNoVXNlcklkUXVldWVzUXVldWVJZCA9IGZ1bmN0aW9uIHBhdGNoVXNlcklkUXVldWVzUXVldWVJZChxdWV1ZUlkLCB1c2VySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3F1ZXVlcy97cXVldWVJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihxdWV1ZUlkID09PSB1bmRlZmluZWQgfHwgcXVldWVJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogcXVldWVJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3txdWV1ZUlkfScsIHF1ZXVlSWQpO1xuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUEFUQ0gnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdGluZyBvZiByb2xlcyBhbmQgcGVybWlzc2lvbnMgZm9yIGEgdXNlci5cbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJyb2xlc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvbnNcIjogW10sXG4gICBcInBlcm1pc3Npb25Qb2xpY2llc1wiOiBbXVxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmdldFVzZXJJZFJvbGVzID0gZnVuY3Rpb24gZ2V0VXNlcklkUm9sZXModXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFNldHMgdGhlIHVzZXIncyByb2xlc1xuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBMaXN0IG9mIHJvbGVzXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInJvbGVzXCI6IFtdLFxuICAgXCJwZXJtaXNzaW9uc1wiOiBbXSxcbiAgIFwicGVybWlzc2lvblBvbGljaWVzXCI6IFtdXG59XG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucHV0VXNlcklkUm9sZXMgPSBmdW5jdGlvbiBwdXRVc2VySWRSb2xlcyh1c2VySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvbGVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZW1vdmVzIGFsbCB0aGUgcm9sZXMgZnJvbSB0aGUgdXNlci5cbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmRlbGV0ZVVzZXJJZFJvbGVzID0gZnVuY3Rpb24gZGVsZXRlVXNlcklkUm9sZXModXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb2xlcyc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IExpc3Qgcm91dGluZyBza2lsbHMgZm9yIHVzZXJcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7aW50ZWdlcn0gcGFnZVNpemUgLSBQYWdlIHNpemVcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VOdW1iZXIgLSBQYWdlIG51bWJlclxuICAqIEBwYXJhbSB7c3RyaW5nfSBzb3J0T3JkZXIgLSBBc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBzb3J0IG9yZGVyXG4gIGFzY2VuZGluZyxcbiAgZGVzY2VuZGluZyxcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRVc2VySWRSb3V0aW5nc2tpbGxzID0gZnVuY3Rpb24gZ2V0VXNlcklkUm91dGluZ3NraWxscyh1c2VySWQsIHBhZ2VTaXplLCBwYWdlTnVtYmVyLCBzb3J0T3JkZXIpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvdXRpbmdza2lsbHMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJlcXVlc3RRdWVyeVtcInNvcnRPcmRlclwiXSA9IHNvcnRPcmRlcjtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBBZGQgcm91dGluZyBza2lsbCB0byB1c2VyXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNraWxsXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInByb2ZpY2llbmN5XCI6IHt9LFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicHJvZmljaWVuY3lcIjoge30sXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNraWxsVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnBvc3RVc2VySWRSb3V0aW5nc2tpbGxzID0gZnVuY3Rpb24gcG9zdFVzZXJJZFJvdXRpbmdza2lsbHModXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb3V0aW5nc2tpbGxzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgVXBkYXRlIHJvdXRpbmcgc2tpbGwgcHJvZmljaWVuY3kgb3Igc3RhdGUuXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gc2tpbGxJZCAtIHNraWxsSWRcbiAgKiBAcGFyYW0ge30gYm9keSAtIFNraWxsXG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJuYW1lXCI6IFwiXCIsXG4gICBcInByb2ZpY2llbmN5XCI6IHt9LFxuICAgXCJzdGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm5hbWVcIjogXCJcIixcbiAgIFwicHJvZmljaWVuY3lcIjoge30sXG4gICBcInN0YXRlXCI6IFwiXCIsXG4gICBcInNraWxsVXJpXCI6IFwiXCIsXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnB1dFVzZXJJZFJvdXRpbmdza2lsbHNTa2lsbElkID0gZnVuY3Rpb24gcHV0VXNlcklkUm91dGluZ3NraWxsc1NraWxsSWQodXNlcklkLCBza2lsbElkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb3V0aW5nc2tpbGxzL3tza2lsbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKHNraWxsSWQgPT09IHVuZGVmaW5lZCB8fCBza2lsbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBza2lsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NraWxsSWR9Jywgc2tpbGxJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBSZW1vdmUgcm91dGluZyBza2lsbCBmcm9tIHVzZXJcbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBza2lsbElkIC0gc2tpbGxJZFxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmRlbGV0ZVVzZXJJZFJvdXRpbmdza2lsbHNTa2lsbElkID0gZnVuY3Rpb24gZGVsZXRlVXNlcklkUm91dGluZ3NraWxsc1NraWxsSWQodXNlcklkLCBza2lsbElkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb3V0aW5nc2tpbGxzL3tza2lsbElkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKHNraWxsSWQgPT09IHVuZGVmaW5lZCB8fCBza2lsbElkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBza2lsbElkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3NraWxsSWR9Jywgc2tpbGxJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRmV0Y2ggdGhlIHJvdXRpbmcgc3RhdHVzIG9mIGEgdXNlclxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcInVzZXJJZFwiOiBcIlwiLFxuICAgXCJzdGF0dXNcIjogXCJcIixcbiAgIFwic3RhcnRUaW1lXCI6IFwiXCJcbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRVc2VySWRSb3V0aW5nc3RhdHVzID0gZnVuY3Rpb24gZ2V0VXNlcklkUm91dGluZ3N0YXR1cyh1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3JvdXRpbmdzdGF0dXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgdGhlIHJvdXRpbmcgc3RhdHVzIG9mIGEgdXNlclxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHt9IGJvZHkgLSBSb3V0aW5nIFN0YXR1c1xuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidXNlcklkXCI6IFwiXCIsXG4gICBcInN0YXR1c1wiOiBcIlwiLFxuICAgXCJzdGFydFRpbWVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ1c2VySWRcIjogXCJcIixcbiAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICBcInN0YXJ0VGltZVwiOiBcIlwiXG59XG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucHV0VXNlcklkUm91dGluZ3N0YXR1cyA9IGZ1bmN0aW9uIHB1dFVzZXJJZFJvdXRpbmdzdGF0dXModXNlcklkLCBib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9yb3V0aW5nc3RhdHVzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgc3RhdGlvbiBpbmZvcm1hdGlvbiBmb3IgdXNlclxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImFzc29jaWF0ZWRTdGF0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwiYXNzb2NpYXRlZFVzZXJcIjoge30sXG4gICAgICBcImFzc29jaWF0ZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImRlZmF1bHRVc2VyXCI6IHt9LFxuICAgICAgXCJwcm92aWRlckluZm9cIjoge31cbiAgIH0sXG4gICBcImVmZmVjdGl2ZVN0YXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJhc3NvY2lhdGVkVXNlclwiOiB7fSxcbiAgICAgIFwiYXNzb2NpYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwiZGVmYXVsdFVzZXJcIjoge30sXG4gICAgICBcInByb3ZpZGVySW5mb1wiOiB7fVxuICAgfSxcbiAgIFwiZGVmYXVsdFN0YXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJhc3NvY2lhdGVkVXNlclwiOiB7fSxcbiAgICAgIFwiYXNzb2NpYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwiZGVmYXVsdFVzZXJcIjoge30sXG4gICAgICBcInByb3ZpZGVySW5mb1wiOiB7fVxuICAgfSxcbiAgIFwibGFzdEFzc29jaWF0ZWRTdGF0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwiYXNzb2NpYXRlZFVzZXJcIjoge30sXG4gICAgICBcImFzc29jaWF0ZWREYXRlXCI6IFwiXCIsXG4gICAgICBcImRlZmF1bHRVc2VyXCI6IHt9LFxuICAgICAgXCJwcm92aWRlckluZm9cIjoge31cbiAgIH1cbn1cbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5nZXRVc2VySWRTdGF0aW9uID0gZnVuY3Rpb24gZ2V0VXNlcklkU3RhdGlvbih1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3N0YXRpb24nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBDbGVhciBhc3NvY2lhdGVkIHN0YXRpb25cbiAgKiBAbWVtYmVyT2YgVXNlcnNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLmRlbGV0ZVVzZXJJZFN0YXRpb25Bc3NvY2lhdGVkc3RhdGlvbiA9IGZ1bmN0aW9uIGRlbGV0ZVVzZXJJZFN0YXRpb25Bc3NvY2lhdGVkc3RhdGlvbih1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3VzZXJzL3t1c2VySWR9L3N0YXRpb24vYXNzb2NpYXRlZHN0YXRpb24nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBTZXQgYXNzb2NpYXRlZCBzdGF0aW9uXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGlvbklkIC0gc3RhdGlvbklkXG4gICovXG5Vc2Vyc0FwaS5wcm90b3R5cGUucHV0VXNlcklkU3RhdGlvbkFzc29jaWF0ZWRzdGF0aW9uU3RhdGlvbklkID0gZnVuY3Rpb24gcHV0VXNlcklkU3RhdGlvbkFzc29jaWF0ZWRzdGF0aW9uU3RhdGlvbklkKHVzZXJJZCwgc3RhdGlvbklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9zdGF0aW9uL2Fzc29jaWF0ZWRzdGF0aW9uL3tzdGF0aW9uSWR9JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgaWYoc3RhdGlvbklkID09PSB1bmRlZmluZWQgfHwgc3RhdGlvbklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBzdGF0aW9uSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7c3RhdGlvbklkfScsIHN0YXRpb25JZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgQ2xlYXIgZGVmYXVsdCBzdGF0aW9uXG4gICogQG1lbWJlck9mIFVzZXJzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgKi9cblVzZXJzQXBpLnByb3RvdHlwZS5kZWxldGVVc2VySWRTdGF0aW9uRGVmYXVsdHN0YXRpb24gPSBmdW5jdGlvbiBkZWxldGVVc2VySWRTdGF0aW9uRGVmYXVsdHN0YXRpb24odXNlcklkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi91c2Vycy97dXNlcklkfS9zdGF0aW9uL2RlZmF1bHRzdGF0aW9uJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYodXNlcklkID09PSB1bmRlZmluZWQgfHwgdXNlcklkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiB1c2VySWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7dXNlcklkfScsIHVzZXJJZCk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgU2V0IGRlZmF1bHQgc3RhdGlvblxuICAqIEBtZW1iZXJPZiBVc2Vyc0FwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICogQHBhcmFtIHtzdHJpbmd9IHN0YXRpb25JZCAtIHN0YXRpb25JZFxuICAqL1xuVXNlcnNBcGkucHJvdG90eXBlLnB1dFVzZXJJZFN0YXRpb25EZWZhdWx0c3RhdGlvblN0YXRpb25JZCA9IGZ1bmN0aW9uIHB1dFVzZXJJZFN0YXRpb25EZWZhdWx0c3RhdGlvblN0YXRpb25JZCh1c2VySWQsIHN0YXRpb25JZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdXNlcnMve3VzZXJJZH0vc3RhdGlvbi9kZWZhdWx0c3RhdGlvbi97c3RhdGlvbklkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKHVzZXJJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZXJJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogdXNlcklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3VzZXJJZH0nLCB1c2VySWQpO1xuICAgIGlmKHN0YXRpb25JZCA9PT0gdW5kZWZpbmVkIHx8IHN0YXRpb25JZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogc3RhdGlvbklkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne3N0YXRpb25JZH0nLCBzdGF0aW9uSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BVVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBVc2Vyc0FwaTtcbiIsIi8qKlxuKiBAY2xhc3MgVXRpbGl0aWVzQXBpXG4qIEBleGFtcGxlXG4qIHZhciBhcGkgPSBuZXcgcHVyZWNsb3VkLnBsYXRmb3JtLlV0aWxpdGllc0FwaShwdXJlQ2xvdWRTZXNzaW9uKTtcbiovXG5mdW5jdGlvbiBVdGlsaXRpZXNBcGkoc2Vzc2lvbikge1xuICAgIGlmKCEodGhpcyBpbnN0YW5jZW9mIFV0aWxpdGllc0FwaSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVdGlsaXRpZXNBcGkoc2Vzc2lvbik7XG4gICAgfVxuICAgIGlmKCEoc2Vzc2lvbiAmJiBzZXNzaW9uLm1ha2VSZXF1ZXN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1V0aWxpdGllc0FwaSByZXF1aXJlcyBhIFB1cmVDbG91ZFNlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbn1cblxuLyoqXG4gICogQHN1bW1hcnkgUmV0dXJucyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgYW4gWDUwOSBQRU0gZW5jb2RlZCBjZXJ0aWZpY2F0ZSBvciBjZXJ0aWZpY2F0ZSBjaGFpbi5cbiAgKiBAbWVtYmVyT2YgVXRpbGl0aWVzQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHt9IGJvZHkgLSBDZXJ0aWZpY2F0ZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY2VydGlmaWNhdGVcIjogXCJcIlxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJjZXJ0aWZpY2F0ZURldGFpbHNcIjogW11cbn1cbiAgKi9cblV0aWxpdGllc0FwaS5wcm90b3R5cGUucG9zdERldGFpbHMgPSBmdW5jdGlvbiBwb3N0RGV0YWlscyhib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9jZXJ0aWZpY2F0ZS9kZXRhaWxzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQT1NUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRoZSBjdXJyZW50IHN5c3RlbSBkYXRlL3RpbWVcbiAgKiBAbWVtYmVyT2YgVXRpbGl0aWVzQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImN1cnJlbnREYXRlXCI6IFwiXCJcbn1cbiAgKi9cblV0aWxpdGllc0FwaS5wcm90b3R5cGUuZ2V0RGF0ZSA9IGZ1bmN0aW9uIGdldERhdGUoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi9kYXRlJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgR2V0IHRpbWUgem9uZXMgbGlzdFxuICAqIEBtZW1iZXJPZiBVdGlsaXRpZXNBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge2ludGVnZXJ9IHBhZ2VTaXplIC0gUGFnZSBzaXplXG4gICogQHBhcmFtIHtpbnRlZ2VyfSBwYWdlTnVtYmVyIC0gUGFnZSBudW1iZXJcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwicGFnZVNpemVcIjogMCxcbiAgIFwicGFnZU51bWJlclwiOiAwLFxuICAgXCJ0b3RhbFwiOiAwLFxuICAgXCJlbnRpdGllc1wiOiBbXSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiLFxuICAgXCJmaXJzdFVyaVwiOiBcIlwiLFxuICAgXCJwcmV2aW91c1VyaVwiOiBcIlwiLFxuICAgXCJuZXh0VXJpXCI6IFwiXCIsXG4gICBcImxhc3RVcmlcIjogXCJcIixcbiAgIFwicGFnZUNvdW50XCI6IDBcbn1cbiAgKi9cblV0aWxpdGllc0FwaS5wcm90b3R5cGUuZ2V0VGltZXpvbmVzID0gZnVuY3Rpb24gZ2V0VGltZXpvbmVzKHBhZ2VTaXplLCBwYWdlTnVtYmVyKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi90aW1lem9uZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXF1ZXN0UXVlcnlbXCJwYWdlU2l6ZVwiXSA9IHBhZ2VTaXplO1xuICAgIHJlcXVlc3RRdWVyeVtcInBhZ2VOdW1iZXJcIl0gPSBwYWdlTnVtYmVyO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBVdGlsaXRpZXNBcGk7XG4iLCIvKipcbiogQGNsYXNzIFZvaWNlbWFpbEFwaVxuKiBAZXhhbXBsZVxuKiB2YXIgYXBpID0gbmV3IHB1cmVjbG91ZC5wbGF0Zm9ybS5Wb2ljZW1haWxBcGkocHVyZUNsb3VkU2Vzc2lvbik7XG4qL1xuZnVuY3Rpb24gVm9pY2VtYWlsQXBpKHNlc3Npb24pIHtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBWb2ljZW1haWxBcGkpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVm9pY2VtYWlsQXBpKHNlc3Npb24pO1xuICAgIH1cbiAgICBpZighKHNlc3Npb24gJiYgc2Vzc2lvbi5tYWtlUmVxdWVzdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2ljZW1haWxBcGkgcmVxdWlyZXMgYSBQdXJlQ2xvdWRTZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG59XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBtYWlsYm94IGluZm9ybWF0aW9uXG4gICogQG1lbWJlck9mIFZvaWNlbWFpbEFwaVxuICAqIEBpbnN0YW5jZVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJ1c2FnZVNpemVCeXRlc1wiOiAwLFxuICAgXCJ0b3RhbENvdW50XCI6IDAsXG4gICBcInVucmVhZENvdW50XCI6IDAsXG4gICBcInZvaWNlbWFpbFBvbGljeVwiOiB7XG4gICAgICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgICAgIFwiYWxlcnRUaW1lb3V0U2Vjb25kc1wiOiAwLFxuICAgICAgXCJtaW5pbXVtUmVjb3JkaW5nVGltZVNlY29uZHNcIjogMCxcbiAgICAgIFwibWF4aW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICAgICBcInVuYXZhaWxhYmxlTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgICAgXCJuYW1lUHJvbXB0TWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgICAgXCJmdWxsTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgICAgXCJwaW5cIjogXCJcIixcbiAgICAgIFwicXVvdGFTaXplQnl0ZXNcIjogMCxcbiAgICAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgICAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCJcbiAgIH0sXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiXG59XG4gICovXG5Wb2ljZW1haWxBcGkucHJvdG90eXBlLmdldE1haWxib3ggPSBmdW5jdGlvbiBnZXRNYWlsYm94KCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdm9pY2VtYWlsL21haWxib3gnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBMaXN0IHZvaWNlbWFpbCBtZXNzYWdlc1xuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwidG90YWxcIjogMCxcbiAgIFwiZW50aXRpZXNcIjogW10sXG4gICBcInNlbGZVcmlcIjogXCJcIlxufVxuICAqL1xuVm9pY2VtYWlsQXBpLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uIGdldE1lc3NhZ2VzKCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdm9pY2VtYWlsL21lc3NhZ2VzJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnR0VUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGFsbCB2b2ljZW1haWwgbWVzc2FnZXNcbiAgKiBAbWVtYmVyT2YgVm9pY2VtYWlsQXBpXG4gICogQGluc3RhbmNlXG4gICovXG5Wb2ljZW1haWxBcGkucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzID0gZnVuY3Rpb24gZGVsZXRlTWVzc2FnZXMoKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi92b2ljZW1haWwvbWVzc2FnZXMnO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdERUxFVEUnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgbWVzc2FnZS5cbiAgKiBAbWVtYmVyT2YgVm9pY2VtYWlsQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCAtIE1lc3NhZ2UgSURcbiAgKiBAZXhhbXBsZVxuICAqIDIwMCBSZXNwb25zZSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiaWRcIjogXCJcIixcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJyZWFkXCI6IHRydWUsXG4gICBcImF1ZGlvUmVjb3JkaW5nRHVyYXRpb25TZWNvbmRzXCI6IDAsXG4gICBcImF1ZGlvUmVjb3JkaW5nU2l6ZUJ5dGVzXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJjYWxsZXJBZGRyZXNzXCI6IFwiXCIsXG4gICBcImNhbGxlck5hbWVcIjogXCJcIixcbiAgIFwiY2FsbGVyVXNlclwiOiB7XG4gICAgICBcImlkXCI6IFwiXCIsXG4gICAgICBcIm5hbWVcIjogXCJcIixcbiAgICAgIFwiY2hhdFwiOiB7fSxcbiAgICAgIFwiZGVwYXJ0bWVudFwiOiBcIlwiLFxuICAgICAgXCJlbWFpbFwiOiBcIlwiLFxuICAgICAgXCJwcmltYXJ5Q29udGFjdEluZm9cIjogW10sXG4gICAgICBcImFkZHJlc3Nlc1wiOiBbXSxcbiAgICAgIFwic3RhdGVcIjogXCJcIixcbiAgICAgIFwidGl0bGVcIjogXCJcIixcbiAgICAgIFwidXNlcm5hbWVcIjogXCJcIixcbiAgICAgIFwiaW1hZ2VzXCI6IFtdLFxuICAgICAgXCJ2ZXJzaW9uXCI6IDAsXG4gICAgICBcInJvdXRpbmdTdGF0dXNcIjoge30sXG4gICAgICBcInByZXNlbmNlXCI6IHt9LFxuICAgICAgXCJjb252ZXJzYXRpb25TdW1tYXJ5XCI6IHt9LFxuICAgICAgXCJvdXRPZk9mZmljZVwiOiB7fSxcbiAgICAgIFwiZ2VvbG9jYXRpb25cIjoge30sXG4gICAgICBcInN0YXRpb25cIjoge30sXG4gICAgICBcImF1dGhvcml6YXRpb25cIjoge30sXG4gICAgICBcInByb2ZpbGVTa2lsbHNcIjogW10sXG4gICAgICBcInNlbGZVcmlcIjogXCJcIlxuICAgfSxcbiAgIFwic2VsZlVyaVwiOiBcIlwiXG59XG4gICovXG5Wb2ljZW1haWxBcGkucHJvdG90eXBlLmdldE1lc3NhZ2VzTWVzc2FnZUlkID0gZnVuY3Rpb24gZ2V0TWVzc2FnZXNNZXNzYWdlSWQobWVzc2FnZUlkKXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi92b2ljZW1haWwvbWVzc2FnZXMve21lc3NhZ2VJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZihtZXNzYWdlSWQgPT09IHVuZGVmaW5lZCB8fCBtZXNzYWdlSWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IG1lc3NhZ2VJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3ttZXNzYWdlSWR9JywgbWVzc2FnZUlkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSBtZXNzYWdlLlxuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkIC0gTWVzc2FnZSBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVm9pY2VtYWlsTWVzc2FnZVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiY29udmVyc2F0aW9uXCI6IHtcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJzdGFydFRpbWVcIjogXCJcIixcbiAgICAgIFwiZW5kVGltZVwiOiBcIlwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwiXCIsXG4gICAgICBcInBhcnRpY2lwYW50c1wiOiBbXSxcbiAgICAgIFwiY29udmVyc2F0aW9uSWRzXCI6IFtdLFxuICAgICAgXCJtYXhQYXJ0aWNpcGFudHNcIjogMCxcbiAgICAgIFwicmVjb3JkaW5nU3RhdGVcIjogXCJcIixcbiAgICAgIFwic3RhdGVcIjogXCJcIlxuICAgfSxcbiAgIFwicmVhZFwiOiB0cnVlLFxuICAgXCJhdWRpb1JlY29yZGluZ0R1cmF0aW9uU2Vjb25kc1wiOiAwLFxuICAgXCJhdWRpb1JlY29yZGluZ1NpemVCeXRlc1wiOiAwLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwiY2FsbGVyQWRkcmVzc1wiOiBcIlwiLFxuICAgXCJjYWxsZXJOYW1lXCI6IFwiXCIsXG4gICBcImNhbGxlclVzZXJcIjoge1xuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcImNoYXRcIjoge30sXG4gICAgICBcImRlcGFydG1lbnRcIjogXCJcIixcbiAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMFxuICAgfVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJpZFwiOiBcIlwiLFxuICAgXCJjb252ZXJzYXRpb25cIjoge1xuICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgXCJuYW1lXCI6IFwiXCIsXG4gICAgICBcInN0YXJ0VGltZVwiOiBcIlwiLFxuICAgICAgXCJlbmRUaW1lXCI6IFwiXCIsXG4gICAgICBcImFkZHJlc3NcIjogXCJcIixcbiAgICAgIFwicGFydGljaXBhbnRzXCI6IFtdLFxuICAgICAgXCJjb252ZXJzYXRpb25JZHNcIjogW10sXG4gICAgICBcIm1heFBhcnRpY2lwYW50c1wiOiAwLFxuICAgICAgXCJyZWNvcmRpbmdTdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJzZWxmVXJpXCI6IFwiXCJcbiAgIH0sXG4gICBcInJlYWRcIjogdHJ1ZSxcbiAgIFwiYXVkaW9SZWNvcmRpbmdEdXJhdGlvblNlY29uZHNcIjogMCxcbiAgIFwiYXVkaW9SZWNvcmRpbmdTaXplQnl0ZXNcIjogMCxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcImNhbGxlckFkZHJlc3NcIjogXCJcIixcbiAgIFwiY2FsbGVyTmFtZVwiOiBcIlwiLFxuICAgXCJjYWxsZXJVc2VyXCI6IHtcbiAgICAgIFwiaWRcIjogXCJcIixcbiAgICAgIFwibmFtZVwiOiBcIlwiLFxuICAgICAgXCJjaGF0XCI6IHt9LFxuICAgICAgXCJkZXBhcnRtZW50XCI6IFwiXCIsXG4gICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICBcInByaW1hcnlDb250YWN0SW5mb1wiOiBbXSxcbiAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgXCJzdGF0ZVwiOiBcIlwiLFxuICAgICAgXCJ0aXRsZVwiOiBcIlwiLFxuICAgICAgXCJ1c2VybmFtZVwiOiBcIlwiLFxuICAgICAgXCJpbWFnZXNcIjogW10sXG4gICAgICBcInZlcnNpb25cIjogMCxcbiAgICAgIFwicm91dGluZ1N0YXR1c1wiOiB7fSxcbiAgICAgIFwicHJlc2VuY2VcIjoge30sXG4gICAgICBcImNvbnZlcnNhdGlvblN1bW1hcnlcIjoge30sXG4gICAgICBcIm91dE9mT2ZmaWNlXCI6IHt9LFxuICAgICAgXCJnZW9sb2NhdGlvblwiOiB7fSxcbiAgICAgIFwic3RhdGlvblwiOiB7fSxcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiOiB7fSxcbiAgICAgIFwicHJvZmlsZVNraWxsc1wiOiBbXSxcbiAgICAgIFwic2VsZlVyaVwiOiBcIlwiXG4gICB9LFxuICAgXCJzZWxmVXJpXCI6IFwiXCJcbn1cbiAgKi9cblZvaWNlbWFpbEFwaS5wcm90b3R5cGUucHV0TWVzc2FnZXNNZXNzYWdlSWQgPSBmdW5jdGlvbiBwdXRNZXNzYWdlc01lc3NhZ2VJZChtZXNzYWdlSWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3ZvaWNlbWFpbC9tZXNzYWdlcy97bWVzc2FnZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKG1lc3NhZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IG1lc3NhZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbWVzc2FnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne21lc3NhZ2VJZH0nLCBtZXNzYWdlSWQpO1xuICAgIGlmKGJvZHkgPT09IHVuZGVmaW5lZCB8fCBib2R5ID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBib2R5Jyk7XG4gICAgfVxuICAgIGlmKGJvZHkgIT09IHVuZGVmaW5lZCAmJiBib2R5ICE9PSBudWxsKXtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tYWtlUmVxdWVzdCgnUFVUJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuLyoqXG4gICogQHN1bW1hcnkgRGVsZXRlIGEgbWVzc2FnZS5cbiAgKiBAbWVtYmVyT2YgVm9pY2VtYWlsQXBpXG4gICogQGluc3RhbmNlXG4gICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCAtIE1lc3NhZ2UgSURcbiAgKi9cblZvaWNlbWFpbEFwaS5wcm90b3R5cGUuZGVsZXRlTWVzc2FnZXNNZXNzYWdlSWQgPSBmdW5jdGlvbiBkZWxldGVNZXNzYWdlc01lc3NhZ2VJZChtZXNzYWdlSWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3ZvaWNlbWFpbC9tZXNzYWdlcy97bWVzc2FnZUlkfSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIGlmKG1lc3NhZ2VJZCA9PT0gdW5kZWZpbmVkIHx8IG1lc3NhZ2VJZCA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogbWVzc2FnZUlkJyk7XG4gICAgfVxuICAgIHJlcXVlc3RQYXRoID0gcmVxdWVzdFBhdGgucmVwbGFjZSgne21lc3NhZ2VJZH0nLCBtZXNzYWdlSWQpO1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0RFTEVURScsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IEdldCBtZWRpYSBwbGF5YmFjayBVUkkgZm9yIHRoaXMgbWVzc2FnZVxuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZUlkIC0gTWVzc2FnZSBJRFxuICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXRJZCAtIFRoZSBkZXNpcmVkIG1lZGlhIGZvcm1hdC5cbiAgV0FWLFxuICBXRUJNLFxuICBXQVZfVUxBVyxcbiAgT0dHX1ZPUkJJUyxcbiAgT0dHX09QVVMsXG4gIE5PTkUsXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImlkXCI6IFwiXCIsXG4gICBcIm1lZGlhRmlsZVVyaVwiOiBcIlwiLFxuICAgXCJtZWRpYUltYWdlVXJpXCI6IFwiXCJcbn1cbiAgKi9cblZvaWNlbWFpbEFwaS5wcm90b3R5cGUuZ2V0TWVzc2FnZXNNZXNzYWdlSWRNZWRpYSA9IGZ1bmN0aW9uIGdldE1lc3NhZ2VzTWVzc2FnZUlkTWVkaWEobWVzc2FnZUlkLCBmb3JtYXRJZCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdm9pY2VtYWlsL21lc3NhZ2VzL3ttZXNzYWdlSWR9L21lZGlhJztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYobWVzc2FnZUlkID09PSB1bmRlZmluZWQgfHwgbWVzc2FnZUlkID09PSBudWxsKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCAgcGFyYW1ldGVyOiBtZXNzYWdlSWQnKTtcbiAgICB9XG4gICAgcmVxdWVzdFBhdGggPSByZXF1ZXN0UGF0aC5yZXBsYWNlKCd7bWVzc2FnZUlkfScsIG1lc3NhZ2VJZCk7XG4gICAgcmVxdWVzdFF1ZXJ5W1wiZm9ybWF0SWRcIl0gPSBmb3JtYXRJZDtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSBwb2xpY3lcbiAgKiBAbWVtYmVyT2YgVm9pY2VtYWlsQXBpXG4gICogQGluc3RhbmNlXG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwicmV0ZW50aW9uVGltZURheXNcIjogMCxcbiAgIFwiYWxlcnRUaW1lb3V0U2Vjb25kc1wiOiAwLFxuICAgXCJtaW5pbXVtUmVjb3JkaW5nVGltZVNlY29uZHNcIjogMCxcbiAgIFwibWF4aW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICBcInVuYXZhaWxhYmxlTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJuYW1lUHJvbXB0TWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJmdWxsTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJjb21wcmVzc1NpbGVuY2VcIjogdHJ1ZSxcbiAgIFwicGluQ29uZmlndXJhdGlvblwiOiB7XG4gICAgICBcIm1pbmltdW1MZW5ndGhcIjogMCxcbiAgICAgIFwibWF4aW11bUxlbmd0aFwiOiAwXG4gICB9LFxuICAgXCJxdW90YVNpemVCeXRlc1wiOiAwLFxuICAgXCJjcmVhdGVkRGF0ZVwiOiBcIlwiLFxuICAgXCJtb2RpZmllZERhdGVcIjogXCJcIixcbiAgIFwidm9pY2VtYWlsRXh0ZW5zaW9uXCI6IFwiXCIsXG4gICBcInBpblJlcXVpcmVkXCI6IHRydWVcbn1cbiAgKi9cblZvaWNlbWFpbEFwaS5wcm90b3R5cGUuZ2V0UG9saWN5ID0gZnVuY3Rpb24gZ2V0UG9saWN5KCl7XG4gICAgdmFyIHJlcXVlc3RQYXRoID0gJy9hcGkvdjIvdm9pY2VtYWlsL3BvbGljeSc7XG4gICAgdmFyIHJlcXVlc3RRdWVyeSA9IHt9O1xuICAgIHZhciByZXF1ZXN0Qm9keTtcblxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RQYXRoLCByZXF1ZXN0UXVlcnksIHJlcXVlc3RCb2R5KTtcbn07XG5cbi8qKlxuICAqIEBzdW1tYXJ5IFVwZGF0ZSBhIHBvbGljeVxuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge30gYm9keSAtIFBvbGljeVxuICAqIEBleGFtcGxlXG4gICogQm9keSBFeGFtcGxlOlxuICAqIHtcbiAgIFwiZW5hYmxlZFwiOiB0cnVlLFxuICAgXCJyZXRlbnRpb25UaW1lRGF5c1wiOiAwLFxuICAgXCJhbGVydFRpbWVvdXRTZWNvbmRzXCI6IDAsXG4gICBcIm1pbmltdW1SZWNvcmRpbmdUaW1lU2Vjb25kc1wiOiAwLFxuICAgXCJtYXhpbXVtUmVjb3JkaW5nVGltZVNlY29uZHNcIjogMCxcbiAgIFwidW5hdmFpbGFibGVNZXNzYWdlVXJpXCI6IFwiXCIsXG4gICBcIm5hbWVQcm9tcHRNZXNzYWdlVXJpXCI6IFwiXCIsXG4gICBcImZ1bGxNZXNzYWdlVXJpXCI6IFwiXCIsXG4gICBcImNvbXByZXNzU2lsZW5jZVwiOiB0cnVlLFxuICAgXCJwaW5Db25maWd1cmF0aW9uXCI6IHtcbiAgICAgIFwibWluaW11bUxlbmd0aFwiOiAwLFxuICAgICAgXCJtYXhpbXVtTGVuZ3RoXCI6IDBcbiAgIH0sXG4gICBcInF1b3RhU2l6ZUJ5dGVzXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiLFxuICAgXCJ2b2ljZW1haWxFeHRlbnNpb25cIjogXCJcIixcbiAgIFwicGluUmVxdWlyZWRcIjogdHJ1ZVxufVxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcInJldGVudGlvblRpbWVEYXlzXCI6IDAsXG4gICBcImFsZXJ0VGltZW91dFNlY29uZHNcIjogMCxcbiAgIFwibWluaW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICBcIm1heGltdW1SZWNvcmRpbmdUaW1lU2Vjb25kc1wiOiAwLFxuICAgXCJ1bmF2YWlsYWJsZU1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwibmFtZVByb21wdE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwiZnVsbE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwiY29tcHJlc3NTaWxlbmNlXCI6IHRydWUsXG4gICBcInBpbkNvbmZpZ3VyYXRpb25cIjoge1xuICAgICAgXCJtaW5pbXVtTGVuZ3RoXCI6IDAsXG4gICAgICBcIm1heGltdW1MZW5ndGhcIjogMFxuICAgfSxcbiAgIFwicXVvdGFTaXplQnl0ZXNcIjogMCxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCIsXG4gICBcInZvaWNlbWFpbEV4dGVuc2lvblwiOiBcIlwiLFxuICAgXCJwaW5SZXF1aXJlZFwiOiB0cnVlXG59XG4gICovXG5Wb2ljZW1haWxBcGkucHJvdG90eXBlLnB1dFBvbGljeSA9IGZ1bmN0aW9uIHB1dFBvbGljeShib2R5KXtcbiAgICB2YXIgcmVxdWVzdFBhdGggPSAnL2FwaS92Mi92b2ljZW1haWwvcG9saWN5JztcbiAgICB2YXIgcmVxdWVzdFF1ZXJ5ID0ge307XG4gICAgdmFyIHJlcXVlc3RCb2R5O1xuXG4gICAgaWYoYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IGJvZHknKTtcbiAgICB9XG4gICAgaWYoYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGwpe1xuICAgICAgcmVxdWVzdEJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdQVVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBHZXQgYSB1c2VyJ3Mgdm9pY2VtYWlsIHBvbGljeVxuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBleGFtcGxlXG4gICogMjAwIFJlc3BvbnNlIEV4YW1wbGU6XG4gICoge1xuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImFsZXJ0VGltZW91dFNlY29uZHNcIjogMCxcbiAgIFwibWluaW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICBcIm1heGltdW1SZWNvcmRpbmdUaW1lU2Vjb25kc1wiOiAwLFxuICAgXCJ1bmF2YWlsYWJsZU1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwibmFtZVByb21wdE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwiZnVsbE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwicGluXCI6IFwiXCIsXG4gICBcInF1b3RhU2l6ZUJ5dGVzXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiXG59XG4gICovXG5Wb2ljZW1haWxBcGkucHJvdG90eXBlLmdldFVzZXJwb2xpY2llc1VzZXJJZCA9IGZ1bmN0aW9uIGdldFVzZXJwb2xpY2llc1VzZXJJZCh1c2VySWQpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3ZvaWNlbWFpbC91c2VycG9saWNpZXMve3VzZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1ha2VSZXF1ZXN0KCdHRVQnLCByZXF1ZXN0UGF0aCwgcmVxdWVzdFF1ZXJ5LCByZXF1ZXN0Qm9keSk7XG59O1xuXG4vKipcbiAgKiBAc3VtbWFyeSBVcGRhdGUgYSB1c2VyJ3Mgdm9pY2VtYWlsIHBvbGljeVxuICAqIEBtZW1iZXJPZiBWb2ljZW1haWxBcGlcbiAgKiBAaW5zdGFuY2VcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAqIEBwYXJhbSB7fSBib2R5IC0gVGhlIHVzZXIncyB2b2ljZW1haWwgcG9saWN5XG4gICogQGV4YW1wbGVcbiAgKiBCb2R5IEV4YW1wbGU6XG4gICoge1xuICAgXCJlbmFibGVkXCI6IHRydWUsXG4gICBcImFsZXJ0VGltZW91dFNlY29uZHNcIjogMCxcbiAgIFwibWluaW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICBcIm1heGltdW1SZWNvcmRpbmdUaW1lU2Vjb25kc1wiOiAwLFxuICAgXCJ1bmF2YWlsYWJsZU1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwibmFtZVByb21wdE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwiZnVsbE1lc3NhZ2VVcmlcIjogXCJcIixcbiAgIFwicGluXCI6IFwiXCIsXG4gICBcInF1b3RhU2l6ZUJ5dGVzXCI6IDAsXG4gICBcImNyZWF0ZWREYXRlXCI6IFwiXCIsXG4gICBcIm1vZGlmaWVkRGF0ZVwiOiBcIlwiXG59XG4gICogQGV4YW1wbGVcbiAgKiAyMDAgUmVzcG9uc2UgRXhhbXBsZTpcbiAgKiB7XG4gICBcImVuYWJsZWRcIjogdHJ1ZSxcbiAgIFwiYWxlcnRUaW1lb3V0U2Vjb25kc1wiOiAwLFxuICAgXCJtaW5pbXVtUmVjb3JkaW5nVGltZVNlY29uZHNcIjogMCxcbiAgIFwibWF4aW11bVJlY29yZGluZ1RpbWVTZWNvbmRzXCI6IDAsXG4gICBcInVuYXZhaWxhYmxlTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJuYW1lUHJvbXB0TWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJmdWxsTWVzc2FnZVVyaVwiOiBcIlwiLFxuICAgXCJwaW5cIjogXCJcIixcbiAgIFwicXVvdGFTaXplQnl0ZXNcIjogMCxcbiAgIFwiY3JlYXRlZERhdGVcIjogXCJcIixcbiAgIFwibW9kaWZpZWREYXRlXCI6IFwiXCJcbn1cbiAgKi9cblZvaWNlbWFpbEFwaS5wcm90b3R5cGUucGF0Y2hVc2VycG9saWNpZXNVc2VySWQgPSBmdW5jdGlvbiBwYXRjaFVzZXJwb2xpY2llc1VzZXJJZCh1c2VySWQsIGJvZHkpe1xuICAgIHZhciByZXF1ZXN0UGF0aCA9ICcvYXBpL3YyL3ZvaWNlbWFpbC91c2VycG9saWNpZXMve3VzZXJJZH0nO1xuICAgIHZhciByZXF1ZXN0UXVlcnkgPSB7fTtcbiAgICB2YXIgcmVxdWVzdEJvZHk7XG5cbiAgICBpZih1c2VySWQgPT09IHVuZGVmaW5lZCB8fCB1c2VySWQgPT09IG51bGwpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkICBwYXJhbWV0ZXI6IHVzZXJJZCcpO1xuICAgIH1cbiAgICByZXF1ZXN0UGF0aCA9IHJlcXVlc3RQYXRoLnJlcGxhY2UoJ3t1c2VySWR9JywgdXNlcklkKTtcbiAgICBpZihib2R5ID09PSB1bmRlZmluZWQgfHwgYm9keSA9PT0gbnVsbCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgIHBhcmFtZXRlcjogYm9keScpO1xuICAgIH1cbiAgICBpZihib2R5ICE9PSB1bmRlZmluZWQgJiYgYm9keSAhPT0gbnVsbCl7XG4gICAgICByZXF1ZXN0Qm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlc3Npb24ubWFrZVJlcXVlc3QoJ1BBVENIJywgcmVxdWVzdFBhdGgsIHJlcXVlc3RRdWVyeSwgcmVxdWVzdEJvZHkpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFZvaWNlbWFpbEFwaTtcbiIsIlxudmFyIHN1cGVyYWdlbnQgPSByZXF1aXJlKCdzdXBlcmFnZW50Jyk7XG5cbi8vQVBJIFZFUlNJT04gLSAwLjYxLjJcbi8qKlxuICAqIEBkZXNjcmlwdGlvbiBXaXRoIHRoZSBQdXJlQ2xvdWQgUGxhdGZvcm0gQVBJLCB5b3UgY2FuIGNvbnRyb2wgYWxsIGFzcGVjdHMgb2YgeW91ciBQdXJlQ2xvdWQgZW52aXJvbm1lbnQuIFdpdGggdGhlIEFQSXMgeW91IGNhbiBhY2Nlc3MgdGhlIHN5c3RlbSBjb25maWd1cmF0aW9uLCBtYW5hZ2UgY29udmVyc2F0aW9ucyBhbmQgbW9yZS5cbiAgKiBAY2xhc3NcbiAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zdHJhdGVneSAtIEF1dGhlbnRpY2F0aW9uIHN0cmF0ZWd5OiBcInRva2VuXCIsIFwiaW1wbGljaXRcIiwgXCJjbGllbnQtY3JlZGVudGlhbHNcIlxuICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmVudmlyb25tZW50IC0gKE9wdGlvbmFsLCBkZWZhdWx0IFwibXlwdXJlY2xvdWQuY29tXCIpIEVudmlyb25tZW50IHRoZSBzZXNzaW9uIHVzZSwgZS5nLiBteXB1cmVjbG91ZC5pZSwgbXlwdXJlY2xvdWQuY29tLmF1LCBldGMuXG4gICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2xpZW50SWQgLSAoT3B0aW9uYWwpIENsaWVudCBpZGVudGlmaWVyIGZvciBcImltcGxpY2l0XCIgb3IgXCJjbGllbnQtY3JlZGVudGlhbHNcIiBzdHJhdGVnaWVzXG4gICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2xpZW50U2VjcmV0IC0gKE9wdGlvbmFsKSBDbGllbnQgc2VjcmV0IGtleSBmb3IgXCJjbGllbnQtY3JlZGVudGlhbHNcIiBzdHJhdGVneVxuICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnJlZGlyZWN0VXJsIC0gKE9wdGlvbmFsKSBDYWxsYmFjayBVUkwgZm9yIFwiaW1wbGljaXRcIiBzdHJhdGVneVxuICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnRva2VuIC0gKE9wdGlvbmFsKSBFeGlzdGluZyB0b2tlbiBmb3IgXCJ0b2tlblwiIHN0cmF0ZWd5XG4gICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc3RvcmFnZUtleSAtIChPcHRpb25hbCkgS2V5IHRvIHNldCBpbiBsb2NhbFN0b3JhZ2Ugd2l0aCB0aGUgYXV0aGVudGljYXRpb24gdG9rZW5cbiAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aW1lb3V0IC0gKE9wdGlvbmFsKSBSZXF1ZXN0IHRpbWVvdXQgaW4gbWlsbGlzZWNvbmR3XG4gICoqL1xuZnVuY3Rpb24gUHVyZUNsb3VkU2Vzc2lvbihvcHRpb25zKSB7XG4gICAgaWYoISh0aGlzIGluc3RhbmNlb2YgUHVyZUNsb3VkU2Vzc2lvbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQdXJlQ2xvdWRTZXNzaW9uKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmKCFvcHRpb25zLnRpbWVvdXQpe1xuICAgICAgICBvcHRpb25zLnRpbWVvdXQgPSAyMDAwO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLl9zZXRWYWx1ZXNGcm9tVXJsSGFzaCgpO1xuXG4gICAgdGhpcy5vcHRpb25zLnRva2VuID0gdGhpcy5fZ2V0VG9rZW4oKTtcbiAgICB0aGlzLnNldEVudmlyb25tZW50KHRoaXMub3B0aW9ucy5lbnZpcm9ubWVudCk7XG5cbn1cblxuLyoqXG4gICogQGRlc2NyaXB0aW9uIFNldHMgdGhlIGVudmlyb25tZW50IHVzZWQgYnkgdGhlIHNlc3Npb25cbiAgKiBAcGFyYW0ge3N0cmluZ30gZW52aXJvbm1lbnQgLSAoT3B0aW9uYWwsIGRlZmF1bHQgXCJteXB1cmVjbG91ZC5jb21cIikgRW52aXJvbm1lbnQgdGhlIHNlc3Npb24gdXNlLCBlLmcuIG15cHVyZWNsb3VkLmllLCBteXB1cmVjbG91ZC5jb20uYXUsIGV0Yy5cbiAgKiovXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5zZXRFbnZpcm9ubWVudCA9IGZ1bmN0aW9uIHNldEVudmlyb25tZW50KGVudmlyb25tZW50KSB7XG4gICAgdGhpcy5vcHRpb25zLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQgfHwgJ215cHVyZWNsb3VkLmNvbSc7XG4gICAgdGhpcy5hcGlVcmwgPSAnaHR0cHM6Ly9hcGkuJyArIHRoaXMub3B0aW9ucy5lbnZpcm9ubWVudDtcbiAgICB0aGlzLmF1dGhVcmwgPSAnaHR0cHM6Ly9sb2dpbi4nICsgdGhpcy5vcHRpb25zLmVudmlyb25tZW50O1xufTtcblxuXG4vKipcbiAgKiBAZGVzY3JpcHRpb24gU2V0cyBhbiBlcnJvciBoYW5kbGVyIHRvIGJlIGNhbGxlZCBhbnkgdGltZSB0aGVyZSBpcyBhIDQwMSBVbmF1dGhlbnRpY2F0ZWQgZXJyb3IgcmV0dXJuZWQgYnkgdGhlIGFwaVxuICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9ySGFuZGxlciAtIFRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAqKi9cblB1cmVDbG91ZFNlc3Npb24ucHJvdG90eXBlLnNldFVuYXV0aGVudGljYXRlZEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIHNldEVudmlyb25tZW50KGVycm9ySGFuZGxlcikge1xuICAgIHRoaXMudW5hdXRoZW50aWNhdGVkRXJyb3JIYW5kbGVyID0gZXJyb3JIYW5kbGVyO1xufVxuXG4vKipcbiAgKiBAZGVzY3JpcHRpb24gQXR0ZW1wdHMgdG8gbG9naW4gd2l0aCB0aGUgYXBwcm9wcmlhdGUgYXV0aGVudGljYXRpb24gc3RyYXRlZ3lcbiAgKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24sIG90aGVyd2lzZSByZWplY3RzIHdpdGggYW4gZXJyb3JcbiAgKiovXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5sb2dpbiA9IGZ1bmN0aW9uIGxvZ2luKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRva2VuID8gdGhpcy5fdGVzdFRva2VuQWNjZXNzKCkuY2F0Y2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuX2F1dGhlbnRpY2F0ZSgpO1xuICAgICAgICB9KSA6IHRoaXMuX2F1dGhlbnRpY2F0ZSgpO1xufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX2F1dGhlbnRpY2F0ZSA9IGZ1bmN0aW9uIF9hdXRoZW50aWNhdGUoKSB7XG4gIHZhciBzdHJhdGVneSA9IHRoaXMub3B0aW9ucy5zdHJhdGVneTtcbiAgc3dpdGNoKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSAndG9rZW4nOlxuICAgICAgdmFyIHRva2VuID0gdGhpcy5vcHRpb25zLnRva2VuO1xuICAgICAgcmV0dXJuIHRoaXMuX2xvZ2luV2l0aFRva2VuKHRva2VuKTtcbiAgICBjYXNlICdpbXBsaWNpdCc6XG4gICAgICB2YXIgaW1wbGljaXRjbGllbnRJZCA9IHRoaXMub3B0aW9ucy5jbGllbnRJZDtcbiAgICAgIHZhciByZWRpcmVjdFVybCA9IHRoaXMub3B0aW9ucy5yZWRpcmVjdFVybDtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMub3B0aW9ucy5zdGF0ZTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2dpbldpdGhJbXBsaWNpdEdyYW50KGltcGxpY2l0Y2xpZW50SWQsIHJlZGlyZWN0VXJsLCBzdGF0ZSk7XG4gICAgY2FzZSAnY2xpZW50LWNyZWRlbnRpYWxzJzpcbiAgICAgIHZhciBjbGllbnRJZCA9IHRoaXMub3B0aW9ucy5jbGllbnRJZDtcbiAgICAgIHZhciBjbGllbnRTZWNyZXQgPSB0aGlzLm9wdGlvbnMuY2xpZW50U2VjcmV0O1xuICAgICAgcmV0dXJuIHRoaXMuX2xvZ2luV2l0aENsaWVudENyZWRlbnRpYWxzKGNsaWVudElkLCBjbGllbnRTZWNyZXQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHN0cmF0ZWd5IFwiJytzdHJhdGVneSsnXCIgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgfVxufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX3Rlc3RUb2tlbkFjY2VzcyA9IGZ1bmN0aW9uIF90ZXN0VG9rZW5BY2Nlc3MoKSB7XG4gICAgaWYodGhpcy5vcHRpb25zLnN0cmF0ZWd5ID09PSAnaW1wbGljaXQnKSB7XG4gICAgICB2YXIgY2hlY2tVcmwgPSB0aGlzLmFwaVVybCArIFwiL2FwaS92Mi91c2Vycy9tZVwiO1xuICAgICAgcmV0dXJuIHRoaXMuX21ha2VSZXF1ZXN0KCdnZXQnLCBjaGVja1VybCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cblB1cmVDbG91ZFNlc3Npb24ucHJvdG90eXBlLl9sb2dpbldpdGhUb2tlbiA9IGZ1bmN0aW9uIF9sb2dpbldpdGhUb2tlbih0b2tlbikge1xuICAgIGlmKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wdGlvbnMgcmVxdWlyZXMgYSBcInRva2VuXCIga2V5IGZvciB0aGUgXCJ0b2tlblwiIHN0cmF0ZWd5Jyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cblB1cmVDbG91ZFNlc3Npb24ucHJvdG90eXBlLl9sb2dpbldpdGhJbXBsaWNpdEdyYW50ID0gZnVuY3Rpb24oY2xpZW50SWQsIHJlZGlyZWN0VXJsLCBzdGF0ZSkge1xuICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcbiAgICAgICAgY2xpZW50X2lkOiBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50SWQpLFxuICAgICAgICByZWRpcmVjdF91cmk6IGVuY29kZVVSSShyZWRpcmVjdFVybCksXG4gICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBxcyh1cmwsIGtleSkge1xuICAgICAgICB2YXIgdmFsID0gcXVlcnlba2V5XTtcbiAgICAgICAgaWYoIXZhbCkgcmV0dXJuIHVybDtcbiAgICAgICAgcmV0dXJuIHVybCArICcmJyArIGtleSArICc9JyArIHZhbDtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZShxcywgdGhpcy5hdXRoVXJsICsgJy9hdXRob3JpemU/Jyk7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodXJsKTtcbn07XG5cblB1cmVDbG91ZFNlc3Npb24ucHJvdG90eXBlLl9zZXRWYWx1ZXNGcm9tVXJsSGFzaCA9IGZ1bmN0aW9uIHNldFZhbHVlc0Zyb21VcmxIYXNoKCkge1xuICAgIGlmKCEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uLmhhc2gpKSByZXR1cm47XG4gICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgICAgICAuc2xpY2UoMSkuc3BsaXQoJyYnKVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKG9iaiwgcGFpcikge1xuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gcGFpci5zcGxpdCgnPScpO1xuICAgICAgICAgICAgb2JqW2tleVZhbHVlWzBdXSA9IGtleVZhbHVlWzFdO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSwge30pO1xuXG4gICAgaWYoaGFzaC5hY2Nlc3NfdG9rZW4pIHRoaXMuX3NldFRva2VuKGhhc2guYWNjZXNzX3Rva2VuKTtcbiAgICBpZihoYXNoLnN0YXRlKSB0aGlzLm9wdGlvbnMuc3RhdGUgPSBoYXNoLnN0YXRlO1xufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX2xvZ2luV2l0aENsaWVudENyZWRlbnRpYWxzID0gZnVuY3Rpb24oY2xpZW50SWQsIGNsaWVudFNlY3JldCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgdXJsID0gdGhpcy5hdXRoVXJsICsgJy90b2tlbic7XG4gICAgdmFyIGRhdGEgPSB7Z3JhbnRfdHlwZTogJ2NsaWVudF9jcmVkZW50aWFscyd9O1xuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fYmFzZVJlcXVlc3QoJ3Bvc3QnLCB1cmwpXG4gICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKVxuICAgICAgICAuYXV0aChjbGllbnRJZCwgY2xpZW50U2VjcmV0KVxuICAgICAgICAuc2VuZChkYXRhKTtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QocmVxdWVzdClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYm9keSkge1xuICAgICAgICAgICAgc2VsZi5fc2V0VG9rZW4oYm9keS5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICB9KTtcbn07XG5cblB1cmVDbG91ZFNlc3Npb24ucHJvdG90eXBlLl9nZXRUb2tlbiA9IGZ1bmN0aW9uIF9nZXRUb2tlbigpIHtcbiAgICBpZih0aGlzLm9wdGlvbnMudG9rZW4pIHJldHVybiB0aGlzLm9wdGlvbnMudG9rZW47XG4gICAgaWYodGhpcy5vcHRpb25zLnN0b3JhZ2VLZXkgJiYgUHVyZUNsb3VkU2Vzc2lvbi5oYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMub3B0aW9ucy5zdG9yYWdlS2V5KTtcbiAgICB9XG59O1xuXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5fc2V0VG9rZW4gPSBmdW5jdGlvbiBfc2V0VG9rZW4odG9rZW4pIHtcbiAgICB0aGlzLm9wdGlvbnMudG9rZW4gPSB0b2tlbjtcbiAgICBpZih0aGlzLm9wdGlvbnMuc3RvcmFnZUtleSAmJiBQdXJlQ2xvdWRTZXNzaW9uLmhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm9wdGlvbnMuc3RvcmFnZUtleSwgdG9rZW4pO1xuICAgIH1cbn07XG5cblB1cmVDbG91ZFNlc3Npb24uaGFzTG9jYWxTdG9yYWdlID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibW9kXCIsIFwibW9kXCIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIm1vZFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59KS5jYWxsKHRoaXMpO1xuXG4vKipcbiAgKiBAZGVzY3JpcHRpb24gRGVhdXRoZW50aWNhdGVzIHRoZSBzZXNzaW9uIGFuZCByZW1vdmVzIGFueSBzdG9yZWQgdG9rZW5cbiAgKiovXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5sb2dvdXQgPSBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgaWYoUHVyZUNsb3VkU2Vzc2lvbi5oYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgdGhpcy5fc2V0VG9rZW4obnVsbCk7XG4gICAgfVxuXHR3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh0aGlzLmF1dGhVcmwgKyBcIi9sb2dvdXRcIik7XG59O1xuXG4vKipcbiAgKiBAZGVzY3JpcHRpb24gTWFrZXMgYXV0aGVudGljYXRlZCByZXF1ZXN0cyB0byBQdXJlQ2xvdWRcbiAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gSFRUUCBtZXRob2QgdmVyYiwgZS5nLiBcImdldFwiLCBcInBvc3RcIlxuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gcmVxdWVzdFxuICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSAtIChPcHRpb25hbCkgcXVlcnkgcGFyYW1ldGVyc1xuICAqIEBwYXJhbSB7b2JqZWN0fSBib2R5IC0gKE9wdGlvbmFsKSByZXF1ZXN0IGJvZHkgcGF5bG9hZFxuICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSByZXNwb25zZSBib2R5LCBvdGhlcndpc2UgcmVqZWN0cyB3aXRoIGFuIGVycm9yXG4gICovXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5tYWtlUmVxdWVzdCA9IGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsLCBxdWVyeSwgYm9keSkge1xuICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChtZXRob2QsIHVybCwgcXVlcnksIGJvZHkpO1xufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX21ha2VSZXF1ZXN0ID0gZnVuY3Rpb24gX21ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsLCBxdWVyeSwgYm9keSkge1xuICAgIHZhciBiZWFyZXIgPSAnYmVhcmVyICcgKyB0aGlzLm9wdGlvbnMudG9rZW47XG5cbiAgICBpZih0aGlzLmRlYnVnTG9nKXtcbiAgICAgICAgdmFyIHRyYWNlID0gbWV0aG9kICsgXCIgXCIgKyB1cmw7XG4gICAgICAgIGlmKHF1ZXJ5ICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5jb3VudCA+IDAgJiYgcXVlcnlbT2JqZWN0LmtleXMocXVlcnkpWzBdXSl7XG4gICAgICAgICAgICB0cmFjZSArPSBcIlxcblF1ZXJ5IFBhcmFtczogXCIgKyBKU09OLnN0cmluZ2lmeShxdWVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihib2R5KXtcbiAgICAgICAgICAgIHRyYWNlICs9IFwiXFxuQm9keTogXCIgKyBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVidWdMb2codHJhY2UpO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fYmFzZVJlcXVlc3QobWV0aG9kLCB1cmwpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBiZWFyZXIpXG4gICAgICAgIC5xdWVyeShxdWVyeSlcbiAgICAgICAgLnNlbmQoYm9keSk7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QpO1xufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX2Jhc2VSZXF1ZXN0ID0gZnVuY3Rpb24gX2Jhc2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgbWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYodXJsLmNoYXJBdCgwKSA9PT0gJy8nKSB1cmwgPSB0aGlzLmFwaVVybCArIHVybDtcblxuICAgIHZhciByZXF1ZXN0ID0gc3VwZXJhZ2VudFttZXRob2RdKHVybClcbiAgICAgICAgLnR5cGUoJ2pzb24nKVxuICAgICAgICAuYWNjZXB0KCdqc29uJylcbiAgICAgICAgLnRpbWVvdXQodGhpcy5vcHRpb25zLnRpbWVvdXQpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICB2YXIgdXNlckFnZW50ID0gJ1B1cmVDbG91ZCBTREsvSmF2YXNjcmlwdCAwLjYxLjInO1xuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5zZXQoJ1VzZXItQWdlbnQnLCB1c2VyQWdlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXF1ZXN0O1xufTtcblxuUHVyZUNsb3VkU2Vzc2lvbi5wcm90b3R5cGUuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gX3NlbmRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZXF1ZXN0LmVuZChmdW5jdGlvbihlcnJvciwgcmVzKSB7XG4gICAgICAgICAgICBpZihzZWxmLmRlYnVnTG9nKXtcbiAgICAgICAgICAgICAgICBpZihyZXMpe1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmRlYnVnTG9nKHJlcy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRlYnVnTG9nKGVycm9yIHx8IHJlcy5lcnJvciB8fCByZXMuYm9keSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYocmVzICYmIHJlcy51bmF1dGhvcml6ZWQgJiYgc2VsZi51bmF1dGhlbnRpY2F0ZWRFcnJvckhhbmRsZXIpe1xuICAgICAgICAgICAgICAgIHNlbGYudW5hdXRoZW50aWNhdGVkRXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChyZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXMuYm9keSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLyoqXG4gICogQGRlc2NyaXB0aW9uIENvbnZlaW5lbmNlIG1ldGhvZCBmb3IgbWFraW5nIEdFVCByZXF1ZXN0c1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gcmVxdWVzdFxuICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSAtIChPcHRpb25hbCkgcXVlcnkgcGFyYW1ldGVyc1xuICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSByZXNwb25zZSBib2R5LCBvdGhlcndpc2UgcmVqZWN0cyB3aXRoIGFuIGVycm9yXG4gICovXG5QdXJlQ2xvdWRTZXNzaW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQodXJsLCBxdWVyeSkge1xuICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnZ2V0JywgdXJsLCBxdWVyeSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFB1cmVDbG91ZFNlc3Npb247XG4iLCJcclxuLyoqXHJcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXHJcbiAqL1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcbiAqXHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcclxuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXHJcbiAgICAucHVzaChmbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIGZ1bmN0aW9uIG9uKCkge1xyXG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcclxuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBvbi5mbiA9IGZuO1xyXG4gIHRoaXMub24oZXZlbnQsIG9uKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIC8vIGFsbFxyXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBzcGVjaWZpYyBldmVudFxyXG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxyXG4gIHZhciBjYjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG4iLCJcbi8qKlxuICogUmVkdWNlIGBhcnJgIHdpdGggYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge01peGVkfSBpbml0aWFsXG4gKlxuICogVE9ETzogY29tYmF0aWJsZSBlcnJvciBoYW5kbGluZz9cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyciwgZm4sIGluaXRpYWwpeyAgXG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIGN1cnIgPSBhcmd1bWVudHMubGVuZ3RoID09IDNcbiAgICA/IGluaXRpYWxcbiAgICA6IGFycltpZHgrK107XG5cbiAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgIGN1cnIgPSBmbi5jYWxsKG51bGwsIGN1cnIsIGFycltpZHhdLCArK2lkeCwgYXJyKTtcbiAgfVxuICBcbiAgcmV0dXJuIGN1cnI7XG59OyIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2VtaXR0ZXInKTtcbnZhciByZWR1Y2UgPSByZXF1aXJlKCdyZWR1Y2UnKTtcbnZhciByZXF1ZXN0QmFzZSA9IHJlcXVpcmUoJy4vcmVxdWVzdC1iYXNlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIFJvb3QgcmVmZXJlbmNlIGZvciBpZnJhbWVzLlxuICovXG5cbnZhciByb290O1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IC8vIEJyb3dzZXIgd2luZG93XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyAvLyBXZWIgV29ya2VyXG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIHsgLy8gT3RoZXIgZW52aXJvbm1lbnRzXG4gIHJvb3QgPSB0aGlzO1xufVxuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpe307XG5cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcbiAqIHdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIHRoZXNlIDopXG4gKlxuICogVE9ETzogZnV0dXJlIHByb29mLCBtb3ZlIHRvIGNvbXBvZW50IGxhbmRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNIb3N0KG9iaikge1xuICB2YXIgc3RyID0ge30udG9TdHJpbmcuY2FsbChvYmopO1xuXG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSAnW29iamVjdCBGaWxlXSc6XG4gICAgY2FzZSAnW29iamVjdCBCbG9iXSc6XG4gICAgY2FzZSAnW29iamVjdCBGb3JtRGF0YV0nOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBgcmVxdWVzdGAuXG4gKi9cblxudmFyIHJlcXVlc3QgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpLmJpbmQobnVsbCwgUmVxdWVzdCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3RcbiAgICAgICYmICghcm9vdC5sb2NhdGlvbiB8fCAnZmlsZTonICE9IHJvb3QubG9jYXRpb24ucHJvdG9jb2xcbiAgICAgICAgICB8fCAhcm9vdC5BY3RpdmVYT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC42LjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuMy4wJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxudmFyIHRyaW0gPSAnJy50cmltXG4gID8gZnVuY3Rpb24ocykgeyByZXR1cm4gcy50cmltKCk7IH1cbiAgOiBmdW5jdGlvbihzKSB7IHJldHVybiBzLnJlcGxhY2UoLyheXFxzKnxcXHMqJCkvZywgJycpOyB9O1xuXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgZ2l2ZW4gYG9iamAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIHZhciBwYWlycyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG51bGwgIT0gb2JqW2tleV0pIHtcbiAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICByZXR1cm4gcGFpcnMuam9pbignJicpO1xufVxuXG4vKipcbiAqIEhlbHBzICdzZXJpYWxpemUnIHdpdGggc2VyaWFsaXppbmcgYXJyYXlzLlxuICogTXV0YXRlcyB0aGUgcGFpcnMgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFpcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICovXG5cbmZ1bmN0aW9uIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHZhbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgcmV0dXJuIHZhbC5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgIH0pO1xuICB9XG4gIHBhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSlcbiAgICArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKTtcbn1cblxuLyoqXG4gKiBFeHBvc2Ugc2VyaWFsaXphdGlvbiBtZXRob2QuXG4gKi9cblxuIHJlcXVlc3Quc2VyaWFsaXplT2JqZWN0ID0gc2VyaWFsaXplO1xuXG4gLyoqXG4gICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuICB2YXIgb2JqID0ge307XG4gIHZhciBwYWlycyA9IHN0ci5zcGxpdCgnJicpO1xuICB2YXIgcGFydHM7XG4gIHZhciBwYWlyO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYWlycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHBhaXIgPSBwYWlyc1tpXTtcbiAgICBwYXJ0cyA9IHBhaXIuc3BsaXQoJz0nKTtcbiAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMV0pO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ2FwcGxpY2F0aW9uL3htbCcsXG4gIHVybGVuY29kZWQ6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybS1kYXRhJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbi8qKlxuICogRGVmYXVsdCBzZXJpYWxpemF0aW9uIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24ob2JqKXtcbiAqICAgICAgIHJldHVybiAnZ2VuZXJhdGVkIHhtbCBoZXJlJztcbiAqICAgICB9O1xuICpcbiAqL1xuXG4gcmVxdWVzdC5zZXJpYWxpemUgPSB7XG4gICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnN0cmluZ2lmeVxuIH07XG5cbiAvKipcbiAgKiBEZWZhdWx0IHBhcnNlcnMuXG4gICpcbiAgKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAgKiAgICAgfTtcbiAgKlxuICAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGZpZWxkcyA9IHt9O1xuICB2YXIgaW5kZXg7XG4gIHZhciBsaW5lO1xuICB2YXIgZmllbGQ7XG4gIHZhciB2YWw7XG5cbiAgbGluZXMucG9wKCk7IC8vIHRyYWlsaW5nIENSTEZcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBsaW5lID0gbGluZXNbaV07XG4gICAgaW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgaW5kZXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdHJpbShsaW5lLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIGZpZWxkc1tmaWVsZF0gPSB2YWw7XG4gIH1cblxuICByZXR1cm4gZmllbGRzO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBtaW1lYCBpcyBqc29uIG9yIGhhcyAranNvbiBzdHJ1Y3R1cmVkIHN5bnRheCBzdWZmaXguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1pbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0pTT04obWltZSkge1xuICByZXR1cm4gL1tcXC8rXWpzb25cXGIvLnRlc3QobWltZSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0eXBlKHN0cil7XG4gIHJldHVybiBzdHIuc3BsaXQoLyAqOyAqLykuc2hpZnQoKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcmFtcyhzdHIpe1xuICByZXR1cm4gcmVkdWNlKHN0ci5zcGxpdCgvICo7ICovKSwgZnVuY3Rpb24ob2JqLCBzdHIpe1xuICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgvICo9ICovKVxuICAgICAgLCBrZXkgPSBwYXJ0cy5zaGlmdCgpXG4gICAgICAsIHZhbCA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoa2V5ICYmIHZhbCkgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXNwb25zZWAgd2l0aCB0aGUgZ2l2ZW4gYHhocmAuXG4gKlxuICogIC0gc2V0IGZsYWdzICgub2ssIC5lcnJvciwgZXRjKVxuICogIC0gcGFyc2UgaGVhZGVyXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogIEFsaWFzaW5nIGBzdXBlcmFnZW50YCBhcyBgcmVxdWVzdGAgaXMgbmljZTpcbiAqXG4gKiAgICAgIHJlcXVlc3QgPSBzdXBlcmFnZW50O1xuICpcbiAqICBXZSBjYW4gdXNlIHRoZSBwcm9taXNlLWxpa2UgQVBJLCBvciBwYXNzIGNhbGxiYWNrczpcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJykuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJywgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgU2VuZGluZyBkYXRhIGNhbiBiZSBjaGFpbmVkOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBPciBwYXNzZWQgdG8gYC5zZW5kKClgOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnBvc3QoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqIE9yIGZ1cnRoZXIgcmVkdWNlZCB0byBhIHNpbmdsZSBjYWxsIGZvciBzaW1wbGUgY2FzZXM6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogQHBhcmFtIHtYTUxIVFRQUmVxdWVzdH0geGhyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gUmVzcG9uc2UocmVxLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLnJlcSA9IHJlcTtcbiAgdGhpcy54aHIgPSB0aGlzLnJlcS54aHI7XG4gIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgdGhpcy50ZXh0ID0gKCh0aGlzLnJlcS5tZXRob2QgIT0nSEVBRCcgJiYgKHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgdGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcpKSB8fCB0eXBlb2YgdGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgPyB0aGlzLnhoci5yZXNwb25zZVRleHRcbiAgICAgOiBudWxsO1xuICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnJlcS54aHIuc3RhdHVzVGV4dDtcbiAgdGhpcy5zZXRTdGF0dXNQcm9wZXJ0aWVzKHRoaXMueGhyLnN0YXR1cyk7XG4gIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMgc29tZXRpbWVzIGZhbHNlbHkgcmV0dXJucyBcIlwiIGZvciBDT1JTIHJlcXVlc3RzLCBidXRcbiAgLy8gZ2V0UmVzcG9uc2VIZWFkZXIgc3RpbGwgd29ya3MuIHNvIHdlIGdldCBjb250ZW50LXR5cGUgZXZlbiBpZiBnZXR0aW5nXG4gIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgdGhpcy5zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtcbiAgdGhpcy5ib2R5ID0gdGhpcy5yZXEubWV0aG9kICE9ICdIRUFEJ1xuICAgID8gdGhpcy5wYXJzZUJvZHkodGhpcy50ZXh0ID8gdGhpcy50ZXh0IDogdGhpcy54aHIucmVzcG9uc2UpXG4gICAgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGBmaWVsZGAgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuc2V0SGVhZGVyUHJvcGVydGllcyA9IGZ1bmN0aW9uKGhlYWRlcil7XG4gIC8vIGNvbnRlbnQtdHlwZVxuICB2YXIgY3QgPSB0aGlzLmhlYWRlclsnY29udGVudC10eXBlJ10gfHwgJyc7XG4gIHRoaXMudHlwZSA9IHR5cGUoY3QpO1xuXG4gIC8vIHBhcmFtc1xuICB2YXIgb2JqID0gcGFyYW1zKGN0KTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikgdGhpc1trZXldID0gb2JqW2tleV07XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBib2R5IGBzdHJgLlxuICpcbiAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcbiAqIGFyZSBkZWZpbmVkIG9uIHRoZSBgc3VwZXJhZ2VudC5wYXJzZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnBhcnNlQm9keSA9IGZ1bmN0aW9uKHN0cil7XG4gIHZhciBwYXJzZSA9IHJlcXVlc3QucGFyc2VbdGhpcy50eXBlXTtcbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG4gIHJldHVybiBwYXJzZSAmJiBzdHIgJiYgKHN0ci5sZW5ndGggfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aWxsIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaWxhYmxlIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2xvcnMgZXRjLlxuICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudFxuICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZFxuICogICAtIC5ub3RBY2NlcHRhYmxlXG4gKiAgIC0gLm5vdEZvdW5kXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnNldFN0YXR1c1Byb3BlcnRpZXMgPSBmdW5jdGlvbihzdGF0dXMpe1xuICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICBzdGF0dXMgPSAyMDQ7XG4gIH1cblxuICB2YXIgdHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgLy8gc3RhdHVzIC8gY2xhc3NcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXM7XG4gIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cbiAgLy8gYmFzaWNzXG4gIHRoaXMuaW5mbyA9IDEgPT0gdHlwZTtcbiAgdGhpcy5vayA9IDIgPT0gdHlwZTtcbiAgdGhpcy5jbGllbnRFcnJvciA9IDQgPT0gdHlwZTtcbiAgdGhpcy5zZXJ2ZXJFcnJvciA9IDUgPT0gdHlwZTtcbiAgdGhpcy5lcnJvciA9ICg0ID09IHR5cGUgfHwgNSA9PSB0eXBlKVxuICAgID8gdGhpcy50b0Vycm9yKClcbiAgICA6IGZhbHNlO1xuXG4gIC8vIHN1Z2FyXG4gIHRoaXMuYWNjZXB0ZWQgPSAyMDIgPT0gc3RhdHVzO1xuICB0aGlzLm5vQ29udGVudCA9IDIwNCA9PSBzdGF0dXM7XG4gIHRoaXMuYmFkUmVxdWVzdCA9IDQwMCA9PSBzdGF0dXM7XG4gIHRoaXMudW5hdXRob3JpemVkID0gNDAxID09IHN0YXR1cztcbiAgdGhpcy5ub3RBY2NlcHRhYmxlID0gNDA2ID09IHN0YXR1cztcbiAgdGhpcy5ub3RGb3VuZCA9IDQwNCA9PSBzdGF0dXM7XG4gIHRoaXMuZm9yYmlkZGVuID0gNDAzID09IHN0YXR1cztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgcmVxID0gdGhpcy5yZXE7XG4gIHZhciBtZXRob2QgPSByZXEubWV0aG9kO1xuICB2YXIgdXJsID0gcmVxLnVybDtcblxuICB2YXIgbXNnID0gJ2Nhbm5vdCAnICsgbWV0aG9kICsgJyAnICsgdXJsICsgJyAoJyArIHRoaXMuc3RhdHVzICsgJyknO1xuICB2YXIgZXJyID0gbmV3IEVycm9yKG1zZyk7XG4gIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgZXJyLm1ldGhvZCA9IG1ldGhvZDtcbiAgZXJyLnVybCA9IHVybDtcblxuICByZXR1cm4gZXJyO1xufTtcblxuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlYC5cbiAqL1xuXG5yZXF1ZXN0LlJlc3BvbnNlID0gUmVzcG9uc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVxdWVzdGAgd2l0aCB0aGUgZ2l2ZW4gYG1ldGhvZGAgYW5kIGB1cmxgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdChtZXRob2QsIHVybCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcbiAgdGhpcy5faGVhZGVyID0ge307IC8vIGNvZXJjZXMgaGVhZGVyIG5hbWVzIHRvIGxvd2VyY2FzZVxuICB0aGlzLm9uKCdlbmQnLCBmdW5jdGlvbigpe1xuICAgIHZhciBlcnIgPSBudWxsO1xuICAgIHZhciByZXMgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShzZWxmKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGVyciA9IG5ldyBFcnJvcignUGFyc2VyIGlzIHVuYWJsZSB0byBwYXJzZSB0aGUgcmVzcG9uc2UnKTtcbiAgICAgIGVyci5wYXJzZSA9IHRydWU7XG4gICAgICBlcnIub3JpZ2luYWwgPSBlO1xuICAgICAgLy8gaXNzdWUgIzY3NTogcmV0dXJuIHRoZSByYXcgcmVzcG9uc2UgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgIGVyci5yYXdSZXNwb25zZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnJlc3BvbnNlVGV4dCA/IHNlbGYueGhyLnJlc3BvbnNlVGV4dCA6IG51bGw7XG4gICAgICAvLyBpc3N1ZSAjODc2OiByZXR1cm4gdGhlIGh0dHAgc3RhdHVzIGNvZGUgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgIGVyci5zdGF0dXNDb2RlID0gc2VsZi54aHIgJiYgc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgIHJldHVybiBzZWxmLmNhbGxiYWNrKGVycik7XG4gICAgfVxuXG4gICAgc2VsZi5lbWl0KCdyZXNwb25zZScsIHJlcyk7XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPCAzMDApIHtcbiAgICAgIHJldHVybiBzZWxmLmNhbGxiYWNrKGVyciwgcmVzKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcbiAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuICAgIG5ld19lcnIucmVzcG9uc2UgPSByZXM7XG4gICAgbmV3X2Vyci5zdGF0dXMgPSByZXMuc3RhdHVzO1xuXG4gICAgc2VsZi5jYWxsYmFjayhuZXdfZXJyLCByZXMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGByZXF1ZXN0QmFzZWAuXG4gKi9cblxuRW1pdHRlcihSZXF1ZXN0LnByb3RvdHlwZSk7XG5mb3IgKHZhciBrZXkgaW4gcmVxdWVzdEJhc2UpIHtcbiAgUmVxdWVzdC5wcm90b3R5cGVba2V5XSA9IHJlcXVlc3RCYXNlW2tleV07XG59XG5cbi8qKlxuICogQWJvcnQgdGhlIHJlcXVlc3QsIGFuZCBjbGVhciBwb3RlbnRpYWwgdGltZW91dC5cbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLmFib3J0ZWQpIHJldHVybjtcbiAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgdGhpcy54aHIgJiYgdGhpcy54aHIuYWJvcnQoKTtcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy5lbWl0KCdhYm9ydCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IENvbnRlbnQtVHlwZSB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgnYXBwbGljYXRpb24veG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24odHlwZSl7XG4gIHRoaXMuc2V0KCdDb250ZW50LVR5cGUnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHJlc3BvbnNlVHlwZSB0byBgdmFsYC4gUHJlc2VudGx5IHZhbGlkIHJlc3BvbnNlVHlwZXMgYXJlICdibG9iJyBhbmQgXG4gKiAnYXJyYXlidWZmZXInLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnJlc3BvbnNlVHlwZSA9IGZ1bmN0aW9uKHZhbCl7XG4gIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMuanNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjY2VwdFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBdXRob3JpemF0aW9uIGZpZWxkIHZhbHVlIHdpdGggYHVzZXJgIGFuZCBgcGFzc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycgb3IgJ2Jhc2ljJyAoZGVmYXVsdCAnYmFzaWMnKVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF1dGggPSBmdW5jdGlvbih1c2VyLCBwYXNzLCBvcHRpb25zKXtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHR5cGU6ICdiYXNpYydcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIHZhciBzdHIgPSBidG9hKHVzZXIgKyAnOicgKyBwYXNzKTtcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBzdHIpO1xuICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYXV0byc6XG4gICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcjtcbiAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzO1xuICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4qIEFkZCBxdWVyeS1zdHJpbmcgYHZhbGAuXG4qXG4qIEV4YW1wbGVzOlxuKlxuKiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuKiAgICAgLnF1ZXJ5KCdzaXplPTEwJylcbiogICAgIC5xdWVyeSh7IGNvbG9yOiAnYmx1ZScgfSlcbipcbiogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSB2YWxcbiogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4qIEBhcGkgcHVibGljXG4qL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uKHZhbCl7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgdmFsKSB2YWwgPSBzZXJpYWxpemUodmFsKTtcbiAgaWYgKHZhbCkgdGhpcy5fcXVlcnkucHVzaCh2YWwpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUXVldWUgdGhlIGdpdmVuIGBmaWxlYCBhcyBhbiBhdHRhY2htZW50IHRvIHRoZSBzcGVjaWZpZWQgYGZpZWxkYCxcbiAqIHdpdGggb3B0aW9uYWwgYGZpbGVuYW1lYC5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5hdHRhY2gobmV3IEJsb2IoWyc8YSBpZD1cImFcIj48YiBpZD1cImJcIj5oZXkhPC9iPjwvYT4nXSwgeyB0eXBlOiBcInRleHQvaHRtbFwifSkpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcGFyYW0ge0Jsb2J8RmlsZX0gZmlsZVxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24oZmllbGQsIGZpbGUsIGZpbGVuYW1lKXtcbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQoZmllbGQsIGZpbGUsIGZpbGVuYW1lIHx8IGZpbGUubmFtZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuX2dldEZvcm1EYXRhID0gZnVuY3Rpb24oKXtcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSkge1xuICAgIHRoaXMuX2Zvcm1EYXRhID0gbmV3IHJvb3QuRm9ybURhdGEoKTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZm9ybURhdGE7XG59O1xuXG4vKipcbiAqIFNlbmQgYGRhdGFgIGFzIHRoZSByZXF1ZXN0IGJvZHksIGRlZmF1bHRpbmcgdGhlIGAudHlwZSgpYCB0byBcImpzb25cIiB3aGVuXG4gKiBhbiBvYmplY3QgaXMgZ2l2ZW4uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICAgLy8gbWFudWFsIGpzb25cbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnanNvbicpXG4gKiAgICAgICAgIC5zZW5kKCd7XCJuYW1lXCI6XCJ0alwifScpXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gYXV0byBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gbWFudWFsIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoJ25hbWU9dGonKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2Zvcm0nKVxuICogICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBkZWZhdWx0cyB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICAqICAgICAgICAuc2VuZCgnbmFtZT10b2JpJylcbiAgKiAgICAgICAgLnNlbmQoJ3NwZWNpZXM9ZmVycmV0JylcbiAgKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSl7XG4gIHZhciBvYmogPSBpc09iamVjdChkYXRhKTtcbiAgdmFyIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuXG4gIC8vIG1lcmdlXG4gIGlmIChvYmogJiYgaXNPYmplY3QodGhpcy5fZGF0YSkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgdGhpcy5fZGF0YVtrZXldID0gZGF0YVtrZXldO1xuICAgIH1cbiAgfSBlbHNlIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgZGF0YSkge1xuICAgIGlmICghdHlwZSkgdGhpcy50eXBlKCdmb3JtJyk7XG4gICAgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgaWYgKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnID09IHR5cGUpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kYXRhXG4gICAgICAgID8gdGhpcy5fZGF0YSArICcmJyArIGRhdGFcbiAgICAgICAgOiBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kYXRhID0gKHRoaXMuX2RhdGEgfHwgJycpICsgZGF0YTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoIW9iaiB8fCBpc0hvc3QoZGF0YSkpIHJldHVybiB0aGlzO1xuICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnanNvbicpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuUmVzcG9uc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gc2VyaWFsaXplKGZuKXtcbiAgaWYgKHJvb3QuY29uc29sZSkge1xuICAgIGNvbnNvbGUud2FybihcIkNsaWVudC1zaWRlIHBhcnNlKCkgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gc2VyaWFsaXplKCkuIFRoaXMgbWV0aG9kIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggc3VwZXJhZ2VudCB2Mi4wXCIpO1xuICB9XG4gIHRoaXMuc2VyaWFsaXplKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXNwb25zZS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24gc2VyaWFsaXplKGZuKXtcbiAgdGhpcy5fcGFyc2VyID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgdmFyIGZuID0gdGhpcy5fY2FsbGJhY2s7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIGZuKGVyciwgcmVzKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggeC1kb21haW4gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50aW1lb3V0RXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3RpbWVvdXQgb2YgJyArIHRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnKTtcbiAgZXJyLnRpbWVvdXQgPSB0aW1lb3V0O1xuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0cmFuc21pc3Npb24gb2YgY29va2llcyB3aXRoIHgtZG9tYWluIHJlcXVlc3RzLlxuICpcbiAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcbiAqIHVzaW5nIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIgd2l0aCBhIHdpbGRjYXJkLFxuICogYW5kIGFsc28gbXVzdCBzZXQgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiXG4gKiB0byBcInRydWVcIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcbiAqIHdpdGggYW4gaW5zdGFuY2VvZiBgUmVzcG9uc2VgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZm4pe1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB4aHIgPSB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG4gIHZhciBxdWVyeSA9IHRoaXMuX3F1ZXJ5LmpvaW4oJyYnKTtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHN0YXRlIGNoYW5nZVxuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoNCAhPSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuICAgIHZhciBzdGF0dXM7XG4gICAgdHJ5IHsgc3RhdHVzID0geGhyLnN0YXR1cyB9IGNhdGNoKGUpIHsgc3RhdHVzID0gMDsgfVxuXG4gICAgaWYgKDAgPT0gc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCkgcmV0dXJuIHNlbGYudGltZW91dEVycm9yKCk7XG4gICAgICBpZiAoc2VsZi5hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgdmFyIGhhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24oZSl7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgfVxuICAgIGUuZGlyZWN0aW9uID0gJ2Rvd25sb2FkJztcbiAgICBzZWxmLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gIH07XG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAoeGhyLnVwbG9hZCAmJiB0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gICAgfVxuICB9IGNhdGNoKGUpIHtcbiAgICAvLyBBY2Nlc3NpbmcgeGhyLnVwbG9hZCBmYWlscyBpbiBJRSBmcm9tIGEgd2ViIHdvcmtlciwgc28ganVzdCBwcmV0ZW5kIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzgzNzI0NS94bWxodHRwcmVxdWVzdC11cGxvYWQtdGhyb3dzLWludmFsaWQtYXJndW1lbnQtd2hlbi11c2VkLWZyb20td2ViLXdvcmtlci1jb250ZXh0XG4gIH1cblxuICAvLyB0aW1lb3V0XG4gIGlmICh0aW1lb3V0ICYmICF0aGlzLl90aW1lcikge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgc2VsZi50aW1lZG91dCA9IHRydWU7XG4gICAgICBzZWxmLmFib3J0KCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICAvLyBxdWVyeXN0cmluZ1xuICBpZiAocXVlcnkpIHtcbiAgICBxdWVyeSA9IHJlcXVlc3Quc2VyaWFsaXplT2JqZWN0KHF1ZXJ5KTtcbiAgICB0aGlzLnVybCArPSB+dGhpcy51cmwuaW5kZXhPZignPycpXG4gICAgICA/ICcmJyArIHF1ZXJ5XG4gICAgICA6ICc/JyArIHF1ZXJ5O1xuICB9XG5cbiAgLy8gaW5pdGlhdGUgcmVxdWVzdFxuICBpZiAodGhpcy51c2VybmFtZSAmJiB0aGlzLnBhc3N3b3JkKSB7XG4gICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlLCB0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKTtcbiAgfSBlbHNlIHtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUpO1xuICB9XG5cbiAgLy8gQ09SU1xuICBpZiAodGhpcy5fd2l0aENyZWRlbnRpYWxzKSB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblxuICAvLyBib2R5XG4gIGlmICgnR0VUJyAhPSB0aGlzLm1ldGhvZCAmJiAnSEVBRCcgIT0gdGhpcy5tZXRob2QgJiYgJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgJiYgIWlzSG9zdChkYXRhKSkge1xuICAgIC8vIHNlcmlhbGl6ZSBzdHVmZlxuICAgIHZhciBjb250ZW50VHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX3BhcnNlciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0YC5cbiAqL1xuXG5yZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBkYXRhIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5nZXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IGRhdGEgb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LmhlYWQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0hFQUQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlbCh1cmwsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG5yZXF1ZXN0WydkZWwnXSA9IGRlbDtcbnJlcXVlc3RbJ2RlbGV0ZSddID0gZGVsO1xuXG4vKipcbiAqIFBBVENIIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gZGF0YVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucGF0Y2ggPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IGRhdGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBkYXRhIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wdXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BVVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuIiwiLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbnVsbCAhPSBvYmogJiYgJ29iamVjdCcgPT0gdHlwZW9mIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsIi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gX2NsZWFyVGltZW91dCgpe1xuICB0aGlzLl90aW1lb3V0ID0gMDtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEZvcmNlIGdpdmVuIHBhcnNlclxuICpcbiAqIFNldHMgdGhlIGJvZHkgcGFyc2VyIG5vIG1hdHRlciB0eXBlLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiBwYXJzZShmbil7XG4gIHRoaXMuX3BhcnNlciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRpbWVvdXQgdG8gYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnRpbWVvdXQgPSBmdW5jdGlvbiB0aW1lb3V0KG1zKXtcbiAgdGhpcy5fdGltZW91dCA9IG1zO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmF1eCBwcm9taXNlIHN1cHBvcnRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RcbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKi9cblxuZXhwb3J0cy50aGVuID0gZnVuY3Rpb24gdGhlbihmdWxmaWxsLCByZWplY3QpIHtcbiAgcmV0dXJuIHRoaXMuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gICAgZXJyID8gcmVqZWN0KGVycikgOiBmdWxmaWxsKHJlcyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEFsbG93IGZvciBleHRlbnNpb25cbiAqL1xuXG5leHBvcnRzLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICBmbih0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblxuLyoqXG4gKiBHZXQgcmVxdWVzdCBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICByZXR1cm4gdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xufTtcblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBoZWFkZXIgYGZpZWxkYCB2YWx1ZS5cbiAqIFRoaXMgaXMgYSBkZXByZWNhdGVkIGludGVybmFsIEFQSS4gVXNlIGAuZ2V0KGZpZWxkKWAgaW5zdGVhZC5cbiAqXG4gKiAoZ2V0SGVhZGVyIGlzIG5vIGxvbmdlciB1c2VkIGludGVybmFsbHkgYnkgdGhlIHN1cGVyYWdlbnQgY29kZSBiYXNlKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKiBAZGVwcmVjYXRlZFxuICovXG5cbmV4cG9ydHMuZ2V0SGVhZGVyID0gZXhwb3J0cy5nZXQ7XG5cbi8qKlxuICogU2V0IGhlYWRlciBgZmllbGRgIHRvIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0LlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuc2V0KCdYLUFQSS1LZXknLCAnZm9vYmFyJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuc2V0ID0gZnVuY3Rpb24oZmllbGQsIHZhbCl7XG4gIGlmIChpc09iamVjdChmaWVsZCkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZmllbGQpIHtcbiAgICAgIHRoaXMuc2V0KGtleSwgZmllbGRba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXSA9IHZhbDtcbiAgdGhpcy5oZWFkZXJbZmllbGRdID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnVuc2V0KCdVc2VyLUFnZW50JylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqL1xuZXhwb3J0cy51bnNldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbiAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgIGZvciBcIm11bHRpcGFydC9mb3JtLWRhdGFcIlxuICogcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xCbG9ifEZpbGV8QnVmZmVyfGZzLlJlYWRTdHJlYW19IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKG5hbWUsIHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcbiIsIi8vIFRoZSBub2RlIGFuZCBicm93c2VyIG1vZHVsZXMgZXhwb3NlIHZlcnNpb25zIG9mIHRoaXMgd2l0aCB0aGVcbi8vIGFwcHJvcHJpYXRlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGJvdW5kIGFzIGZpcnN0IGFyZ3VtZW50XG4vKipcbiAqIElzc3VlIGEgcmVxdWVzdDpcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICByZXF1ZXN0KCdHRVQnLCAnL3VzZXJzJykuZW5kKGNhbGxiYWNrKVxuICogICAgcmVxdWVzdCgnL3VzZXJzJykuZW5kKGNhbGxiYWNrKVxuICogICAgcmVxdWVzdCgnL3VzZXJzJywgY2FsbGJhY2spXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHVybCBvciBjYWxsYmFja1xuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcmVxdWVzdChSZXF1ZXN0Q29uc3RydWN0b3IsIG1ldGhvZCwgdXJsKSB7XG4gIC8vIGNhbGxiYWNrXG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiB1cmwpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcignR0VUJywgbWV0aG9kKS5lbmQodXJsKTtcbiAgfVxuXG4gIC8vIHVybCBmaXJzdFxuICBpZiAoMiA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0Q29uc3RydWN0b3IoJ0dFVCcsIG1ldGhvZCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcihtZXRob2QsIHVybCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWVzdDtcbiJdfQ==
